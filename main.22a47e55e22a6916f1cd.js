(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return l}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return f}),n.d(e,"__spread",function(){return g}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return m}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return _}),n.d(e,"__makeTemplateObject",function(){return b}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return C});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{!function(t){t.value instanceof y?Promise.resolve(t.value.v).then(u,l):c(o[0][2],t)}(i[t](e))}catch(t){c(o[0][3],t)}}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e})}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):p(t)}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},3:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n("wj3C")),i=n("q/0M"),o=n("os0x"),a=n("FGoP"),s=r.SDK_VERSION,u=new i.Logger("@firebase/firestore"),l=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function c(){return u.logLevel===i.LogLevel.DEBUG?l.DEBUG:u.logLevel===i.LogLevel.SILENT?l.SILENT:l.ERROR}function h(t){switch(t){case l.DEBUG:u.logLevel=i.LogLevel.DEBUG;break;case l.ERROR:u.logLevel=i.LogLevel.ERROR;break;case l.SILENT:u.logLevel=i.LogLevel.SILENT;break;default:u.error("Firestore ("+s+"): Invalid value passed to `setLogLevel`")}}function d(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(u.logLevel<=i.LogLevel.DEBUG){var o=n.map(f);u.debug.apply(u,["Firestore ("+s+") ["+t+"]: "+e].concat(o))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(u.logLevel<=i.LogLevel.ERROR){var r=e.map(f);u.error.apply(u,["Firestore ("+s+"): "+t].concat(r))}}function f(t){if("string"==typeof t)return t;var e=m.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function g(t){var e="FIRESTORE ("+s+") INTERNAL ASSERTION FAILED: "+t;throw p(e),new Error(e)}function y(t,e){t||g(e)}var m=function(){function t(){}return t.setPlatform=function(e){t.platform&&g("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||g("Platform not set"),t.platform},t}();function v(){return m.getPlatform().emptyByteString}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},b=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(e,t),e}(Error);function w(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new b(_.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t,e){return void 0!==t?t:e}function S(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A(t){for(var e in y(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function T(t,e,n){if(e.length!==n)throw new b(_.INVALID_ARGUMENT,"Function "+t+"() requires "+z(n,"argument")+", but was called with "+z(e.length,"argument")+".")}function I(t,e,n){if(e.length<n)throw new b(_.INVALID_ARGUMENT,"Function "+t+"() requires at least "+z(n,"argument")+", but was called with "+z(e.length,"argument")+".")}function R(t,e,n,r){if(e.length<n||e.length>r)throw new b(_.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+z(e.length,"argument")+".")}function O(t,e,n,r){M(t,e,V(n)+" argument",r)}function P(t,e,n,r){void 0!==r&&O(t,e,n,r)}function D(t,e,n,r){M(t,e,n+" option",r)}function N(t,e,n,r){void 0!==r&&D(t,e,n,r)}function x(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(F(u))}var l=F(r);throw new b(_.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function M(t,e,n,r){if(typeof r!==e||"object"===e&&!L(r)){var i=F(r);throw new b(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function L(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function F(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":g("Unknown wrong type: "+typeof t)}function B(t,e,n){if(void 0===n)throw new b(_.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+V(e)+" argument, but it was undefined.")}function j(t,e,n){k(e,function(e,r){if(n.indexOf(e)<0)throw new b(_.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function U(t,e,n,r){var i=F(r);return new b(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+V(n)+" argument to be a "+e+", but it was: "+i)}function V(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function z(t,e){return t+" "+e+(1===t?"":"s")}var q=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return y(20===e.length,"Invalid auto ID: "+e),e},t}();function H(t,e){return t<e?-1:t>e?1:0}function G(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function K(){if("undefined"==typeof Uint8Array)throw new b(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function W(){if(!m.getPlatform().base64Available)throw new b(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Q=function(){function t(t){W(),this._binaryString=t}return t.fromBase64String=function(e){T("Blob.fromBase64String",arguments,1),O("Blob.fromBase64String","string",1,e),W();try{return new t(m.getPlatform().atob(e))}catch(t){throw new b(_.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(T("Blob.fromUint8Array",arguments,1),K(),!(e instanceof Uint8Array))throw U("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return T("Blob.toBase64",arguments,0),W(),m.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){T("Blob.toUint8Array",arguments,0),K();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return H(this._binaryString,t._binaryString)},t}(),$=w(Q,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Y=function(){function t(t,e){if(T("GeoPoint",arguments,2),O("GeoPoint","number",1,t),O("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new b(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new b(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return H(this._lat,t._lat)||H(this._long,t._long)},t}(),X=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new b(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new b(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new b(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new b(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?H(this.nanoseconds,t.nanoseconds):H(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),J="(default)",Z=function(){function t(t,e){this.projectId=t,this.database=e||J}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===J},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return H(this.projectId,t.projectId)||H(this.database,t.database)},t}(),tt=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&g("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&g("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):g("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return y(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return y(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return y(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return y(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return y(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new b(_.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(tt),nt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.isValidIdentifier=function(t){return nt.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new b(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new b(_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new b(_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(tt),it=function(){function t(e){this.path=e,y(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===et.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return et.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new et(e.slice()))},t.fromPathString=function(e){return new t(et.fromString(e))},t.EMPTY=new t(new et([])),t}(),ot=function(){function t(t,e,n,r){this.key=t,this.version=e,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return t.prototype.field=function(t){return this.data.field(t)},t.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"})"},t.compareByKey=function(t,e){return it.comparator(t.key,e.key)},t.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):g("Trying to compare documents on fields that don't exist")},t}(),at=function(){function t(t,e){this.key=t,this.version=e}return t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},t.prototype.isEqual=function(t){return t&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},t.compareByKey=function(t,e){return it.comparator(t.key,e.key)},t}(),st=function(){function t(t,e){this.comparator=t,this.root=e||lt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ut(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ut(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ut(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ut(this.root,t,this.comparator,!0)},t}(),ut=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){y(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),lt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw g("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw g("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}();lt.EMPTY=new(function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new lt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ct=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),ht=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),dt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(ht.Estimate,n);case"previous":return new t(ht.Previous,n);case"none":case void 0:return new t(ht.Default,n);default:return g("fromSnapshotOptions() called with invalid options.")}},t}(),pt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return y(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),H(this.typeOrder,t.typeOrder)},t}(),ft=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=ct.NullValue,e.internalValue=null,e}return o.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(pt),gt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ct.BooleanValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?H(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(pt),yt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ct.NumberValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?function(t,e){return t<e?-1:t>e?1:t===e?0:isNaN(t)?isNaN(e)?0:-1:1}(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(pt);function mt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var vt=function(t){function e(e){return t.call(this,e)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&mt(this.internalValue,t.internalValue)},e}(yt),_t=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&mt(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(yt),bt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ct.StringValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?H(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(pt),wt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ct.TimestampValue,n}return o.__extends(e,t),e.prototype.value=function(t){return t&&t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Ct?-1:this.defaultCompareTo(t)},e}(pt),Ct=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=ct.TimestampValue,r}return o.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===ht.Estimate?new wt(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===ht.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof wt?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(pt),Et=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ct.BlobValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(pt),St=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=ct.RefValue,r}return o.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:it.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(pt),kt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ct.GeoPointValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(pt),At=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ct.ObjectValue,n}return o.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=H(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return H(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(y(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(y(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){y(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new st(H)),e}(pt),Tt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ct.ArrayValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return H(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(pt),It=Number,Rt=It.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Ot=It.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Pt=It.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Dt(t){return null===t||void 0===t}var Nt=function(){function t(t,e,n,r,i,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[zt]:[new Vt(t),zt];else{y(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:jt.ASCENDING)===jt.ASCENDING?zt:qt)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){y(null==this.getInequalityFilterField()||!(e instanceof Lt)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),y(!it.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){y(!it.isDocumentKey(this.path),"No ordering allowed for document query"),y(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";Dt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Dt(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return y(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Dt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Lt&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Lt&&t.op===Mt.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return it.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return it.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){y(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),xt=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(ft.INSTANCE)){if(e!==Mt.EQUAL)throw new b(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Ft(t)}if(n.isEqual(_t.NAN)){if(e!==Mt.EQUAL)throw new b(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Bt(t)}return new Lt(t,e,n)},t}(),Mt=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return g("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Lt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return o.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){y(this.value instanceof St,"Comparing on key, but filter value not a RefValue"),y(this.op!==Mt.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=it.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},e.prototype.matchesValue=function(t){var e=this;return this.op===Mt.ARRAY_CONTAINS?t instanceof Tt&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Mt.LESS_THAN:return t<0;case Mt.LESS_THAN_OR_EQUAL:return t<=0;case Mt.EQUAL:return 0===t;case Mt.GREATER_THAN:return t>0;case Mt.GREATER_THAN_OR_EQUAL:return t>=0;default:return g("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==Mt.EQUAL&&this.op!==Mt.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(xt),Ft=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(xt),Bt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field).value();return"number"==typeof e&&isNaN(e)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(xt),jt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Ut=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){y(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())y(o instanceof St,"Bound has a non-key value where the key path is being used."),n=it.comparator(o.key,e.key);else{var a=e.field(i.field);y(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===jt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),Vt=function(){function t(t,e){this.field=t,void 0===e&&(e=jt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ot.compareByKey(t,e):ot.compareByField(this.field,t,e);switch(this.dir){case jt.ASCENDING:return n;case jt.DESCENDING:return-1*n;default:return g("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),zt=new Vt(rt.keyField(),jt.ASCENDING),qt=new Vt(rt.keyField(),jt.DESCENDING),Ht=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new X(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new X(0,0)),t}(),Gt=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),Kt=function(){function t(t,e,n,r,i){void 0===r&&(r=Ht.MIN),void 0===i&&(i=v()),this.query=t,this.targetId=e,this.purpose=n,this.snapshotVersion=r,this.resumeToken=i}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),Wt=function(){function t(t){this.fields=t}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return G(this.fields,t.fields)},t}(),Qt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),$t=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),Yt=function(){function t(t,e){this.updateTime=t,this.exists=e,y(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ot&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists?t instanceof ot:null===t||t instanceof at:(y(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return function(t,e){return null!==t&&void 0!==t?!(!e||!t.isEqual(e)):t===e}(this.updateTime,t.updateTime)&&this.exists===t.exists},t.NONE=new t,t}(),Xt=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&y(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ot?t.version:Ht.MIN},t}(),Jt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=$t.Set,i}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by SetMutation.");var n=Xt.getPostMutationVersion(t);return new ot(this.key,n,this.value,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Xt.getPostMutationVersion(t);return new ot(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(Xt),Zt=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=$t.Patch,o}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return t;var n=Xt.getPostMutationVersion(t),r=this.patchDocument(t);return new ot(this.key,n,r,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Xt.getPostMutationVersion(t),i=this.patchDocument(t);return new ot(this.key,r,i,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof ot?t.data:At.EMPTY)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e],i=this.data.field(r);t=void 0!==i?t.set(r,i):t.delete(r)}return t},e}(Xt),te=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=$t.Transform,r.precondition=Yt.exists(!0),r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return t;var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=this.transformObject(n.data,r);return new ot(this.key,n.version,i,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new ot(this.key,r.version,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&G(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){y(t instanceof ot,"Unknown MaybeDocument type "+t);var e=t;return y(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];y(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof ot&&(a=t.field(i.field)||null),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;e instanceof ot&&(s=e.field(o.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){y(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(Xt),ee=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=$t.Delete,r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by DeleteMutation."),new at(this.key,Ht.MIN)},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&y(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new at(this.key,Ht.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(Xt),ne=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),re=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function ie(t){switch(t){case _.OK:return g("Treated status OK as error");case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return g("Unknown status code: "+t)}}function oe(t){if(void 0===t)return p("GRPC error has no .code"),_.UNKNOWN;switch(t){case re.OK:return _.OK;case re.CANCELLED:return _.CANCELLED;case re.UNKNOWN:return _.UNKNOWN;case re.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case re.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case re.INTERNAL:return _.INTERNAL;case re.UNAVAILABLE:return _.UNAVAILABLE;case re.UNAUTHENTICATED:return _.UNAUTHENTICATED;case re.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case re.NOT_FOUND:return _.NOT_FOUND;case re.ALREADY_EXISTS:return _.ALREADY_EXISTS;case re.PERMISSION_DENIED:return _.PERMISSION_DENIED;case re.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case re.ABORTED:return _.ABORTED;case re.OUT_OF_RANGE:return _.OUT_OF_RANGE;case re.UNIMPLEMENTED:return _.UNIMPLEMENTED;case re.DATA_LOSS:return _.DATA_LOSS;default:return g("Unknown status code: "+t)}}var ae=function(){function t(t){this.comparator=t,this.data=new st(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),se=new st(it.comparator);function ue(){return se}var le=new st(it.comparator);function ce(){return le}var he=new st(it.comparator);function de(){return he}var pe=new ae(it.comparator);function fe(){return pe}var ge=function(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i},ye=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),me=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),ve=function(){function t(){this.changeMap=new st(it.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==ye.Added&&n.type===ye.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===ye.Metadata&&n.type!==ye.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===ye.Modified&&n.type===ye.Modified?this.changeMap=this.changeMap.insert(e,{type:ye.Modified,doc:t.doc}):t.type===ye.Modified&&n.type===ye.Added?this.changeMap=this.changeMap.insert(e,{type:ye.Added,doc:t.doc}):t.type===ye.Removed&&n.type===ye.Added?this.changeMap=this.changeMap.remove(e):t.type===ye.Removed&&n.type===ye.Modified?this.changeMap=this.changeMap.insert(e,{type:ye.Removed,doc:n.doc}):t.type===ye.Added&&n.type===ye.Removed?this.changeMap=this.changeMap.insert(e,{type:ye.Modified,doc:t.doc}):g("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),_e=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.fromCache=i,this.hasPendingWrites=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.prototype.isEqual=function(t){if(this.fromCache!==t.fromCache||this.hasPendingWrites!==t.hasPendingWrites||this.syncStateChanged!==t.syncStateChanged||!this.query.isEqual(t.query)||!this.docs.isEqual(t.docs)||!this.oldDocs.isEqual(t.oldDocs))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),be=function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r},we=function(t,e){this.targetId=t,this.existenceFilter=e},Ce=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Ee=function(){return function(t,e,n,r){void 0===n&&(n=v()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Se=function(){function t(){this.pendingResponses=0,this.documentChanges=Te(),this._resumeToken=v(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=fe(),e=fe(),n=fe();return this.documentChanges.forEach(function(r,i){switch(i){case ye.Added:t=t.add(r);break;case ye.Modified:e=e.add(r);break;case ye.Removed:n=n.add(r);break;default:g("Encountered invalid change type: "+i)}}),new function(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Te()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),ke=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=ue(),this.pendingDocumentTargetMapping=Ae(),this.pendingTargetResets=new ae(H)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof ot?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof at&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.removeDocumentFromTarget(r=o[i],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Ce.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Ce.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Ce.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),y(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Ce.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Ce.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:g("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):S(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new it(i.path);this.removeDocumentFromTarget(e,o,new at(o,Ht.forDeletedDoc()))}else y(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};S(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new it(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new at(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=fe();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Gt.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ge(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=ue(),this.pendingDocumentTargetMapping=Ae(),this.pendingTargetResets=new ae(H),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?ye.Modified:ye.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,ye.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Se),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new ae(H),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;y(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Se,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Ae(){return new st(it.comparator)}function Te(){return new st(it.comparator)}var Ie=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Ct(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),Re=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Pe(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Tt(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}(),Oe=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Pe(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Tt(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}();function Pe(t){return t instanceof Tt?t.internalValue.slice():[]}var De=function(){var t={};return t[jt.ASCENDING.name]="ASCENDING",t[jt.DESCENDING.name]="DESCENDING",t}(),Ne=function(){var t={};return t[Mt.LESS_THAN.name]="LESS_THAN",t[Mt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[Mt.GREATER_THAN.name]="GREATER_THAN",t[Mt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[Mt.EQUAL.name]="EQUAL",t[Mt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",t}(),xe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Me(t,e){y(!Dt(t),e+" is missing")}function Le(t){return"number"==typeof t?t:"string"==typeof t?Number(t):g("can't parse "+t)}var Fe=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?_.UNKNOWN:oe(t.code);return new b(e,t.message||"")},t.prototype.toInt32Value=function(t){return Dt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Dt(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);y(!!t,"Cannot deserialize null or undefined timestamp.");var e=Le(t.seconds||"0");return new X(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=xe.exec(t);if(y(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new X(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(y(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Q.fromBase64String(t)):(y(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),Q.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return y(!!t,"Trying to deserialize version that isn't set"),Ht.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=et.fromString(t);return y(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return y(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),y(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new it(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?et.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new et(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new et(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return y(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof ft)return{nullValue:"NULL_VALUE"};if(t instanceof gt)return{booleanValue:t.value()};if(t instanceof vt)return{integerValue:""+t.value()};if(t instanceof _t){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof bt?{stringValue:t.value()}:t instanceof At?{mapValue:this.toMapValue(t)}:t instanceof Tt?{arrayValue:this.toArrayValue(t)}:t instanceof wt?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof kt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Et?{bytesValue:this.toBytes(t.value())}:t instanceof St?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:g("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(Be(t,n,"nullValue"))return ft.INSTANCE;if(Be(t,n,"booleanValue"))return gt.of(t.booleanValue);if(Be(t,n,"integerValue"))return new vt(Le(t.integerValue));if(Be(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return _t.NAN;if("Infinity"===t.doubleValue)return _t.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return _t.NEGATIVE_INFINITY}return new _t(t.doubleValue)}if(Be(t,n,"stringValue"))return new bt(t.stringValue);if(Be(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(Be(t,n,"arrayValue"))return Me(t.arrayValue,"arrayValue"),new Tt((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if(Be(t,n,"timestampValue"))return Me(t.timestampValue,"timestampValue"),new wt(this.fromTimestamp(t.timestampValue));if(Be(t,n,"geoPointValue"))return Me(t.geoPointValue,"geoPointValue"),new kt(new Y(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if(Be(t,n,"bytesValue")){Me(t.bytesValue,"bytesValue");var r=this.fromBlob(t.bytesValue);return new Et(r)}if(Be(t,n,"referenceValue")){Me(t.referenceValue,"referenceValue");var i=this.fromResourceName(t.referenceValue),o=new Z(i.get(1),i.get(3)),a=new it(this.extractLocalPathFromResourceName(i));return new St(o,a)}return g("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return y(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t){return new ot(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasLocalMutations:!1})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=At.EMPTY;return k(t,function(t,r){n=n.set(new rt([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){y(!!t.found,"Tried to deserialize a found document from a missing document."),Me(t.found.name,"doc.found.name"),Me(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new ot(e,n,r,{hasLocalMutations:!1})},t.prototype.fromMissing=function(t){y(!!t.missing,"Tried to deserialize a missing document from a found document."),y(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new at(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return Be(t,e,"found")?this.fromFound(t):Be(t,e,"missing")?this.fromMissing(t):g("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Ce.Added:return"ADD";case Ce.Current:return"CURRENT";case Ce.NoChange:return"NO_CHANGE";case Ce.Removed:return"REMOVE";case Ce.Reset:return"RESET";default:return g("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof we)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof be){var e;if(t.newDoc instanceof ot)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof at)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Ee){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return re.OK;switch(t){case _.OK:return re.OK;case _.CANCELLED:return re.CANCELLED;case _.UNKNOWN:return re.UNKNOWN;case _.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case _.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case _.INTERNAL:return re.INTERNAL;case _.UNAVAILABLE:return re.UNAVAILABLE;case _.UNAUTHENTICATED:return re.UNAUTHENTICATED;case _.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case _.NOT_FOUND:return re.NOT_FOUND;case _.ALREADY_EXISTS:return re.ALREADY_EXISTS;case _.PERMISSION_DENIED:return re.PERMISSION_DENIED;case _.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case _.ABORTED:return re.ABORTED;case _.OUT_OF_RANGE:return re.OUT_OF_RANGE;case _.UNIMPLEMENTED:return re.UNIMPLEMENTED;case _.DATA_LOSS:return re.DATA_LOSS;default:return g("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return g("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(Be(t,n,"targetChange")){Me(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Ee(r,i,o,s||null)}else if(Be(t,n,"documentChange")){Me(t.documentChange,"documentChange"),Me(t.documentChange.document,"documentChange.name"),Me(t.documentChange.document.name,"documentChange.document.name"),Me(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,l=this.fromName(u.document.name),c=this.fromVersion(u.document.updateTime),h=this.fromFields(u.document.fields||{}),d=new ot(l,c,h,{hasLocalMutations:!1});e=new be(u.targetIds||[],u.removedTargetIds||[],d.key,d)}else if(Be(t,n,"documentDelete")){Me(t.documentDelete,"documentDelete"),Me(t.documentDelete.document,"documentDelete.document");var p=t.documentDelete;l=this.fromName(p.document),c=p.readTime?this.fromVersion(p.readTime):Ht.forDeletedDoc(),d=new at(l,c),e=new be([],p.removedTargetIds||[],d.key,d)}else if(Be(t,n,"documentRemove")){Me(t.documentRemove,"documentRemove"),Me(t.documentRemove.document,"documentRemove");var f=t.documentRemove;l=this.fromName(f.document),e=new be([],f.removedTargetIds||[],l,null)}else{if(!Be(t,n,"filter"))return g("Unknown change type "+JSON.stringify(t));Me(t.filter,"filter"),Me(t.filter.targetId,"filter.targetId");var y=t.filter,m=new ne(y.count||0);e=new we(y.targetId,m)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Ce.NoChange:"ADD"===t?Ce.Added:"REMOVE"===t?Ce.Removed:"CURRENT"===t?Ce.Current:"RESET"===t?Ce.Reset:g("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!Be(t,t.response_type,"targetChange"))return Ht.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ht.MIN:e.readTime?this.fromVersion(e.readTime):Ht.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof Jt)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof ee)e={delete:this.toName(t.key)};else if(t instanceof Zt)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof te))return g("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):Yt.NONE;if(t.update){Me(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new Zt(r,i,o,n)}return new Jt(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new ee(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return y(!0===n.exists,'Transforms only support precondition "exists == true"'),new te(r,a)}return g("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return y(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:g("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?Yt.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Yt.exists(t.exists):Yt.NONE},t.prototype.fromWriteResult=function(t){var e=this,n=t.updateTime?this.fromVersion(t.updateTime):null,r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map(function(t){return e.fromValue(t)})),new function(t,e){this.version=t,this.transformResults=e}(n,r)},t.prototype.fromWriteResults=function(t){var e=this;return(t||[]).map(function(t){return e.fromWriteResult(t)})},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;return n instanceof Ie?{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}:n instanceof Re?{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}}:n instanceof Oe?{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}}:void g("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;Be(t,n,"setToServerValue")?(y("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=Ie.instance):Be(t,n,"appendMissingElements")?r=new Re((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)})):Be(t,n,"removeAllFromArray")?r=new Oe((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)})):g("Unknown transform proto: "+JSON.stringify(t));var i=rt.fromServerFormat(t.fieldPath);return new Qt(i,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return y(1===e,"DocumentsTarget contained other than 1 document: "+e),Nt.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(et.EMPTY_PATH);else{var n=t.path;y(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;r>0&&(y(1===r,"StructuredQuery.from with more than one collection is not supported."),e=e.child(n.from[0].collectionId));var i=[];n.where&&(i=this.fromFilter(n.where));var o=[];n.orderBy&&(o=this.fromOrder(n.orderBy));var a=null;n.limit&&(a=this.fromInt32Value(n.limit));var s=null;n.startAt&&(s=this.fromCursor(n.startAt));var u=null;return n.endAt&&(u=this.fromCursor(n.endAt)),new Nt(e,o,i,a,s,u)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Gt.Listen:return null;case Gt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Gt.LimboResolution:return"limbo-document";default:return g("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Lt?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):g("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Ut(r,n)},t.prototype.toDirection=function(t){return De[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return jt.ASCENDING;case"DESCENDING":return jt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return Ne[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Mt.EQUAL;case"GREATER_THAN":return Mt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Mt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Mt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Mt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Mt.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return g("Unspecified relation");default:return g("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return rt.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Vt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Lt?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:g("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Lt(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Bt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Ft?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:g("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Bt(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Ft(n);case"OPERATOR_UNSPECIFIED":return g("Unspecified filter");default:return g("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return rt.fromServerFormat(t)});return new Wt(e)},t}();function Be(t,e,n){return e===n||!e&&n in t}var je=Error.captureStackTrace,Ue=function(){return function(t,e){if(this.code=t,this.message=e,je)je(this,Ve.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();Ue.prototype=Object.create(Error.prototype),Ue.prototype.constructor=Ue,Ue.prototype.name="FirebaseError";var Ve=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var o=new Ue(i,n=this.serviceName+": "+n+" ("+i+").");for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}(),ze=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){y(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){y(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){y(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){y(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){y(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){y(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),qe="Connection",He={BatchGetDocuments:"batchGet",Commit:"commit"},Ge="gl-js/ fire/"+s,Ke=function(){function t(t){this.databaseId=t.databaseId,this.pool=new a.XhrIoPool,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=Ge},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,s){r.pool.getObject(function(u){u.listenOnce(a.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=u.getResponseJson();d(qe,"XHR received:",JSON.stringify(e)),o(e);break;case a.ErrorCode.TIMEOUT:d(qe,'RPC "'+t+'" timed out'),s(new b(_.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=u.getStatus();d(qe,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0?s(new b(function(t){switch(t){case 200:return _.OK;case 400:return _.INVALID_ARGUMENT;case 401:return _.UNAUTHENTICATED;case 403:return _.PERMISSION_DENIED;case 404:return _.NOT_FOUND;case 409:return _.ABORTED;case 416:return _.OUT_OF_RANGE;case 429:return _.RESOURCE_EXHAUSTED;case 499:return _.CANCELLED;case 500:return _.UNKNOWN;case 501:return _.UNIMPLEMENTED;case 503:return _.UNAVAILABLE;case 504:return _.DEADLINE_EXCEEDED;default:return t>=200&&t<300?_.OK:t>=400&&t<500?_.FAILED_PRECONDITION:t>=500&&t<600?_.INTERNAL:_.UNKNOWN}}(n),"Server responded with status "+u.getStatusText())):(d(qe,'RPC "'+t+'" failed'),s(new b(_.UNAVAILABLE,"Connection failed.")));break;default:g('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{d(qe,'RPC "'+t+'" completed.'),r.pool.releaseObject(u)}});var l=JSON.stringify(e);d(qe,"XHR sending: ",i+" "+l);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),u.send(i,"POST",l,c,15)})})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",t,"/channel"],r=a.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,e),"object"==typeof navigator&&"ReactNative"===navigator.product||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");d(qe,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,l=!1,c=new ze({sendFn:function(t){l?d(qe,"Not sending because WebChannel is closed:",t):(u||(d(qe,"Opening WebChannel transport."),s.open(),u=!0),d(qe,"WebChannel sending:",t),s.send(t))},closeFn:function(){return s.close()}}),h=function(t,e){s.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a.WebChannel.EventType.OPEN,function(){l||d(qe,"WebChannel transport opened.")}),h(a.WebChannel.EventType.CLOSE,function(){l||(l=!0,d(qe,"WebChannel transport closed"),c.callOnClose())}),h(a.WebChannel.EventType.ERROR,function(t){l||(l=!0,d(qe,"WebChannel transport errored:",t),c.callOnClose(new b(_.UNAVAILABLE,"The operation could not be completed")))}),h(a.WebChannel.EventType.MESSAGE,function(t){if(!l){var e=t.data[0];y(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){d(qe,"WebChannel received error:",n);var r=n.status,i=function(t){var e=re[r];if(void 0!==e)return oe(e)}(),o=n.message;void 0===i&&(i=_.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),l=!0,c.callOnClose(new b(i,o)),s.close()}else d(qe,"WebChannel received:",e),c.callOnMessage(e)}}),setTimeout(function(){c.callOnOpen()},0),c},t.prototype.makeUrl=function(t){var e=He[t];y(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1beta1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();m.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return t.prototype.loadConnection=function(t){return Promise.resolve(new Ke(t))},t.prototype.newSerializer=function(t){return new Fe(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var We=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,i){if(!(t instanceof Array)||t.length<1)throw new b(_.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+z(1,"element")+".")}();for(var n=0;n<t.length;++n)if(O("FieldPath","string",n,t[n]),0===t[n].length)throw new b(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw U("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(rt.keyField().canonicalString()),t}(),Qe=new RegExp("[~\\*/\\[\\]]"),$e=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),Ye=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||it.comparator(e.key,n.key)}:function(t,e){return it.comparator(t.key,e.key)},this.keyedMap=ce(),this.sortedSet=new st(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Xe=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){k(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return A(this.inner)},t}(),Je=function(){function t(t){this.syncEngine=t,this.queries=new Xe(function(t){return t.canonicalId()}),this.onlineState=$e.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new function(){this.listeners=[]},this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return o.__generator(this,function(o){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var o=0,a=i.listeners;o<a.length;o++)a[o].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(t)})},t}(),Ze=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=$e.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(y(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==ye.Metadata&&e.push(i)}t=new _e(t.query,t.docs,t.oldDocs,e,t.fromCache,t.hasPendingWrites,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return y(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==$e.Offline?(y(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===$e.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(e){y(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=new _e(e.query,e.docs,Ye.emptySet(e.docs),t.getInitialViewChanges(e),e.fromCache,e.hasPendingWrites,!0,!1),this.raisedInitialEvent=!0,this.queryObserver.next(e)},t.getInitialViewChanges=function(t){var e=[];return t.docs.forEach(function(t){e.push({type:ye.Added,doc:t})}),e},t}(),tn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&g("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){var n=e.length;if(0===n)return t.resolve();var r=0;return new t(function(t,i){for(var o=0,a=e;o<a.length;o++)a[o].next(function(){++r===n&&t()},function(t){return i(t)})})},t.map=function(e){for(var n=[],r=[],i=function(t){r[t]=e[t].next(function(e){n[t]=e})},o=0;o<e.length;++o)i(o);return t.waitFor(r).next(function(){return n})},t}(),en=function(){function t(){this.isEager=!0,this.sources=[],this.potentialGarbage=fe()}return t.prototype.addGarbageSource=function(t){this.sources.push(t),t.setGarbageCollector(this)},t.prototype.removeGarbageSource=function(t){this.sources.splice(this.sources.indexOf(t),1),t.setGarbageCollector(null)},t.prototype.addPotentialGarbageKey=function(t){this.potentialGarbage=this.potentialGarbage.add(t)},t.prototype.collectGarbage=function(t){var e=this,n=[],r=fe();return this.potentialGarbage.forEach(function(i){var o=e.documentHasAnyReferences(t,i);n.push(o.next(function(t){return t||(r=r.add(i)),tn.resolve()}))}),this.potentialGarbage=fe(),tn.waitFor(n).next(function(){return r})},t.prototype.documentHasAnyReferences=function(t,e){var n=tn.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(t,e)}}).reduce(function(t,e){return t.next(function(t){return t?tn.resolve(!0):e()})},n)},t}(),nn=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=fe(),i=fe(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case ye.Added:r=r.add(s.doc.key);break;case ye.Removed:i=i.add(s.doc.key)}}return new t(e,r,i)},t}(),rn=function(){function t(){this.refsByKey=new ae(on.compareByKey),this.refsByTarget=new ae(on.compareByTargetId),this.garbageCollector=null}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new on(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new on(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=it.EMPTY,r=new on(n,t),i=new on(n,t+1);this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t)})},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(t.key)},t.prototype.referencesForId=function(t){var e=it.EMPTY,n=new on(e,t),r=new on(e,t+1),i=fe();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new on(e,0),r=this.refsByKey.firstAfterOrEqual(n);return tn.resolve(null!==r&&e.isEqual(r.key))},t}(),on=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return it.comparator(t.key,e.key)||H(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return H(t.targetOrBatchId,e.targetOrBatchId)||it.comparator(t.key,e.key)},t}(),an=1,sn=function(t){return t[t.LocalStore=0]="LocalStore",t[t.SyncEngine=1]="SyncEngine",t}({}),un=function(){function t(t,e){void 0===e&&(e=0),this.generatorId=t;var n=e>>an<<an;this.previousId=e-n>=t?n|this.generatorId:(n|this.generatorId)-(1<<an)}return t.prototype.next=function(){return this.previousId+=1<<an,this.previousId},t.forLocalStore=function(e){return void 0===e&&(e=0),new t(sn.LocalStore,e)},t.forSyncEngine=function(){return new t(sn.SyncEngine)},t}(),ln=function(t){this.key=t},cn=function(t){this.key=t},hn=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=fe(),this.mutatedKeys=fe(),this.documentSet=new Ye(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new ve,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),c=e instanceof ot?e:null;if(c&&(y(t.isEqual(c.key),"Mismatching keys found in document changes: "+t+" != "+c.key),c=n.query.matches(c)?c:null),c?(a=a.add(c),o=c.hasLocalMutations?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)),l&&c){var h=l.data.isEqual(c.data);h&&l.hasLocalMutations===c.hasLocalMutations||(r.track(h?{type:ye.Metadata,doc:c}:{type:ye.Modified,doc:c}),u&&n.query.docComparator(c,u)>0&&(s=!0))}else!l&&c?r.track({type:ye.Added,doc:c}):l&&!c&&(r.track({type:ye.Removed,doc:l}),u&&(s=!0))}),this.query.hasLimit())for(;a.size>this.query.limit;){var l=a.last();a=a.delete(l.key),r.track({type:ye.Removed,doc:l})}return y(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.applyChanges=function(t,e){var n=this;y(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var i=t.changeSet.getChanges();i.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case ye.Added:return 1;case ye.Modified:case ye.Metadata:return 2;case ye.Removed:return 0;default:return g("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||n.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(e);var o=this.updateLimboDocuments(),a=0===this.limboDocuments.size&&this.current?me.Synced:me.Local,s=a!==this.syncState;return this.syncState=a,0!==i.length||s?{snapshot:new _e(this.query,t.documentSet,r,i,a===me.Local,!t.mutatedKeys.isEmpty(),s,!1),limboChanges:o}:{limboChanges:o}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===$e.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new ve,mutatedKeys:this.mutatedKeys,needsRefill:!1})):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return y(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=fe(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new cn(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new ln(t))}),n},t}(),dn=function(){function t(t,e,n){this.localStore=t,this.remoteStore=e,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new Xe(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new st(it.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new rn,this.limboCollector=new en,this.mutationUserCallbacks={},this.targetIdGenerator=un.forSyncEngine(),this.limboCollector.addGarbageSource(this.limboDocumentRefs)}return t.prototype.subscribe=function(t,e){y(null!==t&&null!==e,"View and error handlers cannot be null"),y(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=t,this.errorHandler=e},t.prototype.listen=function(t){var e=this;return this.assertSubscribed("listen()"),y(!this.queryViewsByQuery.has(t),"We already listen to the query: "+t),this.localStore.allocateQuery(t).then(function(n){return e.localStore.executeQuery(t).then(function(r){return e.localStore.remoteDocumentKeys(n.targetId).then(function(i){var o=new hn(t,i),a=o.computeDocChanges(r),s=o.applyChanges(a);y(0===s.limboChanges.length,"View returned limbo docs before target ack from the server."),y(!!s.snapshot,"applyChanges for new view should always return a snapshot");var u=new function(t,e,n){this.query=t,this.targetId=e,this.view=n}(t,n.targetId,o);e.queryViewsByQuery.set(t,u),e.queryViewsByTarget[n.targetId]=u,e.viewHandler([s.snapshot]),e.remoteStore.listen(n)})}).then(function(){return n.targetId})})},t.prototype.unlisten=function(t){var e=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(t);return y(!!n,"Trying to unlisten on query not found:"+t),this.localStore.releaseQuery(t).then(function(){return e.remoteStore.unlisten(n.targetId),e.removeAndCleanupQuery(n).then(function(){return e.localStore.collectGarbage()})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),y(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Dt(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),k(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(y(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?y(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(y(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),this.localStore.applyRemoteEvent(t).then(function(n){return e.emitNewSnapsAndNotifyLocalStore(n,t)})},t.prototype.applyOnlineStateChange=function(t){var e=[];this.queryViewsByQuery.forEach(function(n,r){var i=r.view.applyOnlineStateChange(t);y(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&e.push(i.snapshot)}),this.viewHandler(e)},t.prototype.rejectListen=function(t,e){var n=this;this.assertSubscribed("rejectListens()");var r=this.limboResolutionsByTarget[t],i=r&&r.key;if(i){this.limboTargetsByKey=this.limboTargetsByKey.remove(i),delete this.limboResolutionsByTarget[t];var o=new st(it.comparator);o=o.insert(i,new at(i,Ht.forDeletedDoc()));var a=fe().add(i),s=new ge(Ht.MIN,{},new ae(H),o,a);return this.applyRemoteEvent(s)}var u=this.queryViewsByTarget[t];return y(!!u,"Unknown targetId: "+t),this.localStore.releaseQuery(u.query).then(function(){return n.removeAndCleanupQuery(u).then(function(){n.errorHandler(u.query,e)})})},t.prototype.applySuccessfulWrite=function(t){var e=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t.batch.batchId,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(t){return n.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new st(H)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(y(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){return this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.limboDocumentRefs.removeReferencesForId(t.targetId),this.gcLimboDocuments()},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof ln?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof cn?(d("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t)):g("Unknown limbo change: "+JSON.stringify(i))}return this.gcLimboDocuments()},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){d("SyncEngine","New document in limbo: "+e);var n=this.targetIdGenerator.next(),r=Nt.atPath(e.path);this.limboResolutionsByTarget[n]=new function(t){this.key=t}(e),this.remoteStore.listen(new Kt(r,n,Gt.LimboResolution)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.gcLimboDocuments=function(){var t=this;return this.limboCollector.collectGarbage(null).next(function(e){e.forEach(function(e){var n=t.limboTargetsByKey.get(e);null!==n&&(t.remoteStore.unlisten(n),t.limboTargetsByKey=t.limboTargetsByKey.remove(e),delete t.limboResolutionsByTarget[n])})}).toPromise()},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){var n=this,r=[],i=[],o=[];return this.queryViewsByQuery.forEach(function(a,s){o.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?n.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var o=s.view.applyChanges(t,e&&e.targetChanges[s.targetId]);return n.updateTrackedLimbos(s.targetId,o.limboChanges).then(function(){if(o.snapshot){r.push(o.snapshot);var t=nn.fromSnapshot(s.targetId,o.snapshot);i.push(t)}})}))}),Promise.all(o).then(function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(i),n.localStore.collectGarbage()})},t.prototype.assertSubscribed=function(t){y(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleUserChange=function(t){var e=this;return this.currentUser=t,this.localStore.handleUserChange(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)}).then(function(){return e.remoteStore.handleUserChange(t)})},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?fe().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:fe()},t}(),pn=-1,fn=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&y(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;y(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&y(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=e,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t)&&(e=i.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=fe(),e=0,n=this.mutations;e<n.length;e++)t=t.add(n[e].key);return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&G(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),gn=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){y(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=de(),a=e.mutations,s=0;s<a.length;s++){var u=r[s].version;null===u&&(u=n),o=o.insert(a[s].key,u)}return new t(e,n,r,i,o)},t}(),yn="\x01",mn="\x01",vn="\x10",_n="\x11";function bn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Cn(e)),e=wn(t.get(n),e);return Cn(e)}function wn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=yn+vn;break;case yn:n+=yn+_n;break;default:n+=o}}return n}function Cn(t){return t+yn+mn}function En(t){var e=t.length;if(y(e>=2,"Invalid path "+t),2===e)return y(t.charAt(0)===yn&&t.charAt(1)===mn,"Non-empty path "+t+" had length 2"),et.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(yn,o);switch((a<0||a>n)&&g('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case mn:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case vn:i+=t.substring(o,a),i+="\0";break;case _n:i+=t.substring(o,a+1);break;default:g('Invalid encoded resource path: "'+t+'"')}o=a+2}return new et(r)}var Sn=3;function kn(t,e,n,r){y(n<r&&n>=0&&r<=Sn,"Unexpected schema upgrade from v${fromVersion} to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(Tn.store)}(t),function(t){t.createObjectStore(In.store,{keyPath:In.keyPath}),t.createObjectStore(Rn.store,{keyPath:Rn.keyPath}),t.createObjectStore(On.store)}(t),Mn(t),function(t){t.createObjectStore(Pn.store)}(t));var i=tn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Nn.store),t.deleteObjectStore(Dn.store),t.deleteObjectStore(xn.store)}(t),Mn(t)),i=i.next(function(){return function(t){var e=t.store(xn.store),n=new xn(0,0,Ht.MIN.toTimestamp(),0);return e.put(xn.key,n)}(e)})),i}var An=function(t,e){this.seconds=t,this.nanoseconds=e},Tn=function(){function t(t,e){this.ownerId=t,this.leaseTimestampMs=e}return t.store="owner",t}(),In=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Rn=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath=["userId","batchId"],t}(),On=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,bn(e)]},t.key=function(t,e,n){return[t,bn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Pn=function(){function t(t,e){this.noDocument=t,this.document=e}return t.store="remoteDocuments",t}(),Dn=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Nn=function(){function t(t,e){this.targetId=t,this.path=e}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),xn=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}();function Mn(t){t.createObjectStore(Nn.store,{keyPath:Nn.keyPath}).createIndex(Nn.documentTargetsIndex,Nn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Dn.store,{keyPath:Dn.keyPath}).createIndex(Dn.queryTargetsIndexName,Dn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(xn.store)}var Ln=[In.store,Rn.store,On.store,Pn.store,Dn.store,Tn.store,xn.store,Nn.store],Fn=function(){function t(t,e){this.userId=t,this.serializer=e,this.garbageCollector=null}return t.forUser=function(e,n){return y(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n)},t.prototype.start=function(e){var n=this;return t.loadNextBatchIdFromDb(e).next(function(t){return n.nextBatchId=t,Vn(e).get(n.userId)}).next(function(t){return t||(t=new In(n.userId,pn,"")),n.metadata=t,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(e).next(function(t){return y(t,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=pn,Vn(e).put(n.metadata)}):tn.resolve()})},t.loadNextBatchIdFromDb=function(t){var e=pn;return jn(t).iterate({reverse:!0},function(t,n,r){var i=t[0];if(t[1]>e&&(e=n.batchId),""===i)r.done();else{var o=function(t){var e=t.length-1;return 0===t.length?"":"\0"===t.charAt(e)?t.substring(0,e):t.substring(0,e)+String.fromCharCode(t.charCodeAt(e)-1)}(i);r.skip([o])}}).next(function(){return e+1})},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return jn(t).iterate({range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.getNextBatchId=function(t){return tn.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return tn.resolve(this.metadata.lastAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;return y(r>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=Bn(n),Vn(t).put(this.metadata)},t.prototype.getLastStreamToken=function(t){return tn.resolve(this.metadata.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.metadata.lastStreamToken=Bn(e),Vn(t).put(this.metadata)},t.prototype.addMutationBatch=function(t,e,n){var r=this,i=this.nextBatchId;this.nextBatchId++;var o=new fn(i,e,n),a=this.serializer.toDbMutationBatch(this.userId,o);return jn(t).put(a).next(function(){for(var e=[],o=0,a=n;o<a.length;o++){var s=On.key(r.userId,a[o].key.path,i);e.push(Un(t).put(s,On.PLACEHOLDER))}return tn.waitFor(e)}).next(function(){return o})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return jn(t).get(this.keyForBatchId(e)).next(function(t){return t?n.serializer.fromDbMutationBatch(t):null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=Math.max(e,this.metadata.lastAcknowledgedBatchId)+1,i=IDBKeyRange.lowerBound(this.keyForBatchId(r)),o=null;return jn(t).iterate({range:i},function(t,e,i){e.userId===n.userId&&(y(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(e)),i.done()}).next(function(){return o})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound(this.keyForBatchId(pn),this.keyForBatchId(Number.POSITIVE_INFINITY));return jn(t).loadAll(n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(pn),this.keyForBatchId(e));return jn(t).loadAll(r).next(function(t){return t.map(function(t){return n.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=On.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Un(t).iterate({range:i},function(r,i,a){var s=r[0],u=r[2],l=En(r[1]);if(s===n.userId&&e.path.isEqual(l)){var c=n.keyForBatchId(u);return jn(t).get(c).next(function(t){null===t&&g("Dangling document-mutation reference found: "+r+" which points to "+c),o.push(n.serializer.fromDbMutationBatch(t))})}a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ae(H),i=[];return e.forEach(function(e){var o=On.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Un(t).iterate({range:a},function(t,i,o){var a=t[0],s=t[2],u=En(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),tn.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;y(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,i=r.length+1,o=On.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new ae(H);return Un(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[2],l=En(t[1]);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){var o=n.keyForBatchId(e);i.push(jn(t).get(o).next(function(t){null===t&&g("Dangling document-mutation reference found, which points to "+o),r.push(n.serializer.fromDbMutationBatch(t))}))}),tn.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatches=function(t,e){for(var n=jn(t),r=Un(t),i=[],o=function(t){var e=IDBKeyRange.only(a.keyForBatchId(t.batchId)),o=0,s=n.iterate({range:e},function(t,e,n){return o++,n.delete()});i.push(s.next(function(){y(1===o,"Dangling document-mutation reference found: Missing batch "+t.batchId)}));for(var u=0,l=t.mutations;u<l.length;u++){var c=l[u],h=On.key(a.userId,c.key.path,t.batchId);i.push(r.delete(h)),null!==a.garbageCollector&&a.garbageCollector.addPotentialGarbageKey(c.key)}},a=this,s=0,u=e;s<u.length;s++)o(u[s]);return tn.waitFor(i)},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return tn.resolve();var r=IDBKeyRange.lowerBound(On.prefixForUser(e.userId)),i=[];return Un(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=En(t[1]);i.push(o)}else r.done()}).next(function(){y(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=this,r=On.prefixForPath(this.userId,e.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Un(t).iterate({range:o,keysOnly:!0},function(t,e,r){t[0]===n.userId&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})},t.prototype.keyForBatchId=function(t){return[this.userId,t]},t}();function Bn(t){return t instanceof Uint8Array?(y("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),t.toString()):t}function jn(t){return ar.getStore(t,Rn.store)}function Un(t){return ar.getStore(t,On.store)}function Vn(t){return ar.getStore(t,In.store)}var zn=function(){function t(t){this.serializer=t,this.lastRemoteSnapshotVersion=Ht.MIN,this.metadata=null,this.garbageCollector=null}return t.prototype.start=function(t){var e=this;return Hn(t).get(xn.key).next(function(t){y(null!==t,"Missing metadata row that should be added by schema migration."),e.metadata=t;var n=t.lastRemoteSnapshotVersion;return e.lastRemoteSnapshotVersion=Ht.fromTimestamp(new X(n.seconds,n.nanoseconds)),tn.resolve()})},t.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,this.metadata.lastRemoteSnapshotVersion=e.toTimestamp(),Hn(t).put(xn.key,this.metadata)},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.metadata.targetCount+=1,n.updateMetadataFromQueryData(e),n.saveMetadata(t)})},t.prototype.updateQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.updateMetadataFromQueryData(e)?n.saveMetadata(t):tn.resolve()})},t.prototype.removeQueryData=function(t,e){var n=this;return y(this.metadata.targetCount>0,"Removing from an empty query cache"),this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return qn(t).delete(e.targetId)}).next(function(){return n.metadata.targetCount-=1,n.saveMetadata(t)})},t.prototype.saveMetadata=function(t){return Hn(t).put(xn.key,this.metadata)},t.prototype.saveQueryData=function(t,e){return qn(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t){var e=!1;return t.targetId>this.metadata.highestTargetId&&(this.metadata.highestTargetId=t.targetId,e=!0),e},Object.defineProperty(t.prototype,"count",{get:function(){return this.metadata.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return qn(t).iterate({range:i,index:Dn.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=[],i=Gn(t);return e.forEach(function(t){var e=bn(t.path);r.push(i.put(new Nn(n,e)))}),tn.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=[],o=Gn(t);return e.forEach(function(t){var e=bn(t.path);i.push(o.delete([n,e])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(t)}),tn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Gn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return this.notifyGCForRemovedKeys(t,r).next(function(){return n.delete(r)})},t.prototype.notifyGCForRemovedKeys=function(t,e){var n=this,r=Gn(t);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:e,keysOnly:!0},function(t,e,r){var i=En(t[1]),o=new it(i);y(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(o)}):tn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Gn(t),i=fe();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=En(t[1]),o=new it(r);i=i.add(o)}).next(function(){return i})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){y(null!==t,"Persistence Transaction cannot be null for query cache containsKey");var n=bn(e.path),r=IDBKeyRange.bound([n],[n+"\0"],!1,!0),i=0;return Gn(t).iterate({index:Nn.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){i++,n.done()}).next(function(){return i>0})},t}();function qn(t){return ar.getStore(t,Dn.store)}function Hn(t){return ar.getStore(t,xn.store)}function Gn(t){return ar.getStore(t,Nn.store)}var Kn=function(){function t(t){this.serializer=t}return t.prototype.addEntry=function(t,e){return Wn(t).put(Qn(e.key),this.serializer.toDbRemoteDocument(e))},t.prototype.removeEntry=function(t,e){return Wn(t).delete(Qn(e))},t.prototype.getEntry=function(t,e){var n=this;return Wn(t).get(Qn(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=ce(),i=e.path.toArray(),o=IDBKeyRange.lowerBound(i);return Wn(t).iterate({range:o},function(t,i,o){var a=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(a.key.path)?a instanceof ot&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}).next(function(){return r})},t}();function Wn(t){return ar.getStore(t,Pn.store)}function Qn(t){return t.path.toArray()}var $n=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document);if(t.noDocument){var e=it.fromSegments(t.noDocument.path),n=t.noDocument.readTime,r=new X(n.seconds,n.nanoseconds);return new at(e,Ht.fromTimestamp(r))}return g("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ot){var e=this.remoteSerializer.toDocument(t);return new Pn(null,e)}var n=t.key.path.toArray(),r=t.version.toTimestamp(),i=new An(r.seconds,r.nanoseconds);return new Pn(new function(t,e){this.path=t,this.readTime=e}(n,i),null)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Rn(t,e.batchId,e.localWriteTime.toMillis(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=X.fromMillis(t.localWriteTimeMs);return new fn(t.batchId,r,n)},t.prototype.fromDbTarget=function(t){var e,n=new X(t.readTime.seconds,t.readTime.nanoseconds),r=Ht.fromTimestamp(n);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Kt(e,t.targetId,Gt.Listen,r,t.resumeToken)},t.prototype.toDbTarget=function(t){y(Gt.Listen===t.purpose,"Only queries with purpose "+Gt.Listen+" may be stored, got "+t.purpose);var e,n,r=t.snapshotVersion.toTimestamp(),i=new An(r.seconds,r.nanoseconds);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(y("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new Dn(t.targetId,t.query.canonicalId(),i,n,0,e)},t}(),Yn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Xn=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return y(t.isAvailable(),"IndexedDB not supported in current environment."),d("SimpleDb","Opening database:",e),new tn(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){i(new t(e.target.result))},a.onblocked=function(){o(new b(_.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){o(t.target.error)},a.onupgradeneeded=function(t){d("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new Zn(a.transaction);r(n,i,t.oldVersion,Sn).next(function(){d("SimpleDb","Database upgrade to version "+Sn+" complete")})}}).toPromise()},t.delete=function(t){return d("SimpleDb","Removing database:",t),er(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.getStore=function(t,e){return t.store(e)},t.prototype.runTransaction=function(t,e,n){var r=Zn.open(this.db,t,e),i=n(r).catch(function(t){r.abort(t)}).toPromise();return r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),Jn=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return er(this.dbCursor.delete())},t}(),Zn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new Yn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(d("SimpleDb","Aborting transaction: %s",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return y(!!e,"Object store not part of transaction: "+t),new tr(e)},t}(),tr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),er(n)},t.prototype.get=function(t){var e=this;return er(this.store.get(t)).next(function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),er(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),er(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateCursor=function(t,e){var n=[];return new tn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Jn(i),a=e(i.primaryKey,i.value,o);a instanceof tn&&n.push(a),o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return tn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(y(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function er(t){return new tn(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}})}var nr,rr="IndexedDbPersistence",ir="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",or=function(t){function e(e){var n=t.call(this)||this;return n.simpleDbTransaction=e,n}return o.__extends(e,t),e}(function(){}),ar=function(){function t(e,n){this._started=!1,this.ownerId=this.generateOwnerId(),this.dbName=e+t.MAIN_DATABASE,this.serializer=new $n(n),this.localStoragePrefix=e}return t.getStore=function(t,e){if(t instanceof or)return Xn.getStore(t.simpleDbTransaction,e);g("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.prototype.start=function(){var e=this;return t.isAvailable()?(y(!this.started,"IndexedDbPersistence double-started!"),Xn.openOrCreate(this.dbName,Sn,kn).then(function(t){e.simpleDb=t}).then(function(){return e.tryAcquireOwnerLease()}).then(function(){e.scheduleOwnerLeaseRefreshes(),e.attachWindowUnloadHook()}).then(function(){e._started=!0})):(this.persistenceError=new b(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),Promise.reject(this.persistenceError))},t.prototype.shutdown=function(t){var e=this;return y(this.started,"IndexedDbPersistence shutdown without start!"),this._started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){if(e.simpleDb.close(),t)return Xn.delete(e.dbName)})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return Fn.forUser(t,this.serializer)},t.prototype.getQueryCache=function(){return new zn(this.serializer)},t.prototype.getRemoteDocumentCache=function(){return new Kn(this.serializer)},t.prototype.runTransaction=function(t,e){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(d(rr,"Starting transaction:",t),this.simpleDb.runTransaction("readwrite",Ln,function(t){return n.ensureOwnerLease(t).next(function(){return e(new or(t))})}))},t.isAvailable=function(){return Xn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.tryAcquireOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[Tn.store],function(e){var n=e.store(Tn.store);return n.get("owner").next(function(e){if(t.validOwner(e))return d(rr,"Valid owner already. Failing. Current owner:",e),t.persistenceError=new b(_.FAILED_PRECONDITION,ir),tn.reject(t.persistenceError);var r=new Tn(t.ownerId,Date.now());return d(rr,"No valid owner. Acquiring owner lease. Current owner:",e,"New owner:",r),n.put("owner",r)})})},t.prototype.releaseOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[Tn.store],function(e){var n=e.store(Tn.store);return n.get("owner").next(function(e){return null!==e&&e.ownerId===t.ownerId?(d(rr,"Releasing owner lease."),n.delete("owner")):tn.resolve()})})},t.prototype.ensureOwnerLease=function(t){var e=this;return t.store(Tn.store).get("owner").next(function(t){return null===t||t.ownerId!==e.ownerId?(e.persistenceError=new b(_.FAILED_PRECONDITION,ir),tn.reject(e.persistenceError)):tn.resolve()})},t.prototype.validOwner=function(t){var e=Date.now();return!(null===t||t.leaseTimestampMs<e-5e3||(t.leaseTimestampMs>e?(p("Persistence owner-lease is in the future. Discarding.",t),1):t.ownerId===this.getZombiedOwnerId()))},t.prototype.scheduleOwnerLeaseRefreshes=function(){var t=this;this.ownerLeaseRefreshHandle=setInterval(function(){t.simpleDb.runTransaction("readwrite",Ln,function(e){return t.ensureOwnerLease(e).next(function(){return e.store(Tn.store).put("owner",new Tn(t.ownerId,Date.now()))})}).catch(function(e){p(e),t.stopOwnerLeaseRefreshes()})},4e3)},t.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"object"==typeof window&&"function"==typeof window.addEventListener&&(this.windowUnloadHandler=function(){t.setZombiedOwnerId(t.ownerId),t.shutdown()},window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(y("object"==typeof window&&"function"==typeof window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.getZombiedOwnerId=function(){try{var t=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return d(rr,"Zombied ownerID from LocalStorage:",t),t}catch(t){return p("Failed to get zombie owner id.",t),null}},t.prototype.setZombiedOwnerId=function(t){try{null===t?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),t)}catch(t){p("Failed to set zombie owner id.",t)}},t.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},t.prototype.generateOwnerId=function(){return q.newId()},t.MAIN_DATABASE="main",t}(),sr=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.getDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=[],o=ue();return e.forEach(function(e){i.push(n.getDocumentInternal(t,e,r).next(function(t){t||(t=new at(e,Ht.forDeletedDoc())),o=o.insert(e,t)}))}),tn.waitFor(i).next(function(){return o})})},t.prototype.getDocumentsMatchingQuery=function(t,e){return it.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new it(e)).next(function(t){var e=ce();return t instanceof ot&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,s=o.mutations;a<s.length;a++){var u=s[a],l=u.key;if(e.path.isImmediateParentOf(l.path)){var c=n.get(l),h=u.applyToLocalView(c,c,o.localWriteTime);!h||h instanceof at?n=n.remove(l):h instanceof ot?n=n.insert(l,h):g("Unknown MaybeDocument: "+h)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),ur=function(){function t(t){this.remoteDocumentCache=t,this.changes=ue()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges().get(e);return n?tn.resolve(n):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=this,n=[];return this.assertChanges().forEach(function(r,i){n.push(e.remoteDocumentCache.addEntry(t,i))}),this.changes=null,tn.waitFor(n)},t.prototype.assertChanges=function(){return y(null!==this.changes,"Changes have already been applied."),this.changes},t}(),lr=function(){function t(t,e,n){this.persistence=t,this.garbageCollector=n,this.localViewReferences=new rn,this.targetIds={},this.targetIdGenerator=un.forLocalStore(),this.heldBatchResults=[],y(t.started,"LocalStore was passed an unstarted persistence implementation"),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new sr(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return t.prototype.start=function(){var t=this;return this.persistence.runTransaction("Start LocalStore",function(e){return t.startMutationQueue(e).next(function(){return t.startQueryCache(e)})})},t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.garbageCollector.removeGarbageSource(e.mutationQueue),e.mutationQueue=e.persistence.getMutationQueue(t),e.garbageCollector.addGarbageSource(e.mutationQueue),e.startMutationQueue(n)}).next(function(){return e.localDocuments=new sr(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=fe(),o=0,a=[r,t];o<a.length;o++)for(var s=0,u=a[o];s<u.length;s++)for(var l=0,c=u[s].mutations;l<c.length;l++)i=i.add(c[l].key);return e.localDocuments.getDocuments(n,i)})})},t.prototype.startQueryCache=function(t){var e=this;return this.queryCache.start(t).next(function(){var t=e.queryCache.getHighestTargetId();e.targetIdGenerator=un.forLocalStore(t)})},t.prototype.startMutationQueue=function(t){var e=this;return this.mutationQueue.start(t).next(function(){return e.heldBatchResults=[],e.mutationQueue.getHighestAcknowledgedBatchId(t)}).next(function(n){return n!==pn?e.mutationQueue.getAllMutationBatchesThroughBatchId(t,n):tn.resolve([])}).next(function(n){return n.length>0?e.mutationQueue.removeMutationBatches(t,n):tn.resolve()})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations",function(n){var r,i=X.now();return e.mutationQueue.addMutationBatch(n,i,t).next(function(t){var i=(r=t).keys();return e.localDocuments.getDocuments(n,i)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var r;return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){if(e.shouldHoldBatchResult(t.commitVersion))return e.heldBatchResults.push(t),r=fe(),tn.resolve();var i=new ur(e.remoteDocuments);return e.releaseBatchResults(n,[t],i).next(function(t){return r=t,i.apply(n)})}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch",function(n){var r,i;return e.mutationQueue.lookupMutationBatch(n,t).next(function(i){return y(null!=i,"Attempt to reject nonexistent batch!"),r=i,e.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(e){return y(t>e,"Acknowledged batches can't be rejected."),r})}).next(function(){return e.removeMutationBatch(n,r)}).next(function(t){return i=t,e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,i)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},t.prototype.applyRemoteEvent=function(e){var n=this,r=new ur(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(i){var o=[],a=fe();S(e.targetChanges,function(r,s){var u=n.targetIds[r];if(u){s.addedDocuments.forEach(function(t){a=a.add(t)}),s.modifiedDocuments.forEach(function(t){a=a.add(t)}),o.push(n.queryCache.removeMatchingKeys(i,s.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,s.addedDocuments,r)}));var l=s.resumeToken;if(l.length>0){var c=u;u=u.copy({resumeToken:l,snapshotVersion:e.snapshotVersion}),n.targetIds[r]=u,t.shouldPersistQueryData(c,u,s)&&o.push(n.queryCache.updateQueryData(i,u))}}});var s=fe();e.documentUpdates.forEach(function(t,e){s=s.add(t),o.push(r.getEntry(i,t).next(function(i){null==i||e.version.isEqual(Ht.MIN)||a.has(e.key)||e.version.compareTo(i.version)>=0?r.addEntry(e):d("LocalStore","Ignoring outdated watch update for ",t,". Current version:",i.version," Watch version:",e.version),n.garbageCollector.addPotentialGarbageKey(t)}))});var u,l=n.queryCache.getLastRemoteSnapshotVersion(),c=e.snapshotVersion;return c.isEqual(Ht.MIN)||(y(c.compareTo(l)>=0,"Watch stream reverted to previous snapshot?? "+c+" < "+l),o.push(n.queryCache.setLastRemoteSnapshotVersion(i,c))),tn.waitFor(o).next(function(){return n.releaseHeldBatchResults(i,r)}).next(function(t){return u=t,r.apply(i)}).next(function(){return n.localDocuments.getDocuments(i,s.unionWith(u))})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];this.localViewReferences.addReferences(r.addedKeys,r.targetId),this.localViewReferences.removeReferences(r.removedKeys,r.targetId)}},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===t&&(t=pn),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){if(i)return r=i,tn.resolve();var o=e.targetIdGenerator.next();return r=new Kt(t,o,Gt.Listen),e.queryCache.addQueryData(n,r)}).next(function(){return y(!e.targetIds[r.targetId],"Tried to allocate an already allocated query: "+t),e.targetIds[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t){var e=this;return this.persistence.runTransaction("Release query",function(n){return e.queryCache.getQueryData(n,t).next(function(r){y(null!=r,"Tried to release nonexistent query: "+t);var i=r.targetId,o=e.targetIds[i];return e.localViewReferences.removeReferencesForId(i),delete e.targetIds[i],e.garbageCollector.isEager?e.queryCache.removeQueryData(n,r):o.snapshotVersion>r.snapshotVersion?e.queryCache.updateQueryData(n,o):tn.resolve()}).next(function(){if(A(e.targetIds)){var t=new ur(e.remoteDocuments);return e.releaseHeldBatchResults(n,t).next(function(){t.apply(n)})}return tn.resolve()})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.collectGarbage=function(){var t=this;return this.persistence.runTransaction("Garbage collection",function(e){return t.garbageCollector.collectGarbage(e).next(function(n){var r=[];return n.forEach(function(n){r.push(t.remoteDocuments.removeEntry(e,n))}),tn.waitFor(r)})})},t.prototype.releaseHeldBatchResults=function(t,e){for(var n=[],r=0,i=this.heldBatchResults;r<i.length;r++){var o=i[r];if(!this.isRemoteUpToVersion(o.commitVersion))break;n.push(o)}return 0===n.length?tn.resolve(fe()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(t,n,e))},t.prototype.isRemoteUpToVersion=function(t){var e=this.queryCache.getLastRemoteSnapshotVersion();return t.compareTo(e)<=0||A(this.targetIds)},t.prototype.shouldHoldBatchResult=function(t){return!this.isRemoteUpToVersion(t)||this.heldBatchResults.length>0},t.prototype.releaseBatchResults=function(t,e,n){for(var r=this,i=tn.resolve(),o=function(e){i=i.next(function(){return r.applyWriteToRemoteDocuments(t,e,n)})},a=0,s=e;a<s.length;a++)o(s[a]);return i.next(function(){return r.removeMutationBatches(t,e.map(function(t){return t.batch}))})},t.prototype.removeMutationBatch=function(t,e){return this.removeMutationBatches(t,[e])},t.prototype.removeMutationBatches=function(t,e){for(var n=fe(),r=0,i=e;r<i.length;r++)for(var o=0,a=i[r].mutations;o<a.length;o++)n=n.add(a[o].key);return this.mutationQueue.removeMutationBatches(t,e).next(function(){return n})},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=e.batch,i=r.keys(),o=tn.resolve();return i.forEach(function(i){o=o.next(function(){return n.getEntry(t,i)}).next(function(t){var o=t,a=e.docVersions.get(i);y(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=r.applyToRemoteDocument(i,o,e))?n.addEntry(o):y(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))})}),o},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),cr=function(){function t(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=pn,this.lastStreamToken=v(),this.garbageCollector=null,this.batchesByDocumentKey=new ae(on.compareByKey)}return t.prototype.start=function(t){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=pn),y(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),tn.resolve()},t.prototype.checkEmpty=function(t){return tn.resolve(0===this.mutationQueue.length)},t.prototype.getNextBatchId=function(t){return tn.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return tn.resolve(this.highestAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;y(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var i=this.indexOfExistingBatchId(r,"acknowledged"),o=this.mutationQueue[i];return y(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),y(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,tn.resolve()},t.prototype.getLastStreamToken=function(t){return tn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,tn.resolve()},t.prototype.addMutationBatch=function(t,e,n){y(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&y(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new fn(r,e,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new on(a[o].key,r));return tn.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return tn.resolve(this.findMutationBatch(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){for(var n=this.mutationQueue.length,r=Math.max(e,this.highestAcknowledgedBatchId)+1,i=this.indexOfBatchId(r),o=i<0?0:i;o<n;o++){var a=this.mutationQueue[o];if(!a.isTombstone())return tn.resolve(a)}return tn.resolve(null)},t.prototype.getAllMutationBatches=function(t){return tn.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this.mutationQueue.length,r=this.indexOfBatchId(e);return r<0?r=0:r>=n?r=n:r++,tn.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new on(e,0),i=new on(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){y(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);y(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),tn.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ae(H);return e.forEach(function(t){var e=new on(t,0),i=new on(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){y(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),tn.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;it.isDocumentKey(i)||(i=i.child(""));var o=new on(new it(i),0),a=new ae(H);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),tn.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatches=function(t,e){var n=e.length;y(n>0,"Should not remove mutations when none exist.");var r=e[0].batchId,i=this.mutationQueue.length,o=this.indexOfExistingBatchId(r,"removed");y(this.mutationQueue[o].batchId===r,"Removed batches must exist in the queue");for(var a=1,s=o+1;a<n&&s<i;)(d=this.mutationQueue[s]).isTombstone()?s++:(y(d.batchId===e[a].batchId,"Removed batches must be contiguous in the queue"),a++,s++);if(0===o){for(;s<i&&(d=this.mutationQueue[s]).isTombstone();s++);this.mutationQueue.splice(o,s-o)}else for(var u=o;u<s;u++)this.mutationQueue[u]=this.mutationQueue[u].toTombstone();for(var l=this.batchesByDocumentKey,c=0,h=e;c<h.length;c++)for(var d,p=(d=h[c]).batchId,f=0,g=d.mutations;f<g.length;f++){var m=g[f].key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(m);var v=new on(m,p);l=l.delete(v)}return this.batchesByDocumentKey=l,tn.resolve()},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new on(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return tn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&y(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),tn.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return y(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return y(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}(),hr=function(){function t(){this.queries=new Xe(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Ht.MIN,this.highestTargetId=0,this.references=new rn,this.targetCount=0}return t.prototype.start=function(t){return tn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.getHighestTargetId=function(){return this.highestTargetId},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,tn.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e)},t.prototype.addQueryData=function(t,e){return y(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,tn.resolve()},t.prototype.updateQueryData=function(t,e){return y(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),tn.resolve()},t.prototype.removeQueryData=function(t,e){return y(this.targetCount>0,"Removing a target from an empty cache"),y(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,tn.resolve()},Object.defineProperty(t.prototype,"count",{get:function(){return this.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return tn.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.references.addReferences(e,n),tn.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){return this.references.removeReferences(e,n),tn.resolve()},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),tn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return tn.resolve(n)},t.prototype.setGarbageCollector=function(t){this.references.setGarbageCollector(t)},t.prototype.containsKey=function(t,e){return this.references.containsKey(t,e)},t}(),dr=function(){function t(){this.docs=ue()}return t.prototype.addEntry=function(t,e){return this.docs=this.docs.insert(e.key,e),tn.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),tn.resolve()},t.prototype.getEntry=function(t,e){return tn.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=ce(),r=new it(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.value;if(!e.path.isPrefixOf(o.key.path))break;a instanceof ot&&e.matches(a)&&(n=n.insert(a.key,a))}return tn.resolve(n)},t}(),pr=function(){function t(){this.mutationQueues={},this.remoteDocumentCache=new dr,this.queryCache=new hr,this._started=!1}return t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return y(!this._started,"MemoryPersistence double-started!"),this._started=!0,[2]})})},t.prototype.shutdown=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return y(this._started,"MemoryPersistence shutdown without start!"),this._started=!1,[2]})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new cr,this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e){return d("MemoryPersistence","Starting transaction:",t),e(new fr).toPromise()},t}(),fr=function(){},gr=function(){function t(){this.isEager=!1}return t.prototype.addGarbageSource=function(t){},t.prototype.removeGarbageSource=function(t){},t.prototype.addPotentialGarbageKey=function(t){},t.prototype.collectGarbage=function(t){return tn.resolve(fe())},t}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout"}(nr||(nr={}));var yr=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueue(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),mr=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw p("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),y(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=yr.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&g("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){y(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){return this.delayedOperations.findIndex(function(e){return e.timerId===t})>=0},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){y(t===nr.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==nr.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);y(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),vr=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){this.cancel();var e=this.currentBaseMs+this.jitterDelayMs();this.currentBaseMs>0&&d("ExponentialBackoff","Backing off for "+e+" ms (base delay: "+this.currentBaseMs+" ms)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,e,t),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),_r=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),br=1e3,wr=6e4,Cr=1.5,Er=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=_r.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new vr(t,e,br,Cr,wr)}return t.prototype.isStarted=function(){return this.state===_r.Starting||this.state===_r.Open||this.state===_r.Backoff},t.prototype.isOpen=function(){return this.state===_r.Open},t.prototype.start=function(){this.state!==_r.Error?(y(this.state===_r.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){this.isStarted()&&this.close(_r.Initial)},t.prototype.inhibitBackoff=function(){y(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=_r.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.isOpen()?[2,this.close(_r.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return y(this.isStarted(),"Only started streams should be closed."),y(t===_r.Error||Dt(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==_r.Error?this.backoff.reset():e&&e.code===_.RESOURCE_EXHAUSTED?(p(e.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===_.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;y(this.state===_r.Initial,"Must be in initial state to auth"),this.state=_r.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new b(_.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;y(this.state===_r.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return y(e.state===_r.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=_r.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;y(this.state===_r.Error,"Should only perform backoff when in Error state"),this.state=_r.Backoff,this.backoff.backoffAndRun(function(){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(t){return y(this.state===_r.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=_r.Initial,this.start(),y(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return y(this.isStarted(),"Can't handle server close on non-started stream"),d("PersistentStream","close with error: "+t),this.stream=null,this.close(_r.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueue(function(){return e.closeCount===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Sr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,nr.ListenStreamConnectionBackoff,nr.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return o.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(Er),kr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,nr.WriteStreamConnectionBackoff,nr.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return o.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(y(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return y(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){y(this.isOpen(),"Writing handshake requires an opened stream"),y(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;y(this.isOpen(),"Writing mutations requires an opened stream"),y(this.handshakeComplete_,"Handshake must be complete before writing mutations"),y(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(Er),Ar=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new kr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new Sr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=ue();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);y(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),Tr=function(){function t(t){this.datastore=t,this.readVersions=de(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e=t.version;t instanceof at&&(e=Ht.forDeletedDoc());var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new b(_.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){return e.recordVersion(t)}),t})},t.prototype.write=function(t){if(this.committed)throw new b(_.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?Yt.updateTime(e):Yt.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Ht.forDeletedDoc()))throw new b(_.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?Yt.updateTime(e):Yt.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new ee(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Ht.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),Ir=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=$e.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast($e.Unknown),y(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(nr.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,y(t.state===$e.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast($e.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===$e.Online?(this.setAndBroadcast($e.Unknown),y(0===this.watchStreamFailures,"watchStreamFailures must be 0"),y(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=2&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 2 times. Most recent error: "+t.toString()),this.setAndBroadcast($e.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===$e.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(p(e),this.shouldWarnClientIsOffline=!1):d("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),Rr=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.networkEnabled=!1,this.watchChangeAggregator=null,this.onlineStateTracker=new Ir(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return[4,this.enableNetwork()];case 1:return t.sent(),[2]}})})},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled?[3,3]:(this.networkEnabled=!0,t=this.writeStream,[4,this.localStore.getLastStreamToken()]);case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set($e.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set($e.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.networkEnabled&&(this.networkEnabled=!1,this.writeStream.stop(),this.watchStream.stop(),this.writePipeline.length>0&&(d("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState()),[2]})})},t.prototype.shutdown=function(){return d("RemoteStore","RemoteStore shutting down."),this.disableNetworkInternal(),this.onlineStateTracker.set($e.Unknown),Promise.resolve()},t.prototype.listen=function(t){y(!C(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){y(C(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&(this.sendUnwatchRequest(t),A(this.listenTargets)&&this.watchStream.markIdle())},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){y(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new ke(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return o.__awaiter(this,void 0,void 0,function(){var t=this;return o.__generator(this,function(e){return S(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return void 0===t&&y(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set($e.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return this.onlineStateTracker.set($e.Online),t instanceof Ee&&t.state===Ce.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof be?this.watchChangeAggregator.handleDocumentChange(t):t instanceof we?this.watchChangeAggregator.handleExistenceFilter(t):(y(t instanceof Ee,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),!e.isEqual(Ht.MIN)&&e.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0?[4,this.raiseWatchSnapshot(e)]:[3,2]);case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;y(!t.isEqual(Ht.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return S(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:v()}),e.sendUnwatchRequest(t);var r=new Kt(n.query,t,Gt.ExistenceFilterMismatch);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;y(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){return C(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:pn)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.networkEnabled&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){y(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){y(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)})},t.prototype.onMutationResult=function(t,e){var n=this;y(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=gn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return o.__awaiter(this,void 0,void 0,function(){var e=this;return o.__generator(this,function(n){return void 0===t&&y(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return ie(t.code)||t.code===_.ABORTED?(d("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=v(),[2,this.localStore.setLastStreamToken(v())]):[2]})})},t.prototype.handleWriteError=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n=this;return o.__generator(this,function(r){return ie(t.code)?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2]})})},t.prototype.createTransaction=function(){return new Tr(this.datastore)},t.prototype.handleUserChange=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return d("RemoteStore","RemoteStore changing users: uid=",t.uid),this.networkEnabled?(this.disableNetworkInternal(),this.onlineStateTracker.set($e.Unknown),[4,this.enableNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t}(),Or=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r}return t.prototype.start=function(t){var e=this,n=new Yn,r=new Yn,i=!1;return this.credentials.setUserChangeListener(function(o){i?e.asyncQueue.enqueue(function(){return e.handleUserChange(o)}):(i=!0,e.initializePersistence(t,r).then(function(){return e.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueue(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.enableNetwork()})},t.prototype.initializePersistence=function(t,e){var n=this;return t?this.startIndexedDbPersistence().then(e.resolve).catch(function(t){return e.reject(t),n.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),n.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof b?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code},t.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new gr;var t=ar.buildStoragePrefix(this.databaseInfo),e=new Fe(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new ar(t,e),this.persistence.start()},t.prototype.startMemoryPersistence=function(){return this.garbageCollector=new en,this.persistence=new pr,this.persistence.start()},t.prototype.initializeRest=function(t){var e=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){e.localStore=new lr(e.persistence,t,e.garbageCollector);var r=e.platform.newSerializer(e.databaseInfo.databaseId),i=new Ar(e.asyncQueue,n,e.credentials,r);return e.remoteStore=new Rr(e.localStore,i,e.asyncQueue,function(t){e.syncEngine.applyOnlineStateChange(t),e.eventMgr.applyOnlineStateChange(t)}),e.syncEngine=new dn(e.localStore,e.remoteStore,t),e.remoteStore.syncEngine=e.syncEngine,e.eventMgr=new Je(e.syncEngine),e.localStore.start()}).then(function(){return e.remoteStore.start()})},t.prototype.handleUserChange=function(t){return this.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","User Changed: "+t.uid),this.syncEngine.handleUserChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.credentials.removeUserChangeListener(),e.remoteStore.shutdown()}).then(function(){return e.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)})},t.prototype.listen=function(t,e,n){var r=this,i=new Ze(t,e,n);return this.asyncQueue.enqueue(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueue(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof ot)return t;throw new b(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=fe(),r=new hn(t,n),i=r.computeDocChanges(e);return r.applyChanges(i).snapshot})},t.prototype.write=function(t){var e=this,n=new Yn;return this.asyncQueue.enqueue(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),Pr=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Dr=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Nr=function(){function t(){this.userListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setUserChangeListener=function(t){y(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,t(Dr.UNAUTHENTICATED)},t.prototype.removeUserChangeListener=function(){y(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},t}(),xr=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.forceRefresh=!1,this.tokenListener=function(){var t=e.getUser();e.currentUser&&t.isEqual(e.currentUser)||(e.currentUser=t,e.userCounter++,e.userListener&&e.userListener(e.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;y(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.userCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.userCounter!==e)throw new b(_.ABORTED,"getToken aborted due to uid change.");return n?(y("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setUserChangeListener=function(t){y(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeUserChangeListener=function(){y(null!=this.tokenListener,"removeUserChangeListener() called twice"),y(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},t.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&g("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var t=this.app.INTERNAL.getUid();return y(null===t||"string"==typeof t,"Received invalid UID: "+t),new Dr(t)},t}(),Mr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Dr.FIRST_PARTY,y(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),Lr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,y(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(){return Promise.resolve(new Mr(this.gapi,this.sessionIndex))},t.prototype.setUserChangeListener=function(t){t(Dr.FIRST_PARTY)},t.prototype.removeUserChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Fr(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Br=function(){function t(t){this.methodName=t}return t.delete=function(){return jr.instance},t.serverTimestamp=function(){return Ur.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return I("FieldValue.arrayUnion",arguments,1),new Vr(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return I("FieldValue.arrayRemove",arguments,1),new zr(t)},t.prototype.isEqual=function(t){return this===t},t}(),jr=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(Br),Ur=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(Br),Vr=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return o.__extends(e,t),e}(Br),zr=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return o.__extends(e,t),e}(Br),qr=w(Br,"Use FieldValue.<field>() instead."),Hr=/^__.*__$/,Gr=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new Zt(t,this.data,this.fieldMask,e):new Jt(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new te(t,this.fieldTransforms)),n},t}(),Kr=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new Zt(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new te(t,this.fieldTransforms)),n},t}(),Wr=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function Qr(t){switch(t){case Wr.Set:case Wr.MergeSet:case Wr.Update:return!0;case Wr.Argument:return!1;default:throw g("Unexpected case for UserDataSource: "+t)}}var $r=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new b(_.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(Qr(this.dataSource)&&Hr.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),Yr=function(t,e){this.databaseId=t,this.key=e},Xr=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new $r(Wr.Set,t,rt.EMPTY_PATH);Zr("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new Gr(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new $r(Wr.MergeSet,t,rt.EMPTY_PATH);Zr("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=[],u=0,l=n;u<l.length;u++){var c=l[u],h=void 0;if(c instanceof We?h=c:"string"==typeof c?h=ei(t,c):g("Expected stringOrFieldPath to be a string or a FieldPath"),!r.contains(h))throw new b(_.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s.push(h)}i=new Wt(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=new Wt(r.fieldMask),o=r.fieldTransforms;return new Gr(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new $r(Wr.Update,t,rt.EMPTY_PATH);Zr("Data must be an object, but it was:",r,e);var i=[],o=At.EMPTY;k(e,function(e,a){var s=ei(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof jr)i.push(s);else{var l=n.parseData(a,u);null!=l&&(i.push(s),o=o.set(s,l))}});var a=new Wt(i);return new Kr(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new $r(Wr.Update,t,rt.EMPTY_PATH),o=[ti(t,e)],a=[n];if(r.length%2!=0)throw new b(_.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(ti(t,r[s])),a.push(r[s+1]);var u=[],l=At.EMPTY;for(s=0;s<o.length;++s){var c=o[s],h=i.childContextForFieldPath(c),d=this.runPreConverter(a[s],h);if(d instanceof jr)u.push(c);else{var p=this.parseData(d,h);null!=p&&(u.push(c),l=l.set(c,p))}}var f=new Wt(u);return new Kr(l,f,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new $r(Wr.Argument,t,rt.EMPTY_PATH),r=this.parseData(e,n);return y(null!=r,"Parsed data should not be null."),y(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=ni(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(Jr(t=this.runPreConverter(t,e)))return Zr("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Br)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new st(H);return k(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new At(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=this.parseData(o[i],e.childContextForArray(r));null==a&&(a=ft.INSTANCE),n.push(a),r++}return new Tt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!Qr(e.dataSource))throw e.createError(t.methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t.methodName+"() is not currently supported inside arrays");if(t instanceof jr){if(e.dataSource!==Wr.MergeSet)throw e.dataSource===Wr.Update?(y(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof Ur)e.fieldTransforms.push(new Qt(e.path,Ie.instance));else if(t instanceof Vr){var n=this.parseArrayTransformElements(t.methodName,t._elements),r=new Re(n);e.fieldTransforms.push(new Qt(e.path,r))}else if(t instanceof zr){n=this.parseArrayTransformElements(t.methodName,t._elements);var i=new Oe(n);e.fieldTransforms.push(new Qt(e.path,i))}else g("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return ft.INSTANCE;if("number"==typeof t)return function(t){return Pt(t)&&t<=Ot&&t>=Rt}(t)?new vt(t):new _t(t);if("boolean"==typeof t)return gt.of(t);if("string"==typeof t)return new bt(t);if(t instanceof Date)return new wt(X.fromDate(t));if(t instanceof X)return new wt(new X(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof Y)return new kt(t);if(t instanceof Q)return new Et(t);if(t instanceof Yr)return new St(t.databaseId,t.key);throw e.createError("Unsupported field value: "+F(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new $r(Wr.Argument,t,rt.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function Jr(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof X||t instanceof Y||t instanceof Q||t instanceof Yr||t instanceof Br)}function Zr(t,e,n){if(!Jr(n)||!L(n)){var r=F(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function ti(t,e){if(e instanceof We)return e._internalPath;if("string"==typeof e)return ei(t,e);throw new b(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function ei(t,e){try{return function(t){if(t.search(Qe)>=0)throw new b(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(We.bind.apply(We,[void 0].concat(t.split("."))))}catch(e){throw new b(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var n=ni(e);throw new b(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function ni(t){return t instanceof Error?t.message:t.toString()}var ri="firestore.googleapis.com",ii=!0,oi=!1,ai=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new b(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ri,this.ssl=ii}else D("settings","string","host",t.host),this.host=t.host,N("settings","boolean","ssl",t.ssl),this.ssl=E(t.ssl,ii);j("settings",t,["host","ssl","credentials","timestampsInSnapshots"]),N("settings","object","credentials",t.credentials),this.credentials=t.credentials,N("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),this.timestampsInSnapshots=E(t.timestampsInSnapshots,oi)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials},t}(),si=function(){},ui=function(){function t(e){var n=this;this._queue=new mr,this.INTERNAL={delete:function(t){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var r=new si;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new xr(i)}else{var a=e;if(!a.projectId)throw new b(_.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new Z(a.projectId,a.database),r.persistenceKey="[DEFAULT]",r.credentials=new Nr}r.settings=new ai({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(T("Firestore.settings",arguments,1),O("Firestore.settings","object",1,t),C(t,"persistence"))throw new b(_.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new ai(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new b(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Nr;switch(t.type){case"gapi":return new Lr(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new b(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(){if(this._firestoreClient)throw new b(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;y(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),this._config.settings.timestampsInSnapshots||p("\nThe behavior for Date objects stored in Firestore is going to change\nAND YOUR APP MAY BREAK.\nTo hide this warning and ensure your app does not break, you need to add the\nfollowing code to your app before calling any other Cloud Firestore methods:\n\n  const firestore = firebase.firestore();\n  const settings = {/* your settings... */ timestampsInSnapshots: true};\n  firestore.settings(settings);\n\nWith this change, timestamps stored in Cloud Firestore will be read back as\nFirebase Timestamp objects instead of as system Date objects. So you will also\nneed to update code expecting a Date to instead expect a Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at');\n  const date = timestamp.toDate();\n\nPlease audit all existing usages of Date when you enable the new behavior. In a\nfuture release, the behavior will change to the new behavior, so if you do not\nfollow these steps, YOUR APP MAY BREAK."),y(!this._firestoreClient,"configureClient() called multiple times");var n=new function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new Xr(function(t){if(t instanceof hi){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new b(_.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Yr(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Or(m.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!C(e,"projectId")){if(C(e,"firestoreId"))throw new b(_.INVALID_ARGUMENT,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new b(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}if(C(e,"firestoreOptions"))throw new b(_.INVALID_ARGUMENT,'"firestoreOptions" values are now specified with Firestore.settings()');var n=e.projectId;if(!n||"string"!=typeof n)throw new b(_.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Z(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new b(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(T("Firestore.collection",arguments,1),O("Firestore.collection","string",1,t),!t)throw new b(_.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new mi(et.fromString(t),this)},t.prototype.doc=function(t){if(T("Firestore.doc",arguments,1),O("Firestore.doc","string",1,t),!t)throw new b(_.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),hi.forPath(et.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return T("Firestore.runTransaction",arguments,1),O("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new li(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new ci(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(c()){case l.DEBUG:return"debug";case l.ERROR:return"error";case l.SILENT:return"silent";default:return g("Unknown log level: "+c())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(T("Firestore.setLogLevel",arguments,1),O("Firestore.setLogLevel","string",1,t),t){case"debug":h(l.DEBUG);break;case"error":h(l.ERROR);break;case"silent":h(l.SILENT);break;default:throw new b(_.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),li=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;T("Transaction.get",arguments,1);var n=bi("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return g("Mismatch in docs returned from document lookup.");var r=t[0];return new pi(e._firestore,n._key,r instanceof at?null:r,!1)})},t.prototype.set=function(t,e,n){R("Transaction.set",arguments,2,3);var r=bi("Transaction.set",t,this._firestore),i=(n=vi("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof We?(I("Transaction.update",arguments,3),r=bi("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(T("Transaction.update",arguments,2),r=bi("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){T("Transaction.delete",arguments,1);var e=bi("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),ci=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){R("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=bi("WriteBatch.set",t,this._firestore),i=(n=vi("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,Yt.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof We?(I("WriteBatch.update",arguments,3),r=bi("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(T("WriteBatch.update",arguments,2),r=bi("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,Yt.exists(!0))),this},t.prototype.delete=function(t){T("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=bi("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new ee(e._key,Yt.NONE)),this},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new b(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),hi=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new b(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new it(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new mi(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(T("DocumentReference.collection",arguments,1),O("DocumentReference.collection","string",1,t),!t)throw new b(_.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=et.fromString(t);return new mi(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw U("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){R("DocumentReference.set",arguments,1,2);var n=(e=vi("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,Yt.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof We?(I("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(T("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,Yt.exists(!0)))},t.prototype.delete=function(){return T("DocumentReference.delete",arguments,0),this._firestoreClient.write([new ee(this._key,Yt.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];R("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Fr(t[i])||(j("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),N("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Fr(t[i])?n=t[i]:(O("DocumentReference.onSnapshot","function",i,t[i]),P("DocumentReference.onSnapshot","function",i+1,t[i+1]),P("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Pr({next:function(t){if(e.next){y(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new pi(n.firestore,n._key,r,t.fromCache))}},error:r}),o=this._firestoreClient.listen(Nt.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return j("DocumentReference.get",t,["source"]),t&&x("DocumentReference.get",0,"source",t.source,["default","server","cache"]),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new pi(e.firestore,e._key,t,!0))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new b(_.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new b(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),di=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),pi=function(){function t(t,e,n,r){this._firestore=t,this._key=e,this._document=n,this._fromCache=r}return t.prototype.data=function(t){return R("DocumentSnapshot.data",arguments,0,1),t=_i("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,dt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(R("DocumentSnapshot.get",arguments,1,2),e=_i("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(ti("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,dt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new hi(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new di(null!==this._document&&this._document.hasLocalMutations,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw U("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof At)return this.convertObject(t,e);if(t instanceof Tt)return this.convertArray(t,e);if(t instanceof St){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||p("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new hi(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),fi=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return y("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(pi),gi=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i;T("Query.where",arguments,3),O("Query.where","string",2,n),B("Query.where",3,r);var o=ti("Query.where",e),a=Mt.fromString(n);if(o.isKeyField()){if(a===Mt.ARRAY_CONTAINS)throw new b(_.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(-1!==r.indexOf("/"))throw new b(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new b(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var s=this._query.path.child(new et([r]));y(s.length%2==0,"Path should be a document key"),i=new St(this.firestore._databaseId,new it(s))}else{if(!(r instanceof hi))throw new b(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+F(r)+".");i=new St(this.firestore._databaseId,r._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var u=xt.create(o,a,i);return this.validateNewFilter(u),new t(this._query.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(R("Query.orderBy",arguments,1,2),P("Query.orderBy","string",2,n),void 0===n||"asc"===n)r=jt.ASCENDING;else{if("desc"!==n)throw new b(_.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=jt.DESCENDING}if(null!==this._query.startAt)throw new b(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new b(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=ti("Query.orderBy",e),o=new Vt(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(T("Query.limit",arguments,1),O("Query.limit","number",1,e),e<=0)throw new b(_.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];I("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];I("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];I("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];I("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw U("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(B(t,1,e),e instanceof pi){if(n.length>0)throw new b(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new b(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new St(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new b(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Ut(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new b(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new b(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new b(_.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var s=new it(this._query.path.child(a));i.push(new St(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);i.push(u)}}return new Ut(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];R("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Fr(t[i])||(j("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),N("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Fr(t[i])?n=t[i]:(O("Query.onSnapshot","function",i,t[i]),P("Query.onSnapshot","function",i+1,t[i+1]),P("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Pr({next:function(t){e.next&&e.next(new yi(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return R("Query.get",arguments,0,1),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new yi(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new b(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Lt)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new b(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===Mt.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new b(_.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new b(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),yi=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new di(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;R("QuerySnapshot.forEach",arguments,1,2),O("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new gi(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){j("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),t&&N("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges);var e=t&&t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new b(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new fi(t,e.doc.key,e.doc,n.fromCache);return y(e.type===ye.Added,"Invalid event type for first snapshot"),y(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==ye.Metadata}).map(function(e){var r=new fi(t,e.doc.key,e.doc,n.fromCache),i=-1,a=-1;return e.type!==ye.Added&&(y((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==ye.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case ye.Added:return"added";case ye.Modified:case ye.Metadata:return"modified";case ye.Removed:return"removed";default:return g("Unknown change type: "+t)}}(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw U("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new fi(this._firestore,t.key,t,this.metadata.fromCache)},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(yi.prototype.docChanges,t,{get:function(){return function(){throw new b(_.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}});var mi=function(t){function e(e,n){var r=t.call(this,Nt.atPath(e),n)||this;if(e.length%2!=1)throw new b(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new hi(new it(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(R("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=q.newId()),O("CollectionReference.doc","string",1,t),""===t)throw new b(_.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=et.fromString(t);return hi.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){T("CollectionReference.add",arguments,1),O("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(gi);function vi(t,e){if(void 0===e)return{merge:!1};if(j(t,e,["merge","mergeFields"]),N(t,"boolean","merge",e.merge),function(e,n,r,i,o){void 0!==i&&function(t,e,n,r,i){if(!(r instanceof Array))throw new b(_.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+F(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new b(_.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+F(r[o]))}(t,0,0,i,function(t){return"string"==typeof t||t instanceof We})}(0,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new b(_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function _i(t,e){return void 0===e?{}:(j(t,e,["serverTimestamps"]),x(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function bi(t,e,n){if(e instanceof hi){if(e.firestore!==n)throw new b(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw U(t,"DocumentReference",1,e)}var wi=w(ui,"Use firebase.firestore() instead."),Ci=w(li,"Use firebase.firestore().runTransaction() instead."),Ei=w(ci,"Use firebase.firestore().batch() instead."),Si=w(hi,"Use firebase.firestore().doc() instead."),ki=w(pi),Ai=w(fi),Ti=w(gi),Ii=w(yi),Ri=w(mi,"Use firebase.firestore().collection() instead."),Oi={Firestore:wi,GeoPoint:Y,Timestamp:X,Blob:$,Transaction:Ci,WriteBatch:Ei,DocumentReference:Si,DocumentSnapshot:ki,Query:Ti,QueryDocumentSnapshot:Ai,QuerySnapshot:Ii,CollectionReference:Ri,FieldPath:We,FieldValue:qr,setLogLevel:ui.setLogLevel};function Pi(t){t.INTERNAL.registerService("firestore",function(t){return new ui(t)},function(t){y(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Oi))}Pi(r),e.registerFirestore=Pi},FGoP:function(module,exports,__webpack_require__){(function(){var g,goog=goog||{},k=this;function l(t){return"string"==typeof t}function n(t,e){t=t.split("."),e=e||k;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function aa(){}function ba(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return"array"==ba(t)}function ca(t){var e=ba(t);return"array"==e||"object"==e&&"number"==typeof t.length}function da(t){return"function"==ba(t)}function ea(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var q="closure_uid_"+(1e9*Math.random()>>>0),fa=0;function ha(t,e,n){return t.call.apply(t.bind,arguments)}function ia(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(t,e,n){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia).apply(null,arguments)}function ja(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var t=Date.now||function(){return+new Date};function u(t,e){function n(){}n.prototype=e.prototype,t.H=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ib=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ka(t){if(Error.captureStackTrace)Error.captureStackTrace(this,ka);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function la(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");ka.call(this,n+t[r])}function ma(t,e){throw new la("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function w(){0!=na&&(pa[this[q]||(this[q]=++fa)]=this),this.i=this.i,this.m=this.m}u(ka,Error),ka.prototype.name="CustomError",u(la,ka),la.prototype.name="AssertionError";var na=0,pa={};w.prototype.i=!1,w.prototype.$=function(){if(!this.i&&(this.i=!0,this.w(),0!=na)){var t=this[q]||(this[q]=++fa);if(0!=na&&this.m&&0<this.m.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete pa[t]}},w.prototype.w=function(){if(this.m)for(;this.m.length;)this.m.shift()()};var qa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ra=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function sa(t){t:{for(var e=ta,n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}function ua(t){if(!p(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function va(t){return Array.prototype.concat.apply([],arguments)}function wa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function xa(t){return/^[\s\xa0]*$/.test(t)}var ya=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},x;function za(t,e){return t<e?-1:t>e?1:0}t:{var Aa=k.navigator;if(Aa){var Ba=Aa.userAgent;if(Ba){x=Ba;break t}}x=""}function y(t){return-1!=x.indexOf(t)}function Ca(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Da(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function Ea(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function Fa(t){var e,n={};for(e in t)n[e]=t[e];return n}var Ga="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ha(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ga.length;o++)n=Ga[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ia(t){return Ia[" "](t),t}function Ja(t,e){var n=Ka;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Ia[" "]=aa;var La=y("Opera"),z=y("Trident")||y("MSIE"),Ma=y("Edge"),Na=Ma||z,Oa=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Pa=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Ra;function Qa(){var t=k.document;return t?t.documentMode:void 0}t:{var Sa="",Ta=function(){var t=x;return Oa?/rv:([^\);]+)(\)|;)/.exec(t):Ma?/Edge\/([\d\.]+)/.exec(t):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Pa?/WebKit\/(\S+)/.exec(t):La?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Ta&&(Sa=Ta?Ta[1]:""),z){var Ua=Qa();if(null!=Ua&&Ua>parseFloat(Sa)){Ra=String(Ua);break t}}Ra=Sa}var Ka={},Wa;function Va(t){return Ja(t,function(){for(var e=0,n=ya(String(Ra)).split("."),r=ya(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=za(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||za(0==a[2].length,0==s[2].length)||za(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Xa=k.document;Wa=Xa&&z?Qa()||("CSS1Compat"==Xa.compatMode?parseInt(Ra,10):5):void 0;var Ya=Object.freeze||function(t){return t},Za=!z||9<=Number(Wa),$a=z&&!Va("9"),ab=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return k.addEventListener("test",aa,e),k.removeEventListener("test",aa,e),t}();function A(t,e){this.type=t,this.a=this.target=e,this.Ra=!0}function bb(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Oa){t:{try{Ia(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:cb[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}A.prototype.b=function(){this.Ra=!1},u(bb,A);var cb=Ya({2:"touch",3:"pen",4:"mouse"});bb.prototype.b=function(){bb.H.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$a)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var db="closure_listenable_"+(1e6*Math.random()|0),eb=0;function fb(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ga=i,this.key=++eb,this.Z=this.ba=!1}function gb(t){t.Z=!0,t.listener=null,t.proxy=null,t.src=null,t.ga=null}function hb(t){this.src=t,this.a={},this.b=0}function jb(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=qa(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(gb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ib(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Z&&o.listener==e&&o.capture==!!n&&o.ga==r)return i}return-1}hb.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ib(t,e,r,i);return-1<a?(e=t[a],n||(e.ba=!1)):((e=new fb(e,this.src,o,!!r,i)).ba=n,t.push(e)),e};var kb="closure_lm_"+(1e6*Math.random()|0),lb={},mb=0;function nb(t,e,n,r,i){if(r&&r.once)return ob(t,e,n,r,i);if(p(e)){for(var o=0;o<e.length;o++)nb(t,e[o],n,r,i);return null}return n=pb(n),t&&t[db]?t.Ia(e,n,ea(r)?!!r.capture:!!r,i):qb(t,e,n,!1,r,i)}function qb(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=ea(i)?!!i.capture:!!i,s=rb(t);if(s||(t[kb]=s=new hb(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=sb(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ab||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tb(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return mb++,n}function sb(){var t=ub,e=Za?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function ob(t,e,n,r,i){if(p(e)){for(var o=0;o<e.length;o++)ob(t,e[o],n,r,i);return null}return n=pb(n),t&&t[db]?t.Ja(e,n,ea(r)?!!r.capture:!!r,i):qb(t,e,n,!0,r,i)}function vb(t,e,n,r,i){if(p(e))for(var o=0;o<e.length;o++)vb(t,e[o],n,r,i);else r=ea(r)?!!r.capture:!!r,n=pb(n),t&&t[db]?(t=t.f,(e=String(e).toString())in t.a&&-1<(n=ib(o=t.a[e],n,r,i))&&(gb(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=rb(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ib(e,n,r,i)),(n=-1<t?e[t]:null)&&wb(n))}function wb(t){if("number"!=typeof t&&t&&!t.Z){var e=t.src;if(e&&e[db])jb(e.f,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),mb--,(n=rb(e))?(jb(n,t),0==n.b&&(n.src=null,e[kb]=null)):gb(t)}}}function tb(t){return t in lb?lb[t]:lb[t]="on"+t}function xb(t,e,n,r){var i=!0;if((t=rb(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.Z&&(o=yb(o,r),i=i&&!1!==o)}return i}function yb(t,e){var n=t.listener,r=t.ga||t.src;return t.ba&&wb(t),n.call(r,e)}function ub(t,e){if(t.Z)return!0;if(!Za){var r=e||n("window.event");e=new bb(r,this);var i=!0;if(!(0>r.keyCode||void 0!=r.returnValue)){t:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=e.a;o;o=o.parentNode)r.push(o);for(t=t.type,o=r.length-1;0<=o;o--){e.a=r[o];var a=xb(r[o],t,!0,e);i=i&&a}for(o=0;o<r.length;o++)e.a=r[o],a=xb(r[o],t,!1,e),i=i&&a}return i}return yb(t,new bb(e,this))}function rb(t){return(t=t[kb])instanceof hb?t:null}var zb="__closure_events_fn_"+(1e9*Math.random()>>>0);function pb(t){return da(t)?t:(t[zb]||(t[zb]=function(e){return t.handleEvent(e)}),t[zb])}function B(){w.call(this),this.f=new hb(this),this.N=this,this.J=null}function Ab(t,e,n,r){if(!(e=t.f.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Z&&a.capture==n){var s=a.listener,u=a.ga||a.src;a.ba&&jb(t.f,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ra}function Bb(t){return!/^\s*$/.test(t)&&/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Cb(a){if(a=String(a),Bb(a))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function Db(t){var e=[];return Eb(new Fb,t,e),e.join("")}function Fb(){}function Eb(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(p(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),Eb(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),Gb(r,n),n.push(":"),Eb(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Gb(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}u(B,w),B.prototype[db]=!0,g=B.prototype,g.addEventListener=function(t,e,n,r){nb(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){vb(this,t,e,n,r)},g.dispatchEvent=function(t){var e,n=this.J;if(n)for(e=[];n;n=n.J)e.push(n);n=this.N;var r=t.type||t;if(l(t))t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var i=t;Ha(t=new A(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Ab(a,r,!0,t)&&i}if(i=Ab(a=t.a=n,r,!0,t)&&i,i=Ab(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ab(a=t.a=e[o],r,!1,t)&&i;return i},g.w=function(){if(B.H.w.call(this),this.f){var t,e=this.f;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)gb(n[r]);delete e.a[t],e.b--}}this.J=null},g.Ia=function(t,e,n,r){return this.f.add(String(t),e,!1,n,r)},g.Ja=function(t,e,n,r){return this.f.add(String(t),e,!0,n,r)};var Hb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ib=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Gb(t,e){e.push('"',t.replace(Ib,function(t){var e=Hb[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Hb[t]=e),e}),'"')}function Jb(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Kb(){this.b=this.a=null}Jb.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nb=new Jb(function(){return new Lb},function(t){t.reset()}),Rb,Tb;function Ob(){var t=Pb,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Lb(){this.next=this.b=this.a=null}function Qb(t){k.setTimeout(function(){throw t},0)}function Sb(){var t=k.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=r(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!y("Trident")&&!y("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).za;n.za=null,t()}},function(t){i.next={za:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){k.setTimeout(t,0)}}function Ub(){if(-1!=String(k.Promise).indexOf("[native code]")){var t=k.Promise.resolve(void 0);Tb=function(){t.then(Vb)}}else Tb=function(){var t=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(t)):k.setImmediate(t)}}Kb.prototype.add=function(t,e){var n=Nb.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Lb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Lb.prototype.reset=function(){this.next=this.b=this.a=null};var Wb=!1,Pb=new Kb;function Vb(){for(var t;t=Ob();){try{t.a.call(t.b)}catch(t){Qb(t)}var e=Nb;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.c=r(this.qb,this),this.g=t()}function Yb(t){t.ea=!1,t.O&&(t.a.clearTimeout(t.O),t.O=null)}function Zb(t,e,n){if(da(t))n&&(t=r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r(t.handleEvent,t)}return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function $b(t,e,n){w.call(this),this.f=null!=n?r(t,n):t,this.c=e,this.b=r(this.kb,this),this.a=[]}function ac(t){t.Y=Zb(t.b,t.c),t.f.apply(null,t.a)}function bc(t){w.call(this),this.b=t,this.a={}}u(Xb,B),g=Xb.prototype,g.ea=!1,g.O=null,g.qb=function(){if(this.ea){var e=t()-this.g;0<e&&e<.8*this.b?this.O=this.a.setTimeout(this.c,this.b-e):(this.O&&(this.a.clearTimeout(this.O),this.O=null),this.dispatchEvent("tick"),this.ea&&(this.O=this.a.setTimeout(this.c,this.b),this.g=t()))}},g.start=function(){this.ea=!0,this.O||(this.O=this.a.setTimeout(this.c,this.b),this.g=t())},g.w=function(){Xb.H.w.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ha=!1,g.Y=null,g.cb=function(t){this.a=arguments,this.Y?this.ha=!0:ac(this)},g.w=function(){$b.H.w.call(this),this.Y&&(k.clearTimeout(this.Y),this.Y=null,this.ha=!1,this.a=[])},g.kb=function(){this.Y=null,this.ha&&(this.ha=!1,ac(this))},u(bc,w);var cc=[];function dc(t,e,n,r){p(n)||(n&&(cc[0]=n.toString()),n=cc);for(var i=0;i<n.length;i++){var o=nb(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ec(t){Ca(t.a,function(t,e){this.a.hasOwnProperty(e)&&wb(t)},t),t.a={}}function fc(t,e,n){this.reset(t,e,n,void 0,void 0)}bc.prototype.w=function(){bc.H.w.call(this),ec(this)},bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fc.prototype.a=null;var gc=0;function hc(t){this.f=t,this.b=this.c=this.a=null}function C(t,e){this.name=t,this.value=e}fc.prototype.reset=function(e,n,r,i,o){"number"==typeof o||gc++,i||t(),delete this.a},C.prototype.toString=function(){return this.name};var ic=new C("SEVERE",1e3),jc=new C("WARNING",900),kc=new C("INFO",800),lc=new C("CONFIG",700),mc=new C("FINE",500);function nc(t){return t.c?t.c:t.a?nc(t.a):(ma("Root logger has no level set."),null)}hc.prototype.log=function(t,e,n){if(t.value>=nc(this).value)for(da(e)&&(e=e()),t=new fc(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var oc={},pc=null;function qc(t){var e;if(pc||(pc=new hc(""),oc[""]=pc,pc.c=lc),!(e=oc[t])){e=new hc(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=qc(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,oc[t]=e}return e}function D(t,e){t&&t.log(jc,e,void 0)}function rc(t,e){t&&t.log(kc,e,void 0)}function E(t,e){t&&t.log(mc,e,void 0)}function sc(){this.a=qc("goog.labs.net.webChannel.WebChannelDebug"),this.b=!0}function tc(t,e,n,r,i,o){F(t,function(){if(t.b)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}function uc(t,e,n,r,i,o,a){F(t,function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}function G(t,e,n,r){F(t,function(){return"XMLHTTP TEXT ("+e+"): "+vc(t,n)+(r?" "+r:"")})}function wc(t,e){F(t,function(){return"TIMEOUT: "+e})}function H(t,e){E(t.a,e)}function xc(t,e,n){(t=t.a)&&t.log(ic,n||"Exception",e)}function F(t,e){rc(t.a,e)}function J(t,e){(t=t.a)&&t.log(ic,e,void 0)}function vc(t,e){if(!t.b)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(var r=0;r<n.length;r++)if(p(n[r])){var i=n[r];if(!(2>i.length)){var o=i[1];if(p(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<o.length;s++)o[s]=""}}}return Db(n)}catch(n){return H(t,"Exception parsing expected JS array - probably was not JS"),e}}sc.prototype.Fa=function(){this.b=!1};var yc=new B;function zc(t){A.call(this,"serverreachability",t)}function Ac(t){yc.dispatchEvent(new zc(yc,t))}function Bc(t){A.call(this,"statevent",t)}function K(t){yc.dispatchEvent(new Bc(yc,t))}function Cc(t){A.call(this,"timingevent",t)}function Dc(t,e,n){yc.dispatchEvent(new Cc(yc,t,e,n))}function Ec(t,e){if(!da(t))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}u(zc,A),u(Bc,A),u(Cc,A);var Fc={NO_ERROR:0,rb:1,yb:2,xb:3,ub:4,wb:5,zb:6,Ua:7,TIMEOUT:8,Cb:9},Gc={tb:"complete",Gb:"success",Va:"error",Ua:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",vb:"downloadprogress",Hb:"uploadprogress"};function Hc(){}function Ic(t){var e;return(e=t.a)||(e={},Jc(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}function Kc(){}Hc.prototype.a=null;var Lc={OPEN:"a",sb:"b",Va:"c",Bb:"d"},Oc;function Mc(){A.call(this,"d")}function Nc(){A.call(this,"c")}function Pc(){}function Qc(t){return(t=Jc(t))?new ActiveXObject(t):new XMLHttpRequest}function Jc(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.b=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b}function L(t,e,n,r){this.i=t,this.b=e,this.c=n,this.T=r||1,this.L=new bc(this),this.R=Rc,this.S=new Xb(t=Na?125:void 0),this.j=null,this.f=!1,this.l=this.g=this.h=this.J=this.D=this.U=this.s=null,this.u=[],this.a=null,this.G=0,this.m=this.o=null,this.C=-1,this.B=!1,this.N=0,this.I=null,this.v=this.X=this.K=!1}u(Mc,A),u(Nc,A),u(Pc,Hc),Oc=new Pc;var Rc=45e3;function Sc(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}var Tc={},Uc={};function Vc(t,e,n){t.J=1,t.h=Wc(M(e)),t.l=n,t.K=!0,Xc(t,null)}function Yc(t,e,n,r){t.J=1,t.h=Wc(M(e)),t.l=null,t.K=n,Xc(t,r)}function Xc(e,n){e.D=t(),Zc(e),e.g=M(e.h),$c(e.g,"t",e.T),e.G=0,e.a=e.i.ca(e.i.ia()?n:null),0<e.N&&(e.I=new $b(r(e.Sa,e,e.a),e.N)),dc(e.L,e.a,"readystatechange",e.nb),n=e.j?Fa(e.j):{},e.l?(e.o||(e.o="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.fa(e.g,e.o,e.l,n)):(e.o="GET",e.a.fa(e.g,e.o,null,n)),Ac(1),tc(e.b,e.o,e.g,e.c,e.T,e.l)}function ad(t){var e=N(t.a),n=t.a.Ga(),r=t.a.W();if(!(3>e||3==e&&!Na&&!t.a.V())){t.B||4!=e||7==n||Ac(8==n||0>=r?3:2),bd(t);var i=t.a.W();t.C=i,(n=t.a.V())||H(t.b,function(){return"No response text for uri "+t.g+" status "+i}),t.f=200==i,uc(t.b,t.o,t.g,t.c,t.T,e,i),t.f?((r=cd(t))&&(G(t.b,t.c,r,"Initial handshake response via X-HTTP-Initial-Response"),t.v=!0,dd(t,r)),t.K?(ed(t,e,n),Na&&t.f&&3==e&&fd(t)):(G(t.b,t.c,n,null),dd(t,n)),4==e&&gd(t),t.f&&!t.B&&(4==e?t.i.ta(t):(t.f=!1,Zc(t)))):(400==i&&0<n.indexOf("Unknown SID")?(t.m=3,K(12),D(t.b.a,"XMLHTTP Unknown SID ("+t.c+")")):(t.m=0,K(13),D(t.b.a,"XMLHTTP Bad status "+i+" ("+t.c+")")),gd(t),hd(t))}}function cd(t){return!t.X||t.v?null:t.a&&(t=id(t.a,"X-HTTP-Initial-Response"))&&!xa(t)?t:null}function ed(t,e,n){for(var r=!0;!t.B&&t.G<n.length;){var i=jd(t,n);if(i==Uc){4==e&&(t.m=4,K(14),r=!1),G(t.b,t.c,null,"[Incomplete Response]");break}if(i==Tc){t.m=4,K(15),G(t.b,t.c,n,"[Invalid Chunk]"),r=!1;break}G(t.b,t.c,i,null),dd(t,i)}4==e&&0==n.length&&(t.m=1,K(16),r=!1),t.f=t.f&&r,r||(G(t.b,t.c,n,"[Invalid Chunked Response]"),gd(t),hd(t))}function fd(t){dc(t.L,t.S,"tick",t.mb),t.S.start()}function jd(t,e){var n=t.G,r=e.indexOf("\n",n);return-1==r?Uc:(n=Number(e.substring(n,r)),isNaN(n)?Tc:(r+=1)+n>e.length?Uc:(e=e.substr(r,n),t.G=r+n,e))}function Zc(e){e.U=t()+e.R,kd(e,e.R)}function kd(t,e){if(null!=t.s)throw Error("WatchDog timer not null");t.s=Ec(r(t.lb,t),e)}function bd(t){t.s&&(k.clearTimeout(t.s),t.s=null)}function hd(t){t.i.La()||t.B||t.i.ta(t)}function gd(t){bd(t);var e=t.I;e&&"function"==typeof e.$&&e.$(),t.I=null,Yb(t.S),ec(t.L),t.a&&(e=t.a,t.a=null,e.abort(),e.$())}function dd(t,e){try{t.i.Oa(t,e),Ac(4)}catch(e){xc(t.b,e,"Error in httprequest callback")}}function ld(t){if(t.A&&"function"==typeof t.A)return t.A();if(l(t))return t.split("");if(ca(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return Da(t)}function md(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ca(t)||l(t))ra(t,e,void 0);else{if(t.M&&"function"==typeof t.M)var n=t.M();else if(t.A&&"function"==typeof t.A)n=void 0;else if(ca(t)||l(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else n=Ea(t);i=(r=ld(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function O(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof O)for(n=t.M(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function od(t){t.b={},t.a.length=0,t.c=0}function pd(t,e){return!!P(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nd(t),!0)}function nd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];P(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)P(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}g=L.prototype,g.setTimeout=function(t){this.R=t},g.nb=function(t){t=t.target;var e=this.I;e&&3==N(t)?(H(this.b,"Throttling readystatechange."),e.cb()):this.Sa(t)},g.Sa=function(t){try{t==this.a?ad(this):D(this.b.a,"Called back with an unexpected xmlhttp")}catch(t){if(H(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.V()){var e=this;xc(this.b,t,function(){return"ResponseText: "+e.a.V()})}else xc(this.b,t,"No response text")}},g.mb=function(){if(this.a){var t=N(this.a),e=this.a.V();this.G<e.length&&(bd(this),ed(this,t,e),this.f&&4!=t&&Zc(this))}},g.cancel=function(){this.B=!0,gd(this)},g.lb=function(){this.s=null;var e=t();0<=e-this.U?(this.f&&J(this.b,"Received watchdog timeout even though request loaded successfully"),wc(this.b,this.g),2!=this.J&&(Ac(3),K(17)),gd(this),this.m=2,hd(this)):(D(this.b.a,"WatchDog timer called too early"),kd(this,this.U-e))},g=O.prototype,g.A=function(){nd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},g.M=function(){return nd(this),this.a.concat()},g.get=function(t,e){return P(this.b,t)?this.b[t]:e},g.set=function(t,e){P(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},g.forEach=function(t,e){for(var n=this.M(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var qd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rd(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Q(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Q?(this.h=void 0!==e?e:t.h,sd(this,t.f),this.j=t.j,td(this,t.b),ud(this,t.i),this.a=t.a,vd(this,wd(t.c)),this.g=t.g):t&&(n=String(t).match(qd))?(this.h=!!e,sd(this,n[1]||"",!0),this.j=xd(n[2]||""),td(this,n[3]||"",!0),ud(this,n[4]),this.a=xd(n[5]||"",!0),vd(this,n[6]||"",!0),this.g=xd(n[7]||"")):(this.h=!!e,this.c=new yd(null,this.h))}function M(t){return new Q(t)}function sd(t,e,n){t.f=n?xd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function td(t,e,n){t.b=n?xd(e,!0):e}function ud(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function vd(t,e,n){e instanceof yd?(t.c=e,Ed(t.c,t.h)):(n||(e=zd(e,Fd)),t.c=new yd(e,t.h))}function R(t,e,n){t.c.set(e,n)}function $c(t,e,n){p(n)||(n=[String(n)]),Gd(t.c,e,n)}function Wc(e){return R(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function Hd(t){return t instanceof Q?M(t):new Q(t,void 0)}function Id(t,e,n,r){var i=new Q(null,void 0);return t&&sd(i,t),e&&td(i,e),n&&ud(i,n),r&&(i.a=r),i}function xd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zd(t,e,n){return l(t)?(t=encodeURI(t).replace(e,Jd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Jd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Q.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zd(e,Ad,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(zd(e,Ad,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(zd(n,"/"==n.charAt(0)?Bd:Cd,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",zd(n,Dd)),t.join("")},Q.prototype.resolve=function(t){var e=M(this),n=!!t.f;n?sd(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?td(e,t.b):n=null!=t.i;var r=t.a;if(n)ud(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?vd(e,wd(t.c)):n=!!t.g,n&&(e.g=t.g),e};var Ad=/[#\/\?@]/g,Cd=/[#\?:]/g,Bd=/[#\?]/g,Fd=/[#\?@]/g,Dd=/#/g;function yd(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function S(t){t.a||(t.a=new O,t.b=0,t.c&&rd(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ld(t,e){S(t),e=Kd(t,e),P(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pd(t.a,e))}function Md(t,e){return S(t),e=Kd(t,e),P(t.a.b,e)}function Gd(t,e,n){Ld(t,e),0<n.length&&(t.c=null,t.a.set(Kd(t,e),wa(n)),t.b+=n.length)}function wd(t){var e=new yd;return e.c=t.c,t.a&&(e.a=new O(t.a),e.b=t.b),e}function Kd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ed(t,e){e&&!t.f&&(S(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ld(this,e),Gd(this,n,t))},t)),t.f=e}function Nd(){this.a=t()}g=yd.prototype,g.add=function(t,e){S(this),this.c=null,t=Kd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},g.forEach=function(t,e){S(this),this.a.forEach(function(n,r){ra(n,function(n){t.call(e,n,r,this)},this)},this)},g.M=function(){S(this);for(var t=this.a.A(),e=this.a.M(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},g.A=function(t){S(this);var e=[];if(l(t))Md(this,t)&&(e=va(e,this.a.get(Kd(this,t))));else{t=this.a.A();for(var n=0;n<t.length;n++)e=va(e,t[n])}return e},g.set=function(t,e){return S(this),this.c=null,Md(this,t=Kd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},g.get=function(t,e){return 0<(t=t?this.A(t):[]).length?String(t[0]):e},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.M(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.A(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Od=null;function Pd(){Od||(Od=new Nd)}function Qd(){Od||(Od=new Nd)}function Rd(t,e){this.a=t,this.b=e,this.c=this.i=null,this.h=!1,this.m=null,this.f=-1,this.l=this.g=null}function Sd(t){H(t.b,"TestConnection: starting stage 2");var e=t.a.I.a;if(null!=e)H(t.b,function(){return"Buffered"}),K(4),e?(K(10),Td(t.a,t,!1)):(K(11),Td(t.a,t,!0));else{t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i;var n=Ud(t.a,t.g,t.m);K(4),$c(n,"TYPE","xmlhttp");var r=t.a.j,i=t.a.K;r&&i&&R(n,r,i),Yc(t.c,n,!1,t.g)}}function Wd(){this.a=this.b=null}function Xd(){this.a=new O}function Yd(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[q]||(t[q]=++fa)):e.charAt(0)+t}function Zd(t,e){this.a=t,this.b=e}function $d(t){this.g=t||ae,t=k.PerformanceNavigationTiming?0<(t=k.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(k.oa&&k.oa.Ma&&k.oa.Ma()&&k.oa.Ma().Jb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Xd),this.b=null,this.c=[]}Nd.prototype.set=function(t){this.a=t},Nd.prototype.reset=function(){this.set(t())},Nd.prototype.get=function(){return this.a},u(Qd,Pd),g=Rd.prototype,g.P=null,g.ca=function(t){return this.a.ca(t)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.La=function(){return!1},g.Oa=function(t,e){if(this.f=t.C,0==this.P){if(H(this.b,"TestConnection: Got data for stage 1"),!this.a.o&&(t=t.a)){var n=id(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&((t=id(t,"X-HTTP-Session-Id"))?this.a.K=t:D(this.b.a,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(e){try{var r=this.a.la.a.parse(e)}catch(t){return xc(this.b,t),void Vd(this.a,this)}this.g=r[0]}else H(this.b,"TestConnection: Null responseText"),Vd(this.a,this)}else 1==this.P&&(this.h?K(6):"11111"==e?(K(5),this.h=!0,(!z||10<=Number(Wa))&&(this.f=200,this.c.cancel(),H(this.b,"Test connection succeeded; using streaming connection"),K(11),Td(this.a,this,!0))):(K(7),this.h=!1))},g.ta=function(){this.f=this.c.C,this.c.f?0==this.P?(this.P=1,H(this.b,"TestConnection: request complete for initial check"),Sd(this)):1==this.P&&(H(this.b,"TestConnection: request complete for stage 2"),this.h?(H(this.b,"Test connection succeeded; using streaming connection"),K(11),Td(this.a,this,!0)):(H(this.b,"Test connection failed; not using streaming"),K(10),Td(this.a,this,!1))):(H(this.b,"TestConnection: request failed, in state "+this.P),0==this.P?K(8):1==this.P&&K(9),Vd(this.a,this))},g.ia=function(){return this.a.ia()},g.qa=function(){return this.a.qa()},Xd.prototype.add=function(t){this.a.set(Yd(t),t)},Xd.prototype.A=function(){return this.a.A()};var ae=10;function be(t,e){t.a||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(t.f=t.g,t.a=new Xd,t.b&&(ce(t,t.b),t.b=null))}function de(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function ee(t,e){return t.b?t=t.b==e:t.a?(e=Yd(e),t=P(t.a.a.b,e)):t=!1,t}function ce(t,e){t.a?t.a.add(e):t.b=e}function fe(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=Yd(e),n=P(t.a.a.b,n)),n&&pd(t.a.a,Yd(e)))}function ge(t){if(null!=t.b)return t.c.concat(t.b.u);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return ra(t.a.A(),function(t){e=e.concat(t.u)}),e}return wa(t.c)}function he(t,e){t.c=t.c.concat(e)}function ie(){}function je(){this.a=new ie}function ke(t,e,n){var r=n||"";try{md(t,function(t,n){var i=t;ea(t)&&(i=Db(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function le(t,e){var n=new sc;H(n,"TestLoadImage: loading "+t);var r=new Image;r.onload=ja(me,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ja(me,n,r,"TestLoadImage: error",!1,e),r.onabort=ja(me,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ja(me,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function me(t,e,n,r,i){try{H(t,n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(e){xc(t,e)}}function T(t){B.call(this),this.headers=new O,this.s=t||null,this.c=!1,this.D=this.a=null,this.K=this.B="",this.j=0,this.g="",this.h=this.I=this.u=this.G=!1,this.l=0,this.C=null,this.L=ne,this.v=this.o=!1}$d.prototype.cancel=function(){this.c=ge(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ra(this.a.A(),function(t){t.cancel()}),od(this.a.a))},ie.prototype.stringify=function(t){return k.JSON.stringify(t,void 0)},ie.prototype.parse=function(t){return k.JSON.parse(t,void 0)},u(T,B);var ne="";T.prototype.b=qc("goog.net.XhrIo");var oe=/^https?$/i,pe=["POST","PUT"];function se(t){return z&&Va(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function ta(t){return"content-type"==t.toLowerCase()}function qe(t,e){t.c=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.g=e,t.j=5,te(t),ue(t)}function te(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ve(t){if(t.c&&void 0!==goog)if(t.D[1]&&4==N(t)&&2==t.W())E(t.b,U(t,"Local request error detected and ignored"));else if(t.u&&4==N(t))Zb(t.Na,0,t);else if(t.dispatchEvent("readystatechange"),4==N(t)){E(t.b,U(t,"Request complete")),t.c=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(qd)[1]||null;if(!o&&k.self&&k.self.location){var a=k.self.location.protocol;o=a.substr(0,a.length-1)}i=!oe.test(o?o.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.j=6,t.g=t.Ha()+" ["+t.W()+"]",te(t))}finally{ue(t)}}}function ue(t,e){if(t.a){re(t);var n=t.a,r=t.D[0]?aa:null;t.a=null,t.D=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ic,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function re(t){t.a&&t.v&&(t.a.ontimeout=null),t.C&&(k.clearTimeout(t.C),t.C=null)}function N(t){return t.a?t.a.readyState:0}function id(t,e){return t.a?t.a.getResponseHeader(e):null}function U(t,e){return e+" ["+t.K+" "+t.B+" "+t.W()+"]"}function we(t){var e="";return Ca(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function xe(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=we(n),l(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return R(t,e,n),t}function ye(t){this.ya=0,this.g=[],this.a=new sc,this.I=new Wd,this.X=this.ua=this.D=this.ja=this.b=this.K=this.j=this.U=this.h=this.L=this.i=null,this.Za=this.R=0,this.Xa=!!n("internalChannelParams.failFast",t),this.ka=this.C=this.s=this.l=this.m=this.f=null,this.u=this.xa=this.N=-1,this.T=this.B=this.v=0,this.Wa=n("internalChannelParams.baseRetryDelayMs",t)||5e3,this.$a=n("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Ya=n("internalChannelParams.forwardChannelMaxRetries",t)||2,this.wa=n("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ta=t&&t.Kb||void 0,this.G=void 0,this.S=t&&t.supportsCrossDomainXhr||!1,this.J="",this.c=new $d(t&&t.concurrentRequestLimit),this.la=new je,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.va=t&&t.fastHandshake||!1)&&!this.o&&(D(this.a.a,"Force backgroundChannelTest when fastHandshake is enabled."),this.o=!0),t&&t.Fa&&this.a.Fa()}function ze(e){if(H(e.a,"disconnect()"),Ae(e),3==e.F){var n=e.R++,r=M(e.D);R(r,"SID",e.J),R(r,"RID",n),R(r,"TYPE","terminate"),Be(e,r),(n=new L(e,e.a,n,void 0)).J=2,n.h=Wc(M(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(n.h.toString(),"")),!r&&k.Image&&((new Image).src=n.h,r=!0),r||(n.a=n.i.ca(null),n.a.fa(n.h)),n.D=t(),Zc(n)}Ce(e)}function Ae(t){t.C&&(t.C.abort(),t.C=null),t.b&&(t.b.cancel(),t.b=null),t.l&&(k.clearTimeout(t.l),t.l=null),De(t),t.c.cancel(),t.m&&(k.clearTimeout(t.m),t.m=null)}function Ee(t,e){1e3==t.g.length&&J(t.a,function(){return"Already have 1000 queued maps upon queueing "+Db(e)}),t.g.push(new Zd(t.Za++,e)),3==t.F&&Fe(t)}function Fe(t){de(t.c)||t.m||(t.m=Ec(r(t.Qa,t),0),t.v=0)}function Ge(t,e){var n=t.c;return(n.b?1:n.a?n.a.a.c:0)>=t.c.f-(t.m?1:0)?(J(t.a,"Unexpected retry request is scheduled."),!1):t.m?(H(t.a,"Use the retry request that is already scheduled."),t.g=e.u.concat(t.g),!0):!(1==t.F||2==t.F||t.v>=(t.Xa?0:t.Ya)||(H(t.a,"Going to retry POST"),t.m=Ec(r(t.Qa,t,e),He(t,t.v)),t.v++,0))}function Je(t,e){var n;n=e?e.c:t.R++;var r=M(t.D);R(r,"SID",t.J),R(r,"RID",n),R(r,"AID",t.N),Be(t,r),t.h&&t.i&&xe(r,t.h,t.i),n=new L(t,t.a,n,t.v+1),null===t.h&&(n.j=t.i),e&&(t.g=e.u.concat(t.g)),e=Ie(t,n),n.setTimeout(Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random())),ce(t.c,n),Vc(n,r,e)}function Be(t,e){t.f&&md({},function(t,n){R(e,n,t)})}function Ie(t,e){var n=Math.min(t.g.length,1e3),i=t.f?r(t.f.ab,t.f,t):null;t:for(var o=t.g,a=-1;;){var s=["count="+n];-1==a?0<n?s.push("ofs="+(a=o[0].a)):a=0:s.push("ofs="+a);for(var u=!0,l=0;l<n;l++){var c=o[l].a,h=o[l].b;if(0>(c-=a))a=Math.max(0,o[l].a-100),u=!1;else try{ke(h,s,"req"+c+"_")}catch(t){i&&i(h)}}if(u){i=s.join("&");break t}}return t=t.g.splice(0,n),e.u=t,i}function Ke(t){if(!t.b&&!t.l){t.T=1;var e=t.Pa;Tb||Ub(),Wb||(Tb(),Wb=!0),Pb.add(e,t),t.B=0}}function Le(t){return t.b||t.l?(J(t.a,"Request already in progress"),!1):!(3<=t.B||(H(t.a,"Going to retry GET"),t.T++,t.l=Ec(r(t.Pa,t),He(t,t.B)),t.B++,0))}function Td(t,e,n){H(t.a,"Test Connection Finished");var r=e.l;r&&be(t.c,r),t.ka=n,t.u=e.f,H(t.a,"connectChannel_()"),t.D=Me(t,t.ja),Fe(t)}function Vd(t,e){H(t.a,"Test Connection Failed"),t.u=e.f,V(t,2)}function De(t){null!=t.s&&(k.clearTimeout(t.s),t.s=null)}function He(t,e){var n=t.Wa+Math.floor(Math.random()*t.$a);return t.qa()||(H(t.a,"Inactive channel"),n*=2),n*e}function V(t,e){if(F(t.a,"Error code "+e),2==e){var n=null;t.f&&(n=null);var i=r(t.pb,t);n||(n=new Q("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||sd(n,"https"),Wc(n)),le(n.toString(),i)}else K(2);H(t.a,"HttpChannel: error - "+e),t.F=0,t.f&&t.f.Ba(e),Ce(t),Ae(t)}function Ce(t){if(t.F=0,t.u=-1,t.f){var e=ge(t.c);0==e.length&&0==t.g.length||(H(t.a,function(){return"Number of undelivered maps, pending: "+e.length+", outgoing: "+t.g.length}),t.c.c.length=0,wa(t.g),t.g.length=0),t.f.Aa()}}function Me(t,e){return e=Ne(t,null,e),H(t.a,"GetForwardChannelUri: "+e),e}function Ud(t,e,n){return e=Ne(t,t.ia()?e:null,n),H(t.a,"GetBackChannelUri: "+e),e}function Ne(t,e,n){var r=Hd(n);if(""!=r.b)e&&td(r,e+"."+r.b),ud(r,r.i);else{var i=k.location;r=Id(i.protocol,e?e+"."+i.hostname:i.hostname,i.port,n)}return t.U&&Ca(t.U,function(t,e){R(r,e,t)}),n=t.K,(e=t.j)&&n&&R(r,e,n),R(r,"VER",t.na),Be(t,r),r}function Oe(){}function Pe(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}function Qe(){if(z&&!(10<=Number(Wa)))throw Error("Environmental error: no available transport.")}function W(t,e){B.call(this),this.a=new ye(e),this.b=t,this.o=e&&e.testUrl?e.testUrl:Pe(this.b,"test"),this.c=qc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ea&&(t?t["X-WebChannel-Client-Profile"]=e.Ea:t={"X-WebChannel-Client-Profile":e.Ea}),this.a.L=t,(t=e&&e.httpHeadersOverwriteParam)&&!xa(t)&&(this.a.h=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.j=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xa(e)&&(this.a.j=e,null!==(t=this.g)&&e in t&&(e in(t=this.g)&&delete t[e],D(this.c,"Ignore httpSessionIdParam also specified with messageUrlParams: "+e))),this.h=new Re(this)}function Se(t){Mc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Te(){Nc.call(this),this.status=1}function Re(t){this.a=t}g=T.prototype,g.fa=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.g="",this.j=0,this.K=e,this.G=!1,this.c=!0,this.a=Qc(this.s?this.s:Oc),this.D=Ic(this.s?this.s:Oc),this.a.onreadystatechange=r(this.Na,this);try{E(this.b,U(this,"Opening Xhr")),this.I=!0,this.a.open(e,String(t),!0),this.I=!1}catch(t){return E(this.b,U(this,"Error opening Xhr: "+t.message)),void qe(this,t)}t=n||"";var o=new O(this.headers);i&&md(i,function(t,e){o.set(e,t)}),i=sa(o.M()),n=k.FormData&&t instanceof k.FormData,!(0<=qa(pe,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.L&&(this.a.responseType=this.L),"withCredentials"in this.a&&this.a.withCredentials!==this.o&&(this.a.withCredentials=this.o);try{re(this),0<this.l&&(this.v=se(this.a),E(this.b,U(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.v)),this.v?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ka,this)):this.C=Zb(this.Ka,this.l,this)),E(this.b,U(this,"Sending request")),this.u=!0,this.a.send(t),this.u=!1}catch(t){E(this.b,U(this,"Send error: "+t.message)),qe(this,t)}},g.Ka=function(){void 0!==goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,E(this.b,U(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(t){this.a&&this.c&&(E(this.b,U(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ue(this))},g.w=function(){this.a&&(this.c&&(this.c=!1,this.h=!0,this.a.abort(),this.h=!1),ue(this,!0)),T.H.w.call(this)},g.Na=function(){this.i||(this.I||this.u||this.h?ve(this):this.jb())},g.jb=function(){ve(this)},g.W=function(){try{return 2<N(this)?this.a.status:-1}catch(t){return-1}},g.Ha=function(){try{return 2<N(this)?this.a.statusText:""}catch(t){return E(this.b,"Can not get status: "+t.message),""}},g.V=function(){try{return this.a?this.a.responseText:""}catch(t){return E(this.b,"Can not get responseText: "+t.message),""}},g.eb=function(t){if(this.a){var e=this.a.responseText;t&&0==e.indexOf(t)&&(e=e.substring(t.length));t:{if(t=e,k.JSON)try{var n=k.JSON.parse(t);break t}catch(t){}n=Cb(t)}return n}},g.Ga=function(){return this.j},g.hb=function(){return l(this.g)?this.g:String(this.g)},g=ye.prototype,g.na=8,g.F=1,g.La=function(){return 0==this.F},g.Qa=function(t){if(this.m=null,H(this.a,"startForwardChannel_"),1==this.F)if(t)J(this.a,"Not supposed to retry the open");else{H(this.a,"open_()"),this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new L(this,this.a,t,void 0),n=this.i;this.L&&(n?Ha(n=Fa(n),this.L):n=this.L),null===this.h&&(e.j=n);var r=Ie(this,e),i=M(this.D);R(i,"RID",t),R(i,"CVER",22),this.o&&this.j&&R(i,"X-HTTP-Session-Id",this.j),Be(this,i),this.h&&n&&xe(i,this.h,n),ce(this.c,e),this.va?(R(i,"$req",r),R(i,"SID","null"),e.X=!0,Vc(e,i,null)):Vc(e,i,r),this.F=2}else 3==this.F&&(t?Je(this,t):0==this.g.length?H(this.a,"startForwardChannel_ returned: nothing to send"):de(this.c)?J(this.a,"startForwardChannel_ returned: connection already in progress"):(Je(this),H(this.a,"startForwardChannel_ finished, sent request")))},g.Pa=function(){this.l=null,H(this.a,"Creating new HttpRequest"),this.b=new L(this,this.a,"rpc",this.T),null===this.h&&(this.b.j=this.i),this.b.N=0;var t=M(this.ua);R(t,"RID","rpc"),R(t,"SID",this.J),R(t,"CI",this.ka?"0":"1"),R(t,"AID",this.N),Be(this,t),R(t,"TYPE","xmlhttp"),this.h&&this.i&&xe(t,this.h,this.i),this.G&&this.b.setTimeout(this.G),Yc(this.b,t,!0,this.X),H(this.a,"New Request created")},g.Oa=function(t,e){if(0!=this.F&&(this.b==t||ee(this.c,t)))if(this.u=t.C,!t.v&&ee(this.c,t)&&3==this.F){try{var n=this.la.a.parse(e)}catch(t){n=null}if(p(n)&&3==n.length)if(0==(e=n)[0])t:if(H(this.a,"Server claims our backchannel is missing."),this.l)H(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.D+3e3<t.D))break t;De(this),this.b.cancel(),this.b=null}else D(this.a.a,"We do not have a BackChannel established");Le(this),K(18)}else this.xa=e[1],0<(t=this.xa-this.N)&&(H(this.a,(e=e[2])+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),37500>e&&this.ka&&0==this.B&&!this.s&&(this.s=Ec(r(this.ib,this),6e3)));else H(this.a,"Bad POST response data returned"),V(this,11)}else if((t.v||this.b==t)&&De(this),!xa(e))for(e=n=this.la.a.parse(e),n=0;n<e.length;n++){var i=e[n];if(this.N=i[0],i=i[1],2==this.F)if("c"==i[0]){this.J=i[1],this.X=i[2];var o=i[3];null!=o&&(this.na=o,F(this.a,"VER="+this.na)),null!=(o=i[4])&&(this.ya=o,F(this.a,"SVER="+this.ya)),null!=(i=i[5])&&"number"==typeof i&&0<i&&(this.G=i*=1.5,F(this.a,"backChannelRequestTimeoutMs_="+i)),this.o&&(i=t.a)&&((o=id(i,"X-Client-Wire-Protocol"))&&be(this.c,o),this.j&&((i=id(i,"X-HTTP-Session-Id"))?(this.K=i,R(this.D,this.j,i)):D(this.a.a,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.F=3,this.f&&this.f.Da(),i=t,this.ua=Ud(this,this.X,this.ja),i.v?(H(this.a,"Upgrade the handshake request to a backchannel."),fe(this.c,i),(o=this.G)&&i.setTimeout(o),i.s&&(bd(i),Zc(i)),this.b=i):Ke(this)}else"stop"!=i[0]&&"close"!=i[0]||V(this,7);else 3==this.F&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?V(this,7):ze(this):"noop"!=i[0]&&this.f&&this.f.Ca(i),this.B=0)}},g.ib=function(){null!=this.s&&(this.s=null,this.b.cancel(),this.b=null,Le(this),K(19))},g.ta=function(e){H(this.a,"Request complete");var n=null;if(this.b==e){De(this),this.b=null;var r=2}else{if(!ee(this.c,e))return;n=e.u,fe(this.c,e),r=1}if(this.u=e.C,0!=this.F)if(e.f)1==r?(Dc(e.l?e.l.length:0,t()-e.D,this.v),Fe(this)):Ke(this);else{var i=e.m;if(3==i||0==i&&0<this.u)H(this.a,"Not retrying due to error type");else{var o=this;if(H(this.a,function(){return"Maybe retrying, last error: "+Sc(i,o.u)}),1==r&&Ge(this,e)||2==r&&Le(this))return;H(this.a,"Exceeded max number of retries")}switch(n&&0<n.length&&he(this.c,n),H(this.a,"Error: HTTP request failed"),i){case 1:V(this,5);break;case 4:V(this,10);break;case 3:V(this,6);break;default:V(this,2)}}},g.pb=function(t){t?(F(this.a,"Successfully pinged google.com"),K(2)):(F(this.a,"Failed to ping google.com"),K(1))},g.ca=function(t){if(t&&!this.S)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new T(this.Ta)).o=this.S,t},g.qa=function(){return!!this.f&&!0},g.ia=function(){return this.S},new Qd,g=Oe.prototype,g.Da=function(){},g.Ca=function(){},g.Ba=function(){},g.Aa=function(){},g.ab=function(){},Qe.prototype.a=function(t,e){return new W(t,e)},u(W,B),g=W.prototype,g.addEventListener=function(t,e,n,r){W.H.addEventListener.call(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){W.H.removeEventListener.call(this,t,e,n,r)},g.fb=function(){this.a.f=this.h,this.l&&(this.a.S=!0);var t=this.a,e=this.o,n=this.b,r=this.g||void 0;H(t.a,"connect()"),K(0),t.ja=n,t.U=r||{},t.o&&(H(t.a,"connect() bypassed channel-test."),t.I.b=[],t.I.a=!1),H(t.a,"connectTest_()"),t.C=new Rd(t,t.a),null===t.h&&(t.C.i=t.i),n=e,t.h&&t.i&&(n=xe(e,t.h,t.i)),(t=t.C).m=n,e=Me(t.a,t.m),K(3),null!=(n=t.a.I.b)?(t.g=n[0],t.P=1,Sd(t)):($c(e,"MODE","init"),!t.a.o&&t.a.j&&$c(e,"X-HTTP-Session-Id",t.a.j),t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i,Yc(t.c,e,!1,null),t.P=0)},g.close=function(){ze(this.a)},g.gb=function(t){if(l(t)){var e={};e.__data__=t,Ee(this.a,e)}else this.j?((e={}).__data__=Db(t),Ee(this.a,e)):Ee(this.a,t)},g.w=function(){this.a.f=null,delete this.h,ze(this.a),delete this.a,W.H.w.call(this)},u(Se,Mc),u(Te,Nc),u(Re,Oe),Re.prototype.Da=function(){rc(this.a.c,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Re.prototype.Ca=function(t){this.a.dispatchEvent(new Se(t))},Re.prototype.Ba=function(t){rc(this.a.c,"WebChannel aborted on "+this.a.b+" due to channel error: "+t),this.a.dispatchEvent(new Te(t))},Re.prototype.Aa=function(){rc(this.a.c,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Ue=ja(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Qe);function Ve(){this.b=[],this.a=[]}function We(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()}function Xe(t){return t.b.length+t.a.length}function Ye(t,e){if(w.call(this),this.h=t||0,this.c=e||10,this.h>this.c)throw Error(Ze);this.a=new Ve,this.b=new Xd,this.g=null,this.aa()}Ve.prototype.A=function(){for(var t=[],e=this.b.length-1;0<=e;--e)t.push(this.b[e]);var n=this.a.length;for(e=0;e<n;++e)t.push(this.a[e]);return t},u(Ye,w);var Ze="[goog.structs.Pool] Min can not be greater than max";function af(t){if("function"==typeof t.$)t.$();else for(var e in t)t[e]=null}function $e(t){return Xe(t.a)+t.b.a.c}function bf(t,e){this.a=t,this.b=e}function cf(t){if(this.a=[],t)t:{if(t instanceof cf){var e=t.M();if(t=t.A(),0>=this.a.length){for(var n=this.a,r=0;r<e.length;r++)n.push(new bf(e[r],t[r]));break t}}else e=Ea(t),t=Da(t);for(r=0;r<e.length;r++)df(this,e[r],t[r])}}function df(t,e,n){var r=t.a;for(r.push(new bf(e,n)),n=(t=t.a)[e=r.length-1];0<e&&t[r=e-1>>1].a>n.a;)t[e]=t[r],e=r;t[e]=n}function ef(){cf.call(this)}function Y(t,e){this.f=new ef,Ye.call(this,t,e)}function Z(t,e,n,r){this.l=t,this.j=!!r,Y.call(this,e,n)}g=Ye.prototype,g.da=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<Xe(this.a)&&(n=We(this.a),!this.sa(n));)this.aa();return!n&&$e(this)<this.c&&(n=this.pa()),n&&(this.g=e,this.b.add(n)),n}},g.ob=function(t){return!!pd(this.b.a,Yd(t))&&(this.ma(t),!0)},g.ma=function(t){pd(this.b.a,Yd(t)),this.sa(t)&&$e(this)<this.c?this.a.a.push(t):af(t)},g.aa=function(){for(var t=this.a;$e(this)<this.h;){var e=this.pa();t.a.push(e)}for(;$e(this)>this.c&&0<Xe(this.a);)af(We(t))},g.pa=function(){return{}},g.sa=function(t){return"function"!=typeof t.bb||t.bb()},g.w=function(){if(Ye.H.w.call(this),0<this.b.a.c)throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var t=this.a;0!=t.b.length||0!=t.a.length;)af(We(t));delete this.a},cf.prototype.A=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].b);return e},cf.prototype.M=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].a);return e},u(ef,cf),u(Y,Ye),g=Y.prototype,g.da=function(t,e){if(!t)return Y.H.da.call(this);df(this.f,void 0!==e?e:100,t),this.ra()},g.ra=function(){for(var t=this.f;0<t.a.length;){var e=this.da();if(!e)break;var n=t,r=n.a,i=r.length,o=r[0];if(0>=i)o=void 0;else{if(1==i)ua(r);else{r[0]=r.pop(),i=(n=n.a).length;for(var a=n[r=0];r<i>>1;){var s=2*r+1,u=2*r+2;if(n[s=u<i&&n[u].a<n[s].a?u:s].a>a.a)break;n[r]=n[s],r=s}n[r]=a}o=o.b}o.apply(this,[e])}},g.ma=function(t){Y.H.ma.call(this,t),this.ra()},g.aa=function(){Y.H.aa.call(this),this.ra()},g.w=function(){Y.H.w.call(this),k.clearTimeout(void 0),ua(this.f.a),this.f=null},u(Z,Y),Z.prototype.pa=function(){var t=new T,e=this.l;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.j&&(t.o=!0),t},Z.prototype.sa=function(t){return!t.i&&!t.a},Qe.prototype.createWebChannel=Qe.prototype.a,W.prototype.send=W.prototype.gb,W.prototype.open=W.prototype.fb,W.prototype.close=W.prototype.close,Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Gc.COMPLETE="complete",Kc.EventType=Lc,Lc.OPEN="a",Lc.CLOSE="b",Lc.ERROR="c",Lc.MESSAGE="d",B.prototype.listen=B.prototype.Ia,Z.prototype.getObject=Z.prototype.da,Z.prototype.releaseObject=Z.prototype.ob,T.prototype.listenOnce=T.prototype.Ja,T.prototype.getLastError=T.prototype.hb,T.prototype.getLastErrorCode=T.prototype.Ga,T.prototype.getStatus=T.prototype.W,T.prototype.getStatusText=T.prototype.Ha,T.prototype.getResponseJson=T.prototype.eb,T.prototype.getResponseText=T.prototype.V,T.prototype.getResponseText=T.prototype.V,T.prototype.send=T.prototype.fa,module.exports={createWebChannelTransport:Ue,ErrorCode:Fc,EventType:Gc,WebChannel:Kc,XhrIoPool:Z}}).call("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o,a,s,u,l,c=n("zVF4"),h=n("q/0M"),d=n("mAIw"),p=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n("wj3C")),f=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),c.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:c.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),g=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return c.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),y=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new f(e)}}catch(t){}return new g},m=y("localStorage"),v=y("sessionStorage"),_=new h.Logger("@firebase/database"),b=function(){var t=1;return function(){return t++}}(),w=function(t){var e=c.stringToByteArray(t),n=new c.Sha1;n.update(e);var r=n.digest();return c.base64.encodeByteArray(r)},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=C.apply(null,t[r]):n+="object"==typeof t[r]?c.stringify(t[r]):t[r],n+=" ";return n},E=null,S=!0,k=function(t,e){c.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(_.logLevel=h.LogLevel.VERBOSE,E=_.log.bind(_),e&&v.set("logging_enabled",!0)):"function"==typeof t?E=t:(E=null,v.remove("logging_enabled"))},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===S&&(S=!1,null===E&&!0===v.get("logging_enabled")&&k(!0)),E){var n=C.apply(null,t);E(n)}},T=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];A.apply(void 0,[t].concat(e))}},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+C.apply(void 0,t);_.error(n)},R=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+C.apply(void 0,t);throw _.error(n),new Error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+C.apply(void 0,t);_.warn(n)},P=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},D="[MIN_NAME]",N="[MAX_NAME]",x=function(t,e){if(t===e)return 0;if(t===D||e===N)return-1;if(e===D||t===N)return 1;var n=z(t),r=z(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},M=function(t,e){return t===e?0:t<e?-1:1},L=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+c.stringify(e))},F=function(t){if("object"!=typeof t||null===t)return c.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=c.stringify(e[i]),r+=":",r+=F(t[e[i]]);return r+"}"},B=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r},j=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else c.forEach(t,function(t,n){return e(n,t)})},U=function(t){var e,n,r,i,o,a,s;for(c.assert(!P(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),a=[],o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse(),s=a.join("");var u="";for(o=0;o<64;o+=8){var l=parseInt(s.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},V=new RegExp("^-?\\d{1,10}$"),z=function(t){if(V.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},q=function(t){try{t()}catch(t){setTimeout(function(){throw O("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},H=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},G=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},K=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=x(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),W=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=c.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=c.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=c.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),Q="long_polling",$=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=m.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&m.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(c.assert("string"==typeof t,"typeof type must == string"),c.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==Q)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return c.forEach(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),Y=function(t){var e=X(t),n=e.subdomain;return"firebase"===e.domain&&R(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||R("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme),path:new K(e.pathString)}},X=function(t){var e="",n="",r="",i="",o=!0,a="https",s=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));var l=t.indexOf("/");-1===l&&(l=t.length);var c=t.indexOf("?");-1===c&&(c=t.length),e=t.substring(0,Math.min(l,c)),l<c&&(i=function(e){for(var n="",r=t.substring(l,c).split("/"),i=0;i<r.length;i++)if(r[i].length>0){var o=r[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(t){}n+="/"+o}return n}());var h=function(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var i=r[n];if(0!==i.length){var o=i.split("=");2===o.length?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):O("Invalid query segment '"+i+"' in query '"+t+"'")}}return e}(t.substring(Math.min(t.length,c)));(u=e.indexOf(":"))>=0?(o="https"===a||"wss"===a,s=parseInt(e.substring(u+1),10)):u=t.length;var d=e.split(".");3===d.length?(n=d[1],r=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,u).toLowerCase()&&(n="localhost"),""===r&&"ns"in h&&(r=h.ns)}return{host:e,port:s,domain:n,subdomain:r,secure:o,scheme:a,pathString:i}},J=/[\[\].#$\/\u0000-\u001F\u007F]/,Z=/[\[\].#$\u0000-\u001F\u007F]/,tt=function(t){return"string"==typeof t&&0!==t.length&&!J.test(t)},et=function(t){return"string"==typeof t&&0!==t.length&&!Z.test(t)},nt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!P(t)||t&&"object"==typeof t&&c.contains(t,".sv")},rt=function(t,e,n,r,i){i&&void 0===n||it(c.errorPrefix(t,e,i),n,r)},it=function(t,e,n){var r=n instanceof K?new W(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(P(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&c.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(c.forEach(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!tt(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),it(t,n,r),r.pop()}),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ot=function(t,e,n,r,i){if(!i||void 0!==n){var o=c.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];c.forEach(n,function(t,e){var n=new K(t);if(it(o,e,r.child(n)),".priority"===n.getBack()&&!nt(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!tt(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(K.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},at=function(t,e,n,r){if(!r||void 0!==n){if(P(n))throw new Error(c.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nt(n))throw new Error(c.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},st=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(c.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ut=function(t,e,n,r){if(!(r&&void 0===n||tt(n)))throw new Error(c.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},lt=function(t,e,n,r){if(!(r&&void 0===n||et(n)))throw new Error(c.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ct=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},ht=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!tt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),et(t)}(r))throw new Error(c.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},dt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){c.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),c.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new c.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){c.validateArgCount("OnDisconnect.remove",0,1,arguments.length),ct("OnDisconnect.remove",this.path_),c.validateCallback("OnDisconnect.remove",1,t,!0);var e=new c.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){c.validateArgCount("OnDisconnect.set",1,2,arguments.length),ct("OnDisconnect.set",this.path_),rt("OnDisconnect.set",1,t,this.path_,!1),c.validateCallback("OnDisconnect.set",2,e,!0);var n=new c.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){c.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),ct("OnDisconnect.setWithPriority",this.path_),rt("OnDisconnect.setWithPriority",1,t,this.path_,!1),at("OnDisconnect.setWithPriority",2,e,!1),c.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new c.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(c.validateArgCount("OnDisconnect.update",1,2,arguments.length),ct("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ot("OnDisconnect.update",1,t,this.path_,!1),c.validateCallback("OnDisconnect.update",2,e,!0);var i=new c.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),pt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return c.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),ft=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(r){var i,o=r===e;e=r;var a=new Array(8);for(i=7;i>=0;i--)a[i]=t.charAt(r%64),r=Math.floor(r/64);c.assert(0===r,"Cannot push at time == 0");var s=a.join("");if(o){for(i=11;i>=0&&63===n[i];i--)n[i]=0;n[i]++}else for(i=0;i<12;i++)n[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=t.charAt(n[i]);return c.assert(20===s.length,"nextPushId: Length should be 20."),s}}(),gt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),yt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new gt(D,t),r=new gt(D,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return gt.MIN},t}(),mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return r},set:function(t){r=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return x(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw c.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return gt.MIN},e.prototype.maxPost=function(){return new gt(N,r)},e.prototype.makePost=function(t,e){return c.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new gt(t,r)},e.prototype.toString=function(){return".key"},e}(yt),vt=new mt,_t=function(t){return"number"==typeof t?"number:"+U(t):"string:"+t},bt=function(t){if(t.isLeafNode()){var e=t.val();c.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&c.contains(e,".sv"),"Priority must be a string or number.")}else c.assert(t===i||t.isEmpty(),"priority of unexpected type.");c.assert(t===i||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},wt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,c.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),bt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return o},set:function(t){o=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(c.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+_t(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?U(this.value_):this.value_,this.lazyHash_=w(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(c.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return c.assert(i>=0,"Unknown leaf type: "+n),c.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Ct=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return gt.MIN},e.prototype.maxPost=function(){return new gt(N,new wt("[PRIORITY-POST]",s))},e.prototype.makePost=function(t,e){var n=a(t);return new gt(e,new wt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(yt)),Et=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),St=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:At.EMPTY_NODE,this.right=null!=o?o:At.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return(i=(r=n(t,(i=this).key))<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return At.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return At.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),kt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new St(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),At=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,St.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,St.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Et(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Et(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Et(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Et(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new kt,t}(),Tt=Math.log(2),It=function(){function t(t){this.count=parseInt(Math.log(t+1)/Tt,10),this.current_=this.count-1;var e=function(t){return parseInt(Array(t+1).join("1"),2)}(this.count);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Rt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0==s)return null;if(1==s)return o=t[e],a=n?n(o):o,new St(a,o.node,St.BLACK,null,null);var u=parseInt(s/2,10)+e,l=i(e,u),c=i(u+1,r);return o=t[u],a=n?n(o):o,new St(a,o.node,St.BLACK,l,c)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var l=i(o+1,s),c=t[o],h=n?n(c):c;u(new St(h,c.node,r,null,l))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},l=0;l<e.count;++l){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(l+1));c?s(h,St.BLACK):(s(h,St.BLACK),s(h,St.RED))}return o}(new It(t.length));return new At(r||e,o)},Ot={},Pt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return c.assert(Ot&&Ct,"ChildrenNode.ts has not been loaded"),u=u||new t({".priority":Ot},{".priority":Ct})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=c.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===Ot?null:e},t.prototype.hasIndex=function(t){return c.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){c.assert(e!==vt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(gt.Wrap),s=a.getNext();s;)o=o||e.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?Rt(i,e.getCompare()):Ot;var u=e.toString(),l=c.clone(this.indexSet_);l[u]=e;var h=c.clone(this.indexes_);return h[u]=r,new t(h,l)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(c.map(this.indexes_,function(t,i){var o=c.safeGet(r.indexSet_,i);if(c.assert(o,"Missing index implementation for "+i),t===Ot){if(o.isDefinedOn(e.node)){for(var a=[],s=n.getIterator(gt.Wrap),u=s.getNext();u;)u.name!=e.name&&a.push(u),u=s.getNext();return a.push(e),Rt(a,o.getCompare())}return Ot}var l=n.get(e.name),h=t;return l&&(h=h.remove(new gt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(c.map(this.indexes_,function(t){if(t===Ot)return t;var r=n.get(e.name);return r?t.remove(new gt(e.name,r)):t}),this.indexSet_)},t}();function Dt(t,e){return x(t.name,e.name)}function Nt(t,e){return x(t,e)}var xt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&bt(this.priorityNode_),this.children_.isEmpty()&&c.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return l||(l=new t(new At(Nt),null,Pt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||l},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?l:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(c.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new gt(e,n),i=void 0,o=void 0;return n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_)),new t(i,i.isEmpty()?l:this.priorityNode_,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;c.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ct,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+_t(this.getPriority().val())+":"),this.forEachChild(Ct,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":w(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new gt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new gt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new gt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,gt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,gt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Mt?-1:0},t.prototype.withIndex=function(e){if(e===vt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===vt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Ct),r=e.getIterator(Ct),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===vt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Mt=new(function(t){function e(){return t.call(this,new At(Nt),xt.EMPTY_NODE,Pt.Default)||this}return d.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return xt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(xt));Object.defineProperties(gt,{MIN:{value:new gt(D,xt.EMPTY_NODE)},MAX:{value:new gt(N,Mt)}}),mt.__EMPTY_NODE=xt.EMPTY_NODE,wt.__childrenNodeConstructor=xt,i=Mt,s=Mt;var Lt=!0;function Ft(t,e){if(void 0===e&&(e=null),null===t)return xt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),c.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new wt(t,Ft(e));if(t instanceof Array||!Lt){var n=xt.EMPTY_NODE,r=t;return c.forEach(r,function(t,e){if(c.contains(r,t)&&"."!==t.substring(0,1)){var i=Ft(e);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(Ft(e))}var i=[],o=!1,a=t;if(c.forEach(a,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=Ft(a[t]);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new gt(t,n)))}}),0==i.length)return xt.EMPTY_NODE;var s=Rt(i,Dt,function(t){return t.name},Nt);if(o){var u=Rt(i,Ct.getCompare());return new xt(s,Ft(e),new Pt({".priority":u},{".priority":Ct}))}return new xt(s,Ft(e),Pt.Default)}a=Ft;var Bt,jt,Ut,Vt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?x(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return gt.MIN},e.prototype.maxPost=function(){return gt.MAX},e.prototype.makePost=function(t,e){var n=Ft(t);return new gt(e,n)},e.prototype.toString=function(){return".value"},e}(yt)),zt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,c.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return d.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Ft(t),r=xt.EMPTY_NODE.updateChild(this.indexPath_,n);return new gt(e,r)},e.prototype.maxPost=function(){var t=xt.EMPTY_NODE.updateChild(this.indexPath_,Mt);return new gt(N,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(yt),qt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return c.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return c.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return c.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return c.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){c.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),lt("DataSnapshot.child",1,e,!1);var n=new K(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Ct)},t.prototype.hasChild=function(t){c.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),lt("DataSnapshot.hasChild",1,t,!1);var e=new K(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return c.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return c.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),c.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),Ct))})},t.prototype.hasChildren=function(){return c.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return c.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return c.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Ht=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+c.stringify(this.snapshot.exportVal())},t}(),Gt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Kt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Ht("value",this,new qt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){c.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Gt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Wt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return c.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Gt(this,t,e):null},t.prototype.createEvent=function(t,e){c.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Ht(t.type,this,new qt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){c.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=c.getCount(e.callbacks_);if(n===c.getCount(this.callbacks_)){if(1===n){var r=c.getAnyKey(e.callbacks_),i=c.getAnyKey(this.callbacks_);return!(i!==r||e.callbacks_[r]&&this.callbacks_[i]&&e.callbacks_[r]!==this.callbacks_[i])}return c.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Qt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return c.assert(Bt,"Reference.ts has not been loaded"),Bt},set:function(t){Bt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===vt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=D)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!=N)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Ct){if(null!=e&&!nt(e)||null!=n&&!nt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(c.assert(t.getIndex()instanceof zt||t.getIndex()===Vt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return c.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){c.validateArgCount("Query.on",2,4,arguments.length),st("Query.on",1,e,!1),c.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Kt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Wt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){c.validateArgCount("Query.off",0,3,arguments.length),st("Query.off",1,t,!0),c.validateCallback("Query.off",2,e,!0),c.validateContextObject("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new Kt(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new Wt(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;c.validateArgCount("Query.once",1,4,arguments.length),st("Query.once",1,e,!1),c.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new c.Deferred;u.promise.catch(function(){});var l=function(t){s&&(s=!1,o.off(e,l),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,l,function(t){o.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(c.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(c.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(c.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');lt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new K(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new zt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){c.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(vt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){c.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Ct);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){c.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Vt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),c.validateArgCount("Query.startAt",0,2,arguments.length),rt("Query.startAt",1,e,this.path,!0),ut("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),c.validateArgCount("Query.endAt",0,2,arguments.length),rt("Query.endAt",1,e,this.path,!0),ut("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(c.validateArgCount("Query.equalTo",1,2,arguments.length),rt("Query.equalTo",1,t,this.path,!1),ut("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return c.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return c.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=F(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(c.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var n=this.repo===e.repo,r=this.path.equals(e.path),i=this.queryIdentifier()===e.queryIdentifier();return n&&r&&i},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,c.validateCallback(t,3,r.cancel,!0),r.context=n,c.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(c.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),$t=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return c.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return c.isEmpty(this.set)},t.prototype.count=function(){return c.getCount(this.set)},t.prototype.each=function(t){c.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return c.forEach(this.set,function(e){t.push(e)}),t},t}(),Yt=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new $t);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var i=this.children_.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(Ct,function(t,e){n.remember(new K(t),e)}),this.forget(t)}if(null!==this.children_){var r=t.getFront();return t=t.popFront(),this.children_.contains(r)&&this.children_.get(r).forget(t)&&this.children_.remove(r),!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,r){var i=new K(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),Xt=function(t,e){return t&&"object"==typeof t?(c.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},Jt=function(t,e){var n,r=t.getPriority().val(),i=Xt(r,e);if(t.isLeafNode()){var o=t,a=Xt(o.getValue(),e);return a!==o.getValue()||i!==o.getPriority().val()?new wt(a,Ft(i)):t}var s=t;return n=s,i!==s.getPriority().val()&&(n=n.updatePriority(new wt(i))),s.forEachChild(Ct,function(t,r){var i=Jt(r,e);i!==r&&(n=n.updateImmediateChild(t,i))}),n},Zt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),te=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,c.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ee=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Zt.ACK_USER_WRITE,this.source=te.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return c.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new K(e));return new t(K.Empty,n,this.revert)}return c.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ne=function(){return jt||(jt=new At(M)),jt},re=function(){function t(t,e){void 0===e&&(e=ne()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return c.forEach(e,function(t,e){n=n.set(new K(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:K.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new K(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(K.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,K.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,K.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(K.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),ie=function(){function t(t,e){this.source=t,this.path=e,this.type=Zt.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,K.Empty):new t(this.source,this.path.popFront())},t}(),oe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Zt.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,K.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ae=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Zt.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new K(e));return n.isEmpty()?null:n.value?new oe(this.source,K.Empty,n.value):new t(this.source,K.Empty,n)}return c.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),se=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ue=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new se(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new se(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new se(xt.EMPTY_NODE,!1,!1),new se(xt.EMPTY_NODE,!1,!1)),t}(),le=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ce=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){c.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(le.childRemovedChange(e,a)):c.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(le.childAddedChange(e,n)):o.trackChildChange(le.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ct,function(t,r){e.hasChild(t)||n.trackChildChange(le.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(Ct,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(le.childChangedChange(e,r,i))}else n.trackChildChange(le.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?xt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),he=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;c.assert(e==le.CHILD_ADDED||e==le.CHILD_CHANGED||e==le.CHILD_REMOVED,"Only child changes supported for tracking"),c.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=c.safeGet(this.changeMap_,n);if(r){var i=r.type;if(e==le.CHILD_ADDED&&i==le.CHILD_REMOVED)this.changeMap_[n]=le.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==le.CHILD_REMOVED&&i==le.CHILD_ADDED)delete this.changeMap_[n];else if(e==le.CHILD_REMOVED&&i==le.CHILD_CHANGED)this.changeMap_[n]=le.childRemovedChange(n,r.oldSnap);else if(e==le.CHILD_CHANGED&&i==le.CHILD_ADDED)this.changeMap_[n]=le.childAddedChange(n,t.snapshotNode);else{if(e!=le.CHILD_CHANGED||i!=le.CHILD_CHANGED)throw c.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=le.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return c.getValues(this.changeMap_)},t}(),de=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),pe=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new se(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),fe=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){c.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),c.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,s=new he;if(n.type===Zt.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,s):(c.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,a,s))}else if(n.type===Zt.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(e,l.path,l.children,r,i,s):(c.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,l.path,l.children,r,i,a,s))}else if(n.type===Zt.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,r,i,s):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,s)}else{if(n.type!==Zt.LISTEN_COMPLETE)throw c.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,s)}var d=s.getChanges();return t.maybeAddValueEvent_(e,o,d),new function(t,e){this.viewCache=t,this.changes=e}(o,d)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(le.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,s=void 0;if(e.isEmpty())if(c.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(u instanceof xt?u:xt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var d=e.getFront();if(".priority"==d){c.assert(1==e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();s=t.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(e,p,s);a=null!=f?this.filter_.updatePriority(p,f):o.getNode()}else{var g=e.popFront(),y=void 0;if(o.isCompleteForChild(d)){s=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),s);y=null!=m?o.getNode().getImmediateChild(d).updateChild(g,m):o.getNode().getImmediateChild(d)}else y=n.calcCompleteChild(d,t.getServerCache());a=null!=y?this.filter_.updateChild(o.getNode(),d,y,g,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(e,n);s=l.updateFullNode(u.getNode(),c,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(d,n);s=".priority"==h?l.updatePriority(u.getNode(),p):l.updateChild(u.getNode(),h,p,d,de,null)}var f=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),g=new pe(r,f,i);return this.generateEventCacheAfterServerEvent_(f,e,r,g,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),l=new pe(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),d=u.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var f=l.getCompleteChild(c);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):xt.EMPTY_NODE}if(d.equals(p))a=t;else{var g=this.filter_.updateChild(u.getNode(),c,p,h,l,o);a=t.updateEventSnap(g,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach(function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(u=s.applyUserOverwrite_(u,c,l,i,o,a))}),r.foreach(function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(u=s.applyUserOverwrite_(u,c,l,i,o,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,l=t;u=e.isEmpty()?n:re.Empty.setTree(e,n);var c=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(c.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);l=s.applyServerOverwrite_(l,new K(e),h,r,i,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),d=s.applyMerge_(h,n);l=s.applyServerOverwrite_(l,new K(e),d,r,i,o,a)}}),l},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=re.Empty;return s.getNode().forEachChild(vt,function(t,e){u=u.set(new K(t),e)}),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var l=re.Empty;return n.foreach(function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(l=l.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,l,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,de,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new pe(n,t,r),s=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();c.assert(h instanceof xt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}u=this.filter_.updateFullNode(s,l=l,i)}else{var d=e.getFront(),p=n.calcCompleteChild(d,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(d)&&(p=s.getImmediateChild(d)),(u=null!=p?this.filter_.updateChild(s,d,p,e.popFront(),a,i):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(s,d,xt.EMPTY_NODE,e.popFront(),a,i):s).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(K.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),ge=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===le.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(le.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,le.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,le.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,le.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,le.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,le.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw c.assertionError("Should only compare child_ events.");var n=new gt(t.childName,t.snapshotNode),r=new gt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),ye=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ce(n.getIndex()),i=n.getNodeFilter();this.processor_=new fe(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(xt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(xt.EMPTY_NODE,a.getNode(),null),l=new se(s,o.isFullyInitialized(),r.filtersNodes()),c=new se(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ue(c,l),this.eventGenerator_=new ge(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){c.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===Zt.MERGE&&null!==t.source.queryId&&(c.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),c.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),c.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ct,function(t,e){n.push(le.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(le.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),me=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return c.assert(Ut,"Reference.ts has not been loaded"),Ut},set:function(t){c.assert(!Ut,"__referenceConstructor has already been defined"),Ut=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return c.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var i=c.safeGet(this.views_,r);return c.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(t,e,n)}var o=[];return c.forEach(this.views_,function(r,i){o=o.concat(i.applyOperation(t,e,n))}),o},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=c.safeGet(this.views_,o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof xt?(s=n.calcCompleteEventChildren(r),u=!1):(s=xt.EMPTY_NODE,u=!1);var l=new ue(new se(s,u,!1),new se(r,i,!1));a=new ye(t,l),this.views_[o]=a}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i=e.queryIdentifier(),o=[],a=[],s=this.hasCompleteView();if("default"===i){var u=this;c.forEach(this.views_,function(t,e){a=a.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete u.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var l=c.safeGet(this.views_,i);l&&(a=a.concat(l.removeEventRegistration(n,r)),l.isEmpty()&&(delete this.views_[i],l.getQuery().getQueryParams().loadsAllData()||o.push(l.getQuery())))}return s&&!this.hasCompleteView()&&o.push(new t.__referenceConstructor(e.repo,e.path)),{removed:o,events:a}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return c.forEach(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return c.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return c.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}(),ve=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new re(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=K.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new re(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return c.forEach(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,re.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(K.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ct,function(e,n){t.push(new gt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new gt(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new re(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(K.Empty,this.writeTree_,e)},t.Empty=new t(new re(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(c.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t.applySubtreeWrite_(e.child(n),o,r)}),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r},t}(),_e=function(){function t(){this.visibleWrites_=ve.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new be(t,this)},t.prototype.addOverwrite=function(t,e,n,r){c.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){c.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});c.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var s=this.allWrites_[a];s.visible&&(a>=n&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):c.forEach(r.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(K.Empty)?t.layerTree_(this.allWrites_,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e).apply(n||xt.EMPTY_NODE):null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(e);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(K.Empty)?s.apply(n||xt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=xt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Ct,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Ct,function(t,e){var r=i.childCompoundWrite(new K(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){c.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(K.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var l=[],c=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),d=h.getNext();d&&l.length<r;)0!==c(d,n)&&l.push(d),d=h.getNext();return l},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!c.findKey(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,K.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=ve.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=K.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=K.relativePath(a,n),r=r.addWrite(K.Empty,o.snap.getChild(s)));else{if(!o.children)throw c.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))s=K.relativePath(n,a),r=r.addWrites(s,o.children);else if(a.contains(n))if((s=K.relativePath(a,n)).isEmpty())r=r.addWrites(K.Empty,o.children);else{var u=c.safeGet(o.children,s.getFront());if(u){var l=u.getChild(s.popFront());r=r.addWrite(K.Empty,l)}}}}}return r},t}(),be=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),we=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=re.Empty,this.pendingWriteTree_=new _e,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new oe(te.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=re.fromObject(e);return this.applyOperationToSyncPoints_(new ae(te.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=re.Empty;return null!=n.snap?r=r.set(K.Empty,!0):c.forEach(n.children,function(t,e){r=r.set(new K(t),e)}),this.applyOperationToSyncPoints_(new ee(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new oe(te.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=re.fromObject(e);return this.applyOperationToSyncPoints_(new ae(te.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ie(te.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=K.relativePath(a,e),l=new oe(te.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=K.relativePath(a,e),l=re.fromObject(n),c=new ae(te.forServerTaggedQuery(s),u,l);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=K.relativePath(o,e),u=new ie(te.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=K.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var a,s=this.syncPointTree_.get(r);s?(o=o||s.hasCompleteView(),i=i||s.getCompleteServerCache(K.Empty)):(s=new me,this.syncPointTree_=this.syncPointTree_.set(r,s)),null!=i?a=!0:(a=!1,i=xt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(K.Empty);n&&(i=i.updateImmediateChild(t,n))}));var u=s.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);c.assert(!(l in this.queryToTagMap_),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap_[l]=h,this.tagToQueryMap_["_"+h]=l}var d=this.pendingWriteTree_.childWrites(r),p=s.addEventRegistration(e,n,d,i,a);if(!u&&!o){var f=s.viewForQuery(e);p=p.concat(this.setupListener_(e,f))}return p},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=u.removed;s=u.events;var c=-1!==l.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(c&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var g=p[f],y=g.getQuery(),m=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),m.hashFn,m.onComplete)}}!h&&l.length>0&&!r&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):l.forEach(function(e){var n=i.queryToTagMap_[t.makeQueryKey_(e)];i.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(l)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=K.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),c.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),s=this.syncPointTree_.subtree(r);if(i)c.assert(!s.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),c.forEach(n,function(t,e){r=r.concat(e)}),r}),l=0;l<u.length;++l){var h=u[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||xt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return c.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new K(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return c.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);c.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(K.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(K.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(K.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,l,c))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(K.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(K.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),l=t.operationForChild(e);l&&(a=a.concat(i.applyOperationDescendantsHelper_(l,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Ce=function(){function t(){this.rootNode_=xt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ee=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(A("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';O(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Se=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),c.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return c.deepCopy(this.counters_)},t}(),ke=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Se),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Ae=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=c.clone(t);return this.last_&&c.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Te=1e4,Ie=3e4,Re=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ae(t);var n=Te+(Ie-Te)*Math.random();G(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;c.forEach(e,function(e,i){i>0&&c.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),G(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Oe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Pe(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Pe=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();E&&A("event: "+e.toString()),q(n)}}},t.prototype.getPath=function(){return this.path_},t}(),De=function(){function t(t){this.allowedEvents_=t,this.listeners_={},c.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){c.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),Ne=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return d.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return c.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(De),xe=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||c.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return d.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return c.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(De),Me=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&q(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),Le="pLPCommand",Fe="pRTLPCB",Be=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=T(t),this.stats_=ke.getCollection(e),this.urlFn=function(t){return e.connectionURL(Q,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Me(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(c.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new je(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1],o=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=i,n.password=o;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,i)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!c.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!c.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=c.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=c.base64Encode(e),r=B(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!c.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=c.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),je=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new $t,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,c.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=b(),window[Le+this.uniqueCallbackIdentifier]=e,window[Fe+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(t){A("frame writing exception"),t.stack&&A(t.stack),A(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||A("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),c.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;c.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){A("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},t}(),Ue=null;"undefined"!=typeof MozWebSocket?Ue=MozWebSocket:"undefined"!=typeof WebSocket&&(Ue=WebSocket);var Ve=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=T(this.connId),this.stats_=ke.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!c.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,m.set("previous_websocket_failure",!0);try{if(c.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+p.SDK_VERSION+"/"+process.platform+"/"+(c.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,o=0==this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new Ue(this.connURL,[],r)}else this.mySock=new Ue(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var a=t.message||t.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ue&&!t.forceDisallow_},t.previouslyFailed=function(){return m.isInMemoryStorage||!0===m.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){m.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=c.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(c.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=c.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=B(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),ze=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Be,Ve]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=Ve&&Ve.isAvailable(),r=n&&!Ve.previouslyFailed();if(e.webSocketOnly&&(n||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ve];else{var i=this.transports_=[];j(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&i.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),qe=function(){function t(t,e,n,r,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=T("c:"+this.id+":"),this.transportManager_=new ze(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=G(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=L("t",t),n=L("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=L("t",t),n=L("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=L("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?I("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),G(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):G(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(m.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),He=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ge=1e3,Ke=3e5,We=function(t){function e(n,r,i,o,a,s){var u=t.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=i,u.onServerInfoUpdate_=o,u.authTokenProvider_=a,u.authOverride_=s,u.id=e.nextPersistentConnectionId_++,u.log_=T("p:"+u.id+":"),u.interruptReasons_={},u.listens_={},u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=Ge,u.maxReconnectDelay_=Ke,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!c.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),Ne.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&xe.getInstance().on("online",u.onOnline_,u),u}return d.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r,a:t,b:e};this.log_(c.stringify(i)),c.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},c.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),c.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&c.contains(t,"w")){var n=c.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||c.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=c.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),c.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+c.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):I("Unrecognized action received from server: "+c.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;c.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ge,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ge,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ge),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,r())};this.realtime_={close:l,sendRequest:function(t){c.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then(function(e){s?A("getToken() completed but was canceled"):(A("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new qe(i,o.repoInfo_,t,n,r,function(t){O(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},a))}).then(null,function(t){o.log_("Failed to get token: "+t),s||(c.CONSTANTS.NODE_ADMIN&&O(t),l())})}},e.prototype.interrupt=function(t){A("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){A("Resuming connection for reason: "+t),delete this.interruptReasons_[t],c.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Ge,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return F(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new K(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===c.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){A("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),c.forEach(this.listens_,function(e,n){c.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";c.CONSTANTS.NODE_ADMIN?e="admin_node":c.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+p.SDK_VERSION.replace(/\./g,"-")]=1,c.isMobileCordova()?t["framework.cordova"]=1:c.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=xe.getInstance().currentlyOnline();return c.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(He),Qe=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=T("p:rest:"),i.listens_={},i}return d.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(c.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var s=e.getListenId_(t,r),u={};this.listens_[s]=u;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),c.safeGet(o.listens_,s)===u&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?"+c.querystring(e);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var t=null;if(s.status>=200&&s.status<300){try{t=c.jsonEval(s.responseText)}catch(t){O("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&O("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})},e}(He),$e=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Oe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Yt,this.persistentConnection_=null;var i=new Ee(n);if(this.stats_=ke.getCollection(t),e||H())this.server_=new Qe(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(void 0!==o&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{c.stringify(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new We(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=ke.getOrCreateReporter(t,function(){return new Re(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new Ce,this.infoSyncTree_=new we({startListening:function(t,e,n,i){var o=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new we({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new K(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new K(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=c.map(e,function(t){return Ft(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var s=Ft(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var u=c.map(e,function(t){return Ft(t)});o=this.serverSyncTree_.applyServerMerge(i,u)}else{var l=Ft(e);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;j(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new K("/.info/"+t),r=Ft(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=Ft(e,n),s=Jt(a,o),u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),function(e,n){var o="ok"===e;o||O("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)});var c=this.abortTransactions_(t);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(c.forEach(e,function(t,e){i=!1;var n=Ft(e);a[t]=Jt(n,o)}),i)A("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||O("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)}),c.forEach(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=[];(function(t,e){var n=new Yt;return t.forEachTree(new K(""),function(t,r){n.remember(t,Jt(r,e))}),n})(this.onDisconnect_,e).forEachTree(K.Empty,function(e,r){n=n.concat(t.serverSyncTree_.applyServerOverwrite(e,r));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new Yt,this.eventQueue_.raiseEventsForChangedPath(K.Empty,n)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Ft(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Ft(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(c.isEmpty(e))return A("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(i,o){"ok"===i&&c.forEach(e,function(e,n){var i=Ft(n);r.onDisconnect_.remember(t.child(e),i)}),r.callOnCompleteCallback(n,i,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Ae(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);c.forEach(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),A.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&q(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new an(this))},enumerable:!0,configurable:!0}),t}(),Ye=function(){function t(e){this.indexedFilter_=new ce(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new gt(e,n))||(n=xt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=xt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(xt.EMPTY_NODE);var i=this;return e.forEachChild(Ct,function(t,e){i.matches(new gt(t,e))||(r=r.updateImmediateChild(t,xt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Xe=function(){function t(t){this.rangedFilter_=new Ye(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new gt(e,n))||(n=xt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=xt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=xt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(xt.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&l(s,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,u)<=0?o++:r=r.updateImmediateChild(a.name,xt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var s=t;c.assert(s.numChildren()==this.limit_,"");var u=new gt(e,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var d=s.getImmediateChild(e),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name==e||s.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:o(p,u);if(h&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(le.childChangedChange(e,n,d)),s.updateImmediateChild(e,n);null!=i&&i.trackChildChange(le.childRemovedChange(e,d));var g=s.updateImmediateChild(e,xt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(le.childAddedChange(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?t:h&&o(l,u)>=0?(null!=i&&(i.trackChildChange(le.childRemovedChange(l.name,l.node)),i.trackChildChange(le.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(l.name,xt.EMPTY_NODE)):t},t}(),Je=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ct}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return c.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return c.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:D},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return c.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return c.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return c.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Ct&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Ct},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ce(this.getIndex()):this.hasLimit()?new Xe(this):new Ye(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Ct?e=n.PRIORITY_INDEX:this.index_===Vt?e=n.VALUE_INDEX:this.index_===vt?e=n.KEY_INDEX:(c.assert(this.index_ instanceof zt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=c.stringify(e),this.startSet_&&(r[n.START_AT]=c.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+c.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=c.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+c.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),Ze=function(t){function e(e,n){if(!(e instanceof $e))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,Je.DEFAULT,!1)||this}return d.__extends(e,t),e.prototype.getKey=function(){return c.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return c.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof K||(null===this.path.getFront()?function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),lt("Reference.child",1,n,!1)}(0,0,t):lt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){c.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){c.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){c.validateArgCount("Reference.set",1,2,arguments.length),ct("Reference.set",this.path),rt("Reference.set",1,t,this.path,!1),c.validateCallback("Reference.set",2,e,!0);var n=new c.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(c.validateArgCount("Reference.update",1,2,arguments.length),ct("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ot("Reference.update",1,t,this.path,!1),c.validateCallback("Reference.update",2,e,!0);var i=new c.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(c.validateArgCount("Reference.setWithPriority",2,3,arguments.length),ct("Reference.setWithPriority",this.path),rt("Reference.setWithPriority",1,t,this.path,!1),at("Reference.setWithPriority",2,e,!1),c.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new c.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return c.validateArgCount("Reference.remove",0,1,arguments.length),ct("Reference.remove",this.path),c.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(c.validateArgCount("Reference.transaction",1,3,arguments.length),ct("Reference.transaction",this.path),c.validateCallback("Reference.transaction",1,t,!1),c.validateCallback("Reference.transaction",2,e,!0),function(t,e,r,i){if(void 0!==n&&"boolean"!=typeof n)throw new Error(c.errorPrefix("Reference.transaction",3,!0)+"must be a boolean.")}(),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new c.Deferred;return"function"==typeof e&&r.promise.catch(function(){}),this.repo.startTransaction(this.path,t,function(t,n,i){t?r.reject(t):r.resolve(new pt(n,i)),"function"==typeof e&&e(t,n,i)},n),r.promise},e.prototype.setPriority=function(t,e){c.validateArgCount("Reference.setPriority",1,2,arguments.length),ct("Reference.setPriority",this.path),at("Reference.setPriority",1,t,!1),c.validateCallback("Reference.setPriority",2,e,!0);var n=new c.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){c.validateArgCount("Reference.push",0,2,arguments.length),ct("Reference.push",this.path),rt("Reference.push",1,t,this.path,!0),c.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=ft(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return ct("Reference.onDisconnect",this.path),new dt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Qt);Qt.__referenceConstructor=Ze,me.__referenceConstructor=Ze;var tn=function(){this.children={},this.childCount=0,this.value=null},en=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new tn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof K?e:new K(e),i=this;null!==(n=r.getFront());)i=new t(n,i,c.safeGet(i.node_.children,n)||new tn),r=r.popFront();return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){c.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;c.forEach(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new K(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=c.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),nn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});$e.MAX_TRANSACTION_RETRIES_=25,$e.prototype.transactions_init_=function(){this.transactionQueueTree_=new en},$e.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new Ze(this,t);o.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:b(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(t);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new qt(a.currentInputSnapshot,new Ze(this,a.path),Ct);a.onComplete(null,!1,l)}}else{it("transaction failed: Data returned ",u,a.path),a.status=nn.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(a),h.setValue(d);var p=void 0;"object"==typeof u&&null!==u&&c.contains(u,".priority")?(p=c.safeGet(u,".priority"),c.assert(nt(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(t)||xt.EMPTY_NODE).getPriority().val(),p=p;var f=this.generateServerValues(),g=Ft(u,p),y=Jt(g,f);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,y,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},$e.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||xt.EMPTY_NODE},$e.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);c.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===nn.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},$e.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,r),o=i,a=i.hash(),s=0;s<e.length;s++){var u=e[s];c.assert(u.status===nn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=nn.SENT,u.retryCount++;var l=K.relativePath(t,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var h=o.val(!0),d=t;this.server_.put(d.toString(),h,function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=nn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new Ze(n,e[a].path),l=new qt(s,u,Ct);o.push(e[a].onComplete.bind(null,null,!0,l))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),a=0;a<o.length;a++)q(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status=e[a].status===nn.SENT_NEEDS_ABORT?nn.NEEDS_ABORT:nn.RUN;else for(O("transaction at "+d.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=nn.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}},a)},$e.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},$e.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter(function(t){return t.status===nn.RUN}).map(function(t){return t.currentWriteId}),o=0;o<t.length;o++){var a=t[o],s=K.relativePath(e,a.path),u=!1,l=void 0;if(c.assert(null!==s,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===nn.NEEDS_ABORT)u=!0,l=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===nn.RUN)if(a.retryCount>=$e.MAX_TRANSACTION_RETRIES_)u=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,i);a.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){it("transaction failed: Data returned ",d,a.path);var p=Ft(d);"object"==typeof d&&null!=d&&c.contains(d,".priority")||(p=p.updatePriority(h.getPriority()));var f=a.currentWriteId,g=this.generateServerValues(),y=Jt(p,g);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(f),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,y,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else u=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],u&&(t[o].status=nn.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===l){var m=new Ze(this,t[o].path),v=new qt(t[o].currentInputSnapshot,m,Ct);n.push(t[o].onComplete.bind(null,null,!1,v))}else n.push(t[o].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)q(n[o]);this.sendReadyTransactions_()}},$e.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},$e.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},$e.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},$e.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==nn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},$e.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},$e.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===nn.SENT_NEEDS_ABORT||(e[o].status===nn.SENT?(c.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=nn.SENT_NEEDS_ABORT,e[o].abortReason="set"):(c.assert(e[o].status===nn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)q(n[o])}};var rn,on=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return rn||(rn=new t),rn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&R("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=Y(n),i=r.repoInfo;return ht("Invalid Firebase Database URL",1,r),r.path.isEmpty()||R("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,t).database},t.prototype.deleteRepo=function(t){var e=c.safeGet(this.repos_,t.app.name);e&&c.safeGet(e,t.repoInfo_.toURLString())===t||R("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=c.safeGet(this.repos_,e.name);n||(this.repos_[e.name]=n={});var r=c.safeGet(n,t.toURLString());return r&&R("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new $e(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),an=function(){function t(t){this.repo_=t,t instanceof $e||R("Don't call new Database() directly - please use firebase.database()."),this.root_=new Ze(t,K.Empty),this.INTERNAL=new sn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),c.validateArgCount("database.ref",0,1,arguments.length),t instanceof Ze?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),c.validateArgCount(e,1,1,arguments.length);var n=Y(t);ht(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&R(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&R("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){c.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){c.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),sn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){return this.database.checkDeleted_("delete"),on.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),un=Object.freeze({forceLongPolling:function(){Ve.forceDisallow(),Be.forceAllow()},forceWebSockets:function(){Be.forceDisallow()},isWebSocketsAvailable:function(){return Ve.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),ln=We;We.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},We.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var cn=Object.freeze({DataConnection:ln,RealTimeConnection:qe,hijackHash:function(t){var e=We.prototype.put;return We.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){We.prototype.put=e}},ConnectionTarget:$,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){on.getInstance().forceRestClient(t)}}),hn=an.ServerValue;function dn(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return on.getInstance().databaseFromApp(t,n)},{Reference:Ze,Query:Qt,Database:an,enableLogging:k,INTERNAL:un,ServerValue:hn,TEST_ACCESS:cn},null,!0);c.isNodeSdk()&&(t.exports=n)}dn(p),e.registerDatabase=dn,e.Database=an,e.Query=Qt,e.Reference=Ze,e.enableLogging=k,e.ServerValue=hn,e.DataSnapshot=qt,e.OnDisconnect=dt},"Os+M":function(t){t.exports=[{name:"Afghanistan",code:"af"},{name:"Albania",code:"al"},{name:"Algeria",code:"dz"},{name:"Andorra",code:"ad"},{name:"Angola",code:"ao"},{name:"Anguilla",code:"ai"},{name:"Antigua and Barbuda",code:"ag"},{name:"Argentina",code:"ar"},{name:"Armenia",code:"am"},{name:"Aruba",code:"aw"},{name:"Australia",code:"au"},{name:"Austria",code:"at"},{name:"Azerbaijan",code:"az"},{name:"Bahamas",code:"bs"},{name:"Bahrain",code:"bh"},{name:"Bangladesh",code:"bd"},{name:"Barbados",code:"bb"},{name:"Belarus",code:"by"},{name:"Belgium",code:"be"},{name:"Belize",code:"bz"},{name:"Benin",code:"bj"},{name:"Bermuda",code:"bm"},{name:"Bhutan",code:"bt"},{name:"Bolivia",code:"bo"},{name:"Bosnia and Herzegovina",code:"ba"},{name:"Botswana",code:"bw"},{name:"Brazil",code:"br"},{name:"Brunei Darussalam",code:"bn"},{name:"Bulgaria",code:"bg"},{name:"Burkina Faso",code:"bf"},{name:"Burundi",code:"bi"},{name:"Cambodia",code:"kh"},{name:"Cameroon",code:"cm"},{name:"Canada",code:"ca"},{name:"Cape Verde",code:"cv"},{name:"Cayman Islands",code:"ky"},{name:"Central African Republic",code:"cf"},{name:"Chad",code:"td"},{name:"Chile",code:"cl"},{name:"China",code:"cn"},{name:"Christmas Island",code:"cx"},{name:"Cocos (Keeling) Islands",code:"cc"},{name:"Colombia",code:"co"},{name:"Comoros",code:"km"},{name:"Congo",code:"cg"},{name:"Cook Islands",code:"ck"},{name:"Costa Rica",code:"cr"},{name:"Cote D'Ivoire (Ivory Coast)",code:"ci"},{name:"Croatia (Hrvatska)",code:"hr"},{name:"Cuba",code:"cu"},{name:"Cyprus",code:"cy"},{name:"Czech Republic",code:"cz"},{name:"Democratic Republic of the Congo",code:"cd"},{name:"Denmark",code:"dk"},{name:"Djibouti",code:"dj"},{name:"Dominica",code:"dm"},{name:"Dominican Republic",code:"do"},{name:"Ecuador",code:"ec"},{name:"Egypt",code:"eg"},{name:"El Salvador",code:"sv"},{name:"Equatorial Guinea",code:"gq"},{name:"Eritrea",code:"er"},{name:"Estonia",code:"ee"},{name:"Ethiopia",code:"et"},{name:"Falkland Islands (Malvinas)",code:"fk"},{name:"Faroe Islands",code:"fo"},{name:"Federated States of Micronesia",code:"fm"},{name:"Fiji",code:"fj"},{name:"Finland",code:"fi"},{name:"France",code:"fr"},{name:"French Guiana",code:"gf"},{name:"French Polynesia",code:"pf"},{name:"French Southern Territories",code:"tf"},{name:"Gabon",code:"ga"},{name:"Gambia",code:"gm"},{name:"Georgia",code:"ge"},{name:"Germany",code:"de"},{name:"Ghana",code:"gh"},{name:"Gibraltar",code:"gi"},{name:"Great Britain (UK)",code:"gb"},{name:"Greece",code:"gr"},{name:"Greenland",code:"gl"},{name:"Grenada",code:"gd"},{name:"Guadeloupe",code:"gp"},{name:"Guatemala",code:"gt"},{name:"Guinea",code:"gn"},{name:"Guinea-Bissau",code:"gw"},{name:"Guyana",code:"gy"},{name:"Haiti",code:"ht"},{name:"Honduras",code:"hn"},{name:"Hong Kong",code:"hk"},{name:"Hungary",code:"hu"},{name:"Iceland",code:"is"},{name:"India",code:"in"},{name:"Indonesia",code:"id"},{name:"Iran",code:"ir"},{name:"Iraq",code:"iq"},{name:"Ireland",code:"ie"},{name:"Israel",code:"il"},{name:"Italy",code:"it"},{name:"Jamaica",code:"jm"},{name:"Japan",code:"jp"},{name:"Jordan",code:"jo"},{name:"Kazakhstan",code:"kz"},{name:"Kenya",code:"ke"},{name:"Kiribati",code:"ki"},{name:"Korea (North)",code:"kp"},{name:"Korea (South)",code:"kr"},{name:"Kuwait",code:"kw"},{name:"Kyrgyzstan",code:"kg"},{name:"Laos",code:"la"},{name:"Latvia",code:"lv"},{name:"Lebanon",code:"lb"},{name:"Lesotho",code:"ls"},{name:"Liberia",code:"lr"},{name:"Libya",code:"ly"},{name:"Liechtenstein",code:"li"},{name:"Lithuania",code:"lt"},{name:"Luxembourg",code:"lu"},{name:"Macao",code:"mo"},{name:"Macedonia",code:"mk"},{name:"Madagascar",code:"mg"},{name:"Malawi",code:"mw"},{name:"Malaysia",code:"my"},{name:"Maldives",code:"mv"},{name:"Mali",code:"ml"},{name:"Malta",code:"mt"},{name:"Marshall Islands",code:"mh"},{name:"Martinique",code:"mq"},{name:"Mauritania",code:"mr"},{name:"Mauritius",code:"mu"},{name:"Mayotte",code:"yt"},{name:"Mexico",code:"mx"},{name:"Moldova",code:"md"},{name:"Monaco",code:"mc"},{name:"Mongolia",code:"mn"},{name:"Montserrat",code:"ms"},{name:"Morocco",code:"ma"},{name:"Mozambique",code:"mz"},{name:"Myanmar",code:"mm"},{name:"Namibia",code:"na"},{name:"Nauru",code:"nr"},{name:"Nepal",code:"np"},{name:"Netherlands",code:"nl"},{name:"Netherlands Antilles",code:"an"},{name:"New Caledonia",code:"nc"},{name:"New Zealand (Aotearoa)",code:"nz"},{name:"Nicaragua",code:"ni"},{name:"Niger",code:"ne"},{name:"Nigeria",code:"ng"},{name:"Niue",code:"nu"},{name:"Norfolk Island",code:"nf"},{name:"Northern Mariana Islands",code:"mp"},{name:"Norway",code:"no"},{name:"NULL",code:"gg"},{name:"Oman",code:"om"},{name:"Pakistan",code:"pk"},{name:"Palau",code:"pw"},{name:"Palestinian Territory",code:"ps"},{name:"Panama",code:"pa"},{name:"Papua New Guinea",code:"pg"},{name:"Paraguay",code:"py"},{name:"Peru",code:"pe"},{name:"Philippines",code:"ph"},{name:"Pitcairn",code:"pn"},{name:"Poland",code:"pl"},{name:"Portugal",code:"pt"},{name:"Qatar",code:"qa"},{name:"Reunion",code:"re"},{name:"Romania",code:"ro"},{name:"Russian Federation",code:"ru"},{name:"Rwanda",code:"rw"},{name:"S. Georgia and S. Sandwich Islands",code:"gs"},{name:"Saint Helena",code:"sh"},{name:"Saint Kitts and Nevis",code:"kn"},{name:"Saint Lucia",code:"lc"},{name:"Saint Pierre and Miquelon",code:"pm"},{name:"Saint Vincent and the Grenadines",code:"vc"},{name:"Samoa",code:"ws"},{name:"San Marino",code:"sm"},{name:"Sao Tome and Principe",code:"st"},{name:"Saudi Arabia",code:"sa"},{name:"Senegal",code:"sn"},{name:"Seychelles",code:"sc"},{name:"Sierra Leone",code:"sl"},{name:"Singapore",code:"sg"},{name:"Slovakia",code:"sk"},{name:"Slovenia",code:"si"},{name:"Solomon Islands",code:"sb"},{name:"Somalia",code:"so"},{name:"South Africa",code:"za"},{name:"Spain",code:"es"},{name:"Sri Lanka",code:"lk"},{name:"Sudan",code:"sd"},{name:"Suriname",code:"sr"},{name:"Svalbard and Jan Mayen",code:"sj"},{name:"Swaziland",code:"sz"},{name:"Sweden",code:"se"},{name:"Switzerland",code:"ch"},{name:"Syria",code:"sy"},{name:"Taiwan",code:"tw"},{name:"Tajikistan",code:"tj"},{name:"Tanzania",code:"tz"},{name:"Thailand",code:"th"},{name:"Togo",code:"tg"},{name:"Tokelau",code:"tk"},{name:"Tonga",code:"to"},{name:"Trinidad and Tobago",code:"tt"},{name:"Tunisia",code:"tn"},{name:"Turkey",code:"tr"},{name:"Turkmenistan",code:"tm"},{name:"Turks and Caicos Islands",code:"tc"},{name:"Tuvalu",code:"tv"},{name:"Uganda",code:"ug"},{name:"Ukraine",code:"ua"},{name:"United Arab Emirates",code:"ae"},{name:"United States of America",code:"us"},{name:"Uruguay",code:"uy"},{name:"Uzbekistan",code:"uz"},{name:"Vanuatu",code:"vu"},{name:"Venezuela",code:"ve"},{name:"Viet Nam",code:"vn"},{name:"Virgin Islands (British)",code:"vg"},{name:"Virgin Islands (U.S.)",code:"vi"},{name:"Wallis and Futuna",code:"wf"},{name:"Western Sahara",code:"eh"},{name:"Yemen",code:"ye"},{name:"Zaire (former)",code:"zr"},{name:"Zambia",code:"zm"},{name:"Zimbabwe",code:"zw"}]},Wcq6:function(t,e,n){"use strict";n("lcbw");var r=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n("wj3C"));t.exports=r},b0Xh:function(t,e,r){var i;(function(){var r=!1,o=function(t){return t instanceof o?t:this instanceof o?void(this.EXIFwrapped=t):new o(t)};void 0!==t&&t.exports&&(e=t.exports=o),e.EXIF=o;var a=o.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=o.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},u=o.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},l=o.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},c=o.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function h(t){return!!t.exifdata}function d(t){var e=new DataView(t);if(r&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;for(var n,i=2,o=t.byteLength;i<o;){if(255!=e.getUint8(i))return r&&console.log("Not a valid marker at offset "+i+", found: "+e.getUint8(i)),!1;if(n=e.getUint8(i+1),r&&console.log(n),225==n)return r&&console.log("Found 0xFFE1 marker"),v(e,i+4,e.getUint16(i+2));i+=2+e.getUint16(i+2)}}var p={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function f(t,e,n){for(var r,i,o,a,s=new DataView(t),u={},l=e;l<e+n;)28===s.getUint8(l)&&2===s.getUint8(l+1)&&(a=s.getUint8(l+2))in p&&(o=s.getInt16(l+3),i=p[a],r=m(s,l+5,o),u.hasOwnProperty(i)?u[i]instanceof Array?u[i].push(r):u[i]=[u[i],r]:u[i]=r),l++;return u}function g(t,e,n,i,o){var a,s,u,l=t.getUint16(n,!o),c={};for(u=0;u<l;u++)!(s=i[t.getUint16(a=n+12*u+2,!o)])&&r&&console.log("Unknown tag: "+t.getUint16(a,!o)),c[s]=y(t,a,e,0,o);return c}function y(t,e,n,r,i){var o,a,s,u,l,c,h=t.getUint16(e+2,!i),d=t.getUint32(e+4,!i),p=t.getUint32(e+8,!i)+n;switch(h){case 1:case 7:if(1==d)return t.getUint8(e+8,!i);for(o=d>4?p:e+8,a=[],u=0;u<d;u++)a[u]=t.getUint8(o+u);return a;case 2:return m(t,o=d>4?p:e+8,d-1);case 3:if(1==d)return t.getUint16(e+8,!i);for(o=d>2?p:e+8,a=[],u=0;u<d;u++)a[u]=t.getUint16(o+2*u,!i);return a;case 4:if(1==d)return t.getUint32(e+8,!i);for(a=[],u=0;u<d;u++)a[u]=t.getUint32(p+4*u,!i);return a;case 5:if(1==d)return l=t.getUint32(p,!i),c=t.getUint32(p+4,!i),(s=new Number(l/c)).numerator=l,s.denominator=c,s;for(a=[],u=0;u<d;u++)l=t.getUint32(p+8*u,!i),c=t.getUint32(p+4+8*u,!i),a[u]=new Number(l/c),a[u].numerator=l,a[u].denominator=c;return a;case 9:if(1==d)return t.getInt32(e+8,!i);for(a=[],u=0;u<d;u++)a[u]=t.getInt32(p+4*u,!i);return a;case 10:if(1==d)return t.getInt32(p,!i)/t.getInt32(p+4,!i);for(a=[],u=0;u<d;u++)a[u]=t.getInt32(p+8*u,!i)/t.getInt32(p+4+8*u,!i);return a}}function m(t,e,r){var i="";for(n=e;n<e+r;n++)i+=String.fromCharCode(t.getUint8(n));return i}function v(t,e){if("Exif"!=m(t,e,4))return r&&console.log("Not valid EXIF data! "+m(t,e,4)),!1;var n,i,o,h,d,p=e+6;if(18761==t.getUint16(p))n=!1;else{if(19789!=t.getUint16(p))return r&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=t.getUint16(p+2,!n))return r&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var f=t.getUint32(p+4,!n);if(f<8)return r&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(p+4,!n)),!1;if((i=g(t,p,p+f,s,n)).ExifIFDPointer)for(o in h=g(t,p,p+i.ExifIFDPointer,a,n)){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":h[o]=c[o][h[o]];break;case"ExifVersion":case"FlashpixVersion":h[o]=String.fromCharCode(h[o][0],h[o][1],h[o][2],h[o][3]);break;case"ComponentsConfiguration":h[o]=c.Components[h[o][0]]+c.Components[h[o][1]]+c.Components[h[o][2]]+c.Components[h[o][3]]}i[o]=h[o]}if(i.GPSInfoIFDPointer)for(o in d=g(t,p,p+i.GPSInfoIFDPointer,u,n)){switch(o){case"GPSVersionID":d[o]=d[o][0]+"."+d[o][1]+"."+d[o][2]+"."+d[o][3]}i[o]=d[o]}return i.thumbnail=function(t,e,n,r){var i=function(t,e,n){var r=t.getUint16(e,!n);return t.getUint32(e+2+12*r,!n)}(t,e+n,r);if(!i)return{};if(i>t.byteLength)return{};var o=g(t,e,e+i,l,r);if(o.Compression)switch(o.Compression){case 6:o.JpegIFOffset&&o.JpegIFByteCount&&(o.blob=new Blob([new Uint8Array(t.buffer,e+o.JpegIFOffset,o.JpegIFByteCount)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}(t,p,f,n),i}function _(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var n=0;n<t.attributes.length;n++){var r=t.attributes.item(n);e["@attributes"][r.nodeName]=r.nodeValue}}}else if(3==t.nodeType)return t.nodeValue;if(t.hasChildNodes())for(var i=0;i<t.childNodes.length;i++){var o=t.childNodes.item(i),a=o.nodeName;if(null==e[a])e[a]=_(o);else{if(null==e[a].push){var s=e[a];e[a]=[],e[a].push(s)}e[a].push(_(o))}}return e}function b(t){try{var e={};if(t.children.length>0)for(var n=0;n<t.children.length;n++){var r=t.children.item(n),i=r.attributes;for(var o in i){var a=i[o],s=a.nodeName;void 0!==s&&(e[s]=a.nodeValue)}var u=r.nodeName;if(void 0===e[u])e[u]=_(r);else{if(void 0===e[u].push){var l=e[u];e[u]=[],e[u].push(l)}e[u].push(_(r))}}else e=t.textContent;return e}catch(t){console.log(t.message)}}o.enableXmp=function(){o.isXmpEnabled=!0},o.disableXmp=function(){o.isXmpEnabled=!1},o.getData=function(t,e){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete||(h(t)?e&&e.call(t):function(t,e){function n(n){var i=d(n);t.exifdata=i||{};var a=function(t){var e=new DataView(t);if(r&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;for(var n=2,i=t.byteLength,o=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};n<i;){if(o(e,n)){var a=e.getUint8(n+7);return a%2!=0&&(a+=1),0===a&&(a=4),f(t,n+8+a,e.getUint16(n+6+a))}n++}}(n);if(t.iptcdata=a||{},o.isXmpEnabled){var s=function(t){if("DOMParser"in self){var e=new DataView(t);if(r&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;for(var n=2,i=t.byteLength,o=new DOMParser;n<i-4;){if("http"==m(e,n,4)){var a=m(e,n-1,e.getUint16(n-2)-1),s=a.indexOf("xmpmeta>")+8,u=(a=a.substring(a.indexOf("<x:xmpmeta"),s)).indexOf("x:xmpmeta")+10;return a=a.slice(0,u)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+a.slice(u),b(o.parseFromString(a,"text/xml"))}n++}}}(n);t.xmpdata=s||{}}e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src))n(function(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(t),r=n.length,i=new ArrayBuffer(r),o=new Uint8Array(i),a=0;a<r;a++)o[a]=n.charCodeAt(a);return i}(t.src));else if(/^blob\:/i.test(t.src))(a=new FileReader).onload=function(t){n(t.target.result)},function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(t){200!=this.status&&0!==this.status||function(t){a.readAsArrayBuffer(t)}(this.response)},n.send()}(t.src);else{var i=new XMLHttpRequest;i.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(i.response),i=null},i.open("GET",t.src,!0),i.responseType="arraybuffer",i.send(null)}else if(self.FileReader&&(t instanceof self.Blob||t instanceof self.File)){var a;(a=new FileReader).onload=function(t){r&&console.log("Got file of length "+t.target.result.byteLength),n(t.target.result)},a.readAsArrayBuffer(t)}}(t,e),0))},o.getTag=function(t,e){if(h(t))return t.exifdata[e]},o.getIptcTag=function(t,e){if(h(t))return t.iptcdata[e]},o.getAllTags=function(t){if(!h(t))return{};var e,n=t.exifdata,r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r},o.getAllIptcTags=function(t){if(!h(t))return{};var e,n=t.iptcdata,r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r},o.pretty=function(t){if(!h(t))return"";var e,n=t.exifdata,r="";for(e in n)n.hasOwnProperty(e)&&("object"==typeof n[e]?n[e]instanceof Number?r+=e+" : "+n[e]+" ["+n[e].numerator+"/"+n[e].denominator+"]\r\n":r+=e+" : ["+n[e].length+" values]\r\n":r+=e+" : "+n[e]+"\r\n");return r},o.readFromBinaryFile=function(t){return d(t)},void 0===(i=(function(){return o}).apply(e,[]))||(t.exports=i)}).call(this)},bZMm:function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},c.prototype.delete=function(t){delete this.map[s(t)]},c.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},c.prototype.set=function(t,e){this.map[s(t)]=u(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),l(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),l(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},g.call(y.prototype),g.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];v.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=y,t.Response=v,t.fetch=function(t,n){return new Promise(function(r,i){var o=new y(t,n),a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:function(t){var e=new c;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL"),r(new v("response"in a?a.response:a.responseText,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function p(t){var e=new FileReader,n=d(e);return e.readAsArrayBuffer(t),n}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=d(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(t,e){var n=(e=e||{}).body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=function(t){var e=t.toUpperCase();return o.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function m(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error('Cannot find module "'+t+'".');throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},gkvR:function(t,e,n){var r;t.exports=function t(e,n,i){function o(s,u){if(!n[s]){if(!e[s]){if(!u&&"function"==typeof r&&r)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){return o(e[s][1][t]||t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){"use strict";var r=t("inherits"),i=t("multimath"),o=t("multimath/lib/unsharp_mask"),a=t("./mm_resize");function s(t){var e=t||[],n={js:e.indexOf("js")>=0,wasm:e.indexOf("wasm")>=0};i.call(this,n),this.features={js:n.js,wasm:n.wasm&&this.has_wasm},this.use(o),this.use(a)}r(s,i),s.prototype.resizeAndUnsharp=function(t,e){var n=this.resize(t,e);return t.unsharpAmount&&this.unsharp_mask(n,t.toWidth,t.toHeight,t.unsharpAmount,t.unsharpRadius,t.unsharpThreshold),n},e.exports=s},{"./mm_resize":4,inherits:15,multimath:16,"multimath/lib/unsharp_mask":19}],2:[function(t,e,n){"use strict";function r(t){return t<0?0:t>255?255:t}e.exports={convolveHorizontally:function(t,e,n,i,o,a){var s,u,l,c,h,d,p,f,g,y,m,v=0,_=0;for(g=0;g<i;g++){for(h=0,y=0;y<o;y++){for(d=a[h++],p=a[h++],f=v+4*d|0,s=u=l=c=0;p>0;p--)c=c+(m=a[h++])*t[f+3]|0,l=l+m*t[f+2]|0,u=u+m*t[f+1]|0,s=s+m*t[f]|0,f=f+4|0;e[_+3]=r(c+8192>>14),e[_+2]=r(l+8192>>14),e[_+1]=r(u+8192>>14),e[_]=r(s+8192>>14),_=_+4*i|0}_=4*(g+1)|0,v=(g+1)*n*4|0}},convolveVertically:function(t,e,n,i,o,a){var s,u,l,c,h,d,p,f,g,y,m,v=0,_=0;for(g=0;g<i;g++){for(h=0,y=0;y<o;y++){for(d=a[h++],p=a[h++],f=v+4*d|0,s=u=l=c=0;p>0;p--)c=c+(m=a[h++])*t[f+3]|0,l=l+m*t[f+2]|0,u=u+m*t[f+1]|0,s=s+m*t[f]|0,f=f+4|0;e[_+3]=r(c+8192>>14),e[_+2]=r(l+8192>>14),e[_+1]=r(u+8192>>14),e[_]=r(s+8192>>14),_=_+4*i|0}_=4*(g+1)|0,v=(g+1)*n*4|0}}}},{}],3:[function(t,e,n){"use strict";e.exports="AGFzbQEAAAABFAJgBn9/f39/fwBgB39/f39/f38AAg8BA2VudgZtZW1vcnkCAAEDAwIAAQQEAXAAAAcZAghjb252b2x2ZQAACmNvbnZvbHZlSFYAAQkBAArmAwLBAwEQfwJAIANFDQAgBEUNACAFQQRqIRVBACEMQQAhDQNAIA0hDkEAIRFBACEHA0AgB0ECaiESAn8gBSAHQQF0IgdqIgZBAmouAQAiEwRAQQAhCEEAIBNrIRQgFSAHaiEPIAAgDCAGLgEAakECdGohEEEAIQlBACEKQQAhCwNAIBAoAgAiB0EYdiAPLgEAIgZsIAtqIQsgB0H/AXEgBmwgCGohCCAHQRB2Qf8BcSAGbCAKaiEKIAdBCHZB/wFxIAZsIAlqIQkgD0ECaiEPIBBBBGohECAUQQFqIhQNAAsgEiATagwBC0EAIQtBACEKQQAhCUEAIQggEgshByABIA5BAnRqIApBgMAAakEOdSIGQf8BIAZB/wFIG0EQdEGAgPwHcUEAIAZBAEobIAtBgMAAakEOdSIGQf8BIAZB/wFIG0EYdEEAIAZBAEobciAJQYDAAGpBDnUiBkH/ASAGQf8BSBtBCHRBgP4DcUEAIAZBAEobciAIQYDAAGpBDnUiBkH/ASAGQf8BSBtB/wFxQQAgBkEAShtyNgIAIA4gA2ohDiARQQFqIhEgBEcNAAsgDCACaiEMIA1BAWoiDSADRw0ACwsLIQACQEEAIAIgAyAEIAUgABAAIAJBACAEIAUgBiABEAALCw=="},{}],4:[function(t,e,n){"use strict";e.exports={name:"resize",fn:t("./resize"),wasm_fn:t("./resize_wasm"),wasm_src:t("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(t,e,n){"use strict";var r=t("./resize_filter_gen"),i=t("./convolve").convolveHorizontally,o=t("./convolve").convolveVertically;e.exports=function(t){var e=t.src,n=t.width,a=t.height,s=t.toWidth,u=t.toHeight,l=t.scaleX||t.toWidth/t.width,c=t.scaleY||t.toHeight/t.height,h=t.offsetX||0,d=t.offsetY||0,p=t.dest||new Uint8Array(s*u*4),f=void 0===t.quality?3:t.quality,g=t.alpha||!1,y=r(f,n,s,l,h),m=r(f,a,u,c,d),v=new Uint8Array(s*a*4);return i(e,v,n,a,s,y),o(v,p,a,s,u,m),g||function(t,e,n){for(var r=3,i=s*u*4|0;r<i;)t[r]=255,r=r+4|0}(p),p}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(t,e,n){"use strict";var r=t("./resize_filter_info"),i=14;function o(t){return Math.round(t*((1<<i)-1))}e.exports=function(t,e,n,i,a){var s,u,l,c,h,d,p,f,g,y,m,v,_,b,w,C,E=r[t].filter,S=1/i,k=Math.min(1,i),A=r[t].win/k,T=Math.floor(2*(A+1)),I=new Int16Array((T+2)*n),R=0,O=!I.subarray||!I.set;for(s=0;s<n;s++){for(u=(s+.5)*S+a,l=Math.max(0,Math.floor(u-A)),h=(c=Math.min(e-1,Math.ceil(u+A)))-l+1,d=new Float32Array(h),p=new Int16Array(h),f=0,g=l,y=0;g<=c;g++,y++)f+=m=E((g+.5-u)*k),d[y]=m;for(v=0,y=0;y<d.length;y++)v+=_=d[y]/f,p[y]=o(_);for(p[n>>1]+=o(1-v),b=0;b<p.length&&0===p[b];)b++;if(b<p.length){for(w=p.length-1;w>0&&0===p[w];)w--;if(C=w-b+1,I[R++]=l+b,I[R++]=C,O)for(y=b;y<=w;y++)I[R++]=p[y];else I.set(p.subarray(b,w+1),R),R+=C}else I[R++]=0,I[R++]=0}return I}},{"./resize_filter_info":7}],7:[function(t,e,n){"use strict";e.exports=[{win:.5,filter:function(t){return t>=-.5&&t<.5?1:0}},{win:1,filter:function(t){if(t<=-1||t>=1)return 0;if(t>-1.1920929e-7&&t<1.1920929e-7)return 1;var e=t*Math.PI;return Math.sin(e)/e*(.54+.46*Math.cos(e/1))}},{win:2,filter:function(t){if(t<=-2||t>=2)return 0;if(t>-1.1920929e-7&&t<1.1920929e-7)return 1;var e=t*Math.PI;return Math.sin(e)/e*Math.sin(e/2)/(e/2)}},{win:3,filter:function(t){if(t<=-3||t>=3)return 0;if(t>-1.1920929e-7&&t<1.1920929e-7)return 1;var e=t*Math.PI;return Math.sin(e)/e*Math.sin(e/3)/(e/3)}}]},{}],8:[function(t,e,n){"use strict";var r=t("./resize_filter_gen"),i=!0;try{i=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch(t){}function o(t,e,n){if(i)e.set(function(t){return new Uint8Array(t.buffer,0,t.byteLength)}(t),n);else for(var r=n,o=0;o<t.length;o++){var a=t[o];e[r++]=255&a,e[r++]=a>>8&255}}e.exports=function(t){var e=t.src,n=t.width,i=t.height,a=t.toWidth,s=t.toHeight,u=t.scaleX||t.toWidth/t.width,l=t.scaleY||t.toHeight/t.height,c=t.offsetX||0,h=t.offsetY||0,d=t.dest||new Uint8Array(a*s*4),p=void 0===t.quality?3:t.quality,f=t.alpha||!1,g=r(p,n,a,u,c),y=r(p,i,s,l,h),m=this.__align(0+Math.max(e.byteLength,d.byteLength)),v=this.__align(m+i*a*4),_=this.__align(v+g.byteLength),b=this.__instance("resize",_+y.byteLength),w=new Uint8Array(this.__memory.buffer),C=new Uint32Array(this.__memory.buffer),E=new Uint32Array(e.buffer);return C.set(E),o(g,w,v),o(y,w,_),(b.exports.convolveHV||b.exports._convolveHV)(v,_,m,n,i,a,s),new Uint32Array(d.buffer).set(new Uint32Array(this.__memory.buffer,0,s*a)),f||function(t,e,n){for(var r=3,i=a*s*4|0;r<i;)t[r]=255,r=r+4|0}(d),d}},{"./resize_filter_gen":6}],9:[function(t,e,n){"use strict";function r(t,e){this.create=t,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=e||2e3}r.prototype.acquire=function(){var t=this,e=void 0;return 0!==this.available.length?e=this.available.pop():((e=this.create()).id=this.lastId++,e.release=function(){return t.release(e)}),this.acquired[e.id]=e,e},r.prototype.release=function(t){var e=this;delete this.acquired[t.id],t.lastUsed=Date.now(),this.available.push(t),0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return e.gc()},100))},r.prototype.gc=function(){var t=this,e=Date.now();this.available=this.available.filter(function(n){return!(e-n.lastUsed>t.idle&&(n.destroy(),1))}),this.timeoutId=0!==this.available.length?setTimeout(function(){return t.gc()},100):0},e.exports=r},{}],10:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i,o){var a=n/t,s=r/e,u=(2*o+2+1)/i;if(u>.5)return[[n,r]];var l=Math.ceil(Math.log(Math.min(a,s))/Math.log(u));if(l<=1)return[[n,r]];for(var c=[],h=0;h<l;h++){var d=Math.round(Math.pow(Math.pow(t,l-h-1)*Math.pow(n,h+1),1/l)),p=Math.round(Math.pow(Math.pow(e,l-h-1)*Math.pow(r,h+1),1/l));c.push([d,p])}return c}},{}],11:[function(t,e,n){"use strict";var r=1e-5;function i(t){var e=Math.round(t);return Math.abs(t-e)<r?e:Math.floor(t)}function o(t){var e=Math.round(t);return Math.abs(t-e)<r?e:Math.ceil(t)}e.exports=function(t){var e,n,r,a,s,u,l=t.toWidth/t.width,c=t.toHeight/t.height,h=i(t.srcTileSize*l)-2*t.destTileBorder,d=i(t.srcTileSize*c)-2*t.destTileBorder;if(h<1||d<1)throw new Error("Internal error in pica: target tile width/height is too small.");var p,f=[];for(a=0;a<t.toHeight;a+=d)for(r=0;r<t.toWidth;r+=h)(e=r-t.destTileBorder)<0&&(e=0),e+(s=r+h+t.destTileBorder-e)>=t.toWidth&&(s=t.toWidth-e),(n=a-t.destTileBorder)<0&&(n=0),n+(u=a+d+t.destTileBorder-n)>=t.toHeight&&(u=t.toHeight-n),p={toX:e,toY:n,toWidth:s,toHeight:u,toInnerX:r,toInnerY:a,toInnerWidth:h,toInnerHeight:d,offsetX:e/l-i(e/l),offsetY:n/c-i(n/c),scaleX:l,scaleY:c,x:i(e/l),y:i(n/c),width:o(s/l),height:o(u/c)},f.push(p);return f}},{}],12:[function(t,e,n){"use strict";function r(t){return Object.prototype.toString.call(t)}e.exports.isCanvas=function(t){var e=r(t);return"[object HTMLCanvasElement]"===e||"[object Canvas]"===e},e.exports.isImage=function(t){return"[object HTMLImageElement]"===r(t)},e.exports.limiter=function(t){var e=0,n=[];function r(){e<t&&n.length&&(e++,n.shift()())}return function(t){return new Promise(function(i,o){n.push(function(){t().then(function(t){i(t),e--,r()},function(t){o(t),e--,r()})}),r()})}},e.exports.cib_quality_name=function(t){switch(t){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},e.exports.cib_support=function(){return Promise.resolve().then(function(){if("undefined"==typeof createImageBitmap||"undefined"==typeof document)return!1;var t=document.createElement("canvas");return t.width=100,t.height=100,createImageBitmap(t,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(e){var n=10===e.width;return e.close(),t=null,n})}).catch(function(){return!1})}},{}],13:[function(t,e,n){"use strict";e.exports=function(){var e=t("./mathlib"),n=void 0;onmessage=function(t){var r=t.data.opts;n||(n=new e(t.data.features));var i=n.resizeAndUnsharp(r);postMessage({result:i},[i.buffer])}}},{"./mathlib":1}],14:[function(t,e,n){var r,i,o,a,s,u;function l(t,e,n,r,i,o){var a,s,u,l,c,h,d,p,f,g,y,m,v,_;for(f=0;f<o;f++){for(d=f,p=0,l=c=(a=t[h=f*i])*r[6],y=r[0],m=r[1],v=r[4],_=r[5],g=0;g<i;g++)u=(s=t[h])*y+a*m+l*v+c*_,c=l,a=s,n[p]=l=u,p++,h++;for(p--,d+=o*(i-1),l=c=(a=t[--h])*r[7],s=a,y=r[2],m=r[3],g=i-1;g>=0;g--)u=s*y+a*m+l*v+c*_,c=l,a=s,s=t[h],e[d]=n[p]+(l=u),h--,p--,d-=o}}e.exports=function(t,e,n,c){if(c){var h=new Uint16Array(t.length),d=new Float32Array(Math.max(e,n)),p=function(t){t<.5&&(t=.5);var e=Math.exp(.527076)/t,n=Math.exp(-e),l=Math.exp(-2*e),c=(1-n)*(1-n)/(1+2*e*n-l);return r=c,i=c*(e-1)*n,o=c*(e+1)*n,a=-c*l,s=2*n,u=-l,new Float32Array([r,i,o,a,s,u,(r+i)/(1-s-u),(o+a)/(1-s-u)])}(c);l(t,h,d,p,e,n),l(h,t,d,p,n,e)}}},{}],15:[function(t,e,n){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],16:[function(t,e,n){"use strict";var r=t("object-assign"),i=t("./lib/base64decode"),o=t("./lib/wa_detect"),a={js:!0,wasm:!0};function s(t){if(!(this instanceof s))return new s(t);var e=r({},a,t||{});if(this.options=e,this.__cache={},this.has_wasm=o(),this.__init_promise=null,this.__modules=e.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}s.prototype.use=function(t){return this.__modules[t.name]=t,this[t.name]=this.has_wasm&&this.options.wasm&&t.wasm_fn?t.wasm_fn:t.fn,this},s.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm)return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var t=this;return this.__init_promise=Promise.all(Object.keys(t.__modules).map(function(e){var n=t.__modules[e];return t.has_wasm&&t.options.wasm&&n.wasm_fn?t.__wasm[e]?null:WebAssembly.compile(t.__base64decode(n.wasm_src)).then(function(n){t.__wasm[e]=n}):null})).then(function(){return t}),this.__init_promise},s.prototype.__base64decode=i,s.prototype.__reallocate=function(t){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(t/65536)}),this.__memory;var e=this.__memory.buffer.byteLength;return e<t&&this.__memory.grow(Math.ceil((t-e)/65536)),this.__memory},s.prototype.__instance=function(t,e,n){if(e&&this.__reallocate(e),this.__wasm[t]||(this.__wasm[t]=new WebAssembly.Module(this.__base64decode(this.__modules[t].wasm_src))),!this.__cache[t]){var i={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[t]=new WebAssembly.Instance(this.__wasm[t],{env:r(i,n||{})})}return this.__cache[t]},s.prototype.__align=function(t,e){var n=t%(e=e||8);return t+(n?e-n:0)},e.exports=s},{"./lib/base64decode":17,"./lib/wa_detect":23,"object-assign":24}],17:[function(t,e,n){"use strict";e.exports=function(t){for(var e=t.replace(/[\r\n=]/g,""),n=e.length,r=new Uint8Array(3*n>>2),i=0,o=0,a=0;a<n;a++)a%4==0&&a&&(r[o++]=i>>16&255,r[o++]=i>>8&255,r[o++]=255&i),i=i<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(a));var s=n%4*6;return 0===s?(r[o++]=i>>16&255,r[o++]=i>>8&255,r[o++]=255&i):18===s?(r[o++]=i>>10&255,r[o++]=i>>2&255):12===s&&(r[o++]=i>>4&255),r}},{}],18:[function(t,e,n){"use strict";e.exports=function(t,e,n){for(var r,i,o,a=e*n,s=new Uint16Array(a),u=0;u<a;u++)o=t[4*u+2],s[u]=257*(((r=t[4*u])>=(i=t[4*u+1])&&r>=o?r:i>=o&&i>=r?i:o)+(r<=i&&r<=o?r:i<=o&&i<=r?i:o))>>1;return s}},{}],19:[function(t,e,n){"use strict";e.exports={name:"unsharp_mask",fn:t("./unsharp_mask"),wasm_fn:t("./unsharp_mask_wasm"),wasm_src:t("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":20,"./unsharp_mask_wasm":21,"./unsharp_mask_wasm_base64":22}],20:[function(t,e,n){"use strict";var r=t("glur/mono16"),i=t("./hsl_l16");e.exports=function(t,e,n,o,a,s){var u,l,c,h,d,p,f,g,y,m,v,_,b;if(!(0===o||a<.5)){a>2&&(a=2);var w=i(t,e,n),C=new Uint16Array(w);r(C,e,n,a);for(var E=o/100*4096+.5|0,S=257*s|0,k=e*n,A=0;A<k;A++)_=2*(w[A]-C[A]),Math.abs(_)>=S&&(c=t[2+(b=4*A)],p=257*((g=(u=t[b])>=(l=t[b+1])&&u>=c?u:l>=u&&l>=c?l:c)+(f=u<=l&&u<=c?u:l<=u&&l<=c?l:c))>>1,f===g?h=d=0:(d=p<=32767?4095*(g-f)/(g+f)|0:4095*(g-f)/(510-g-f)|0,h=u===g?65535*(l-c)/(6*(g-f))|0:l===g?21845+(65535*(c-u)/(6*(g-f))|0):43690+(65535*(u-l)/(6*(g-f))|0)),(p+=E*_+2048>>12)>65535?p=65535:p<0&&(p=0),0===d?u=l=c=p>>8:(y=2*p-(m=p<=32767?p*(4096+d)+2048>>12:p+((65535-p)*d+2048>>12))>>8,m>>=8,u=(v=h+21845&65535)>=43690?y:v>=32767?y+(6*(m-y)*(43690-v)+32768>>16):v>=10922?m:y+(6*(m-y)*v+32768>>16),l=(v=65535&h)>=43690?y:v>=32767?y+(6*(m-y)*(43690-v)+32768>>16):v>=10922?m:y+(6*(m-y)*v+32768>>16),c=(v=h-21845&65535)>=43690?y:v>=32767?y+(6*(m-y)*(43690-v)+32768>>16):v>=10922?m:y+(6*(m-y)*v+32768>>16)),t[b]=u,t[b+1]=l,t[b+2]=c)}}},{"./hsl_l16":18,"glur/mono16":14}],21:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i,o){if(!(0===r||i<.5)){i>2&&(i=2);var a=e*n,s=4*a,u=2*a,l=2*a,c=4*Math.max(e,n),h=s,d=h+u,p=d+l,f=p+l,g=f+c,y=this.__instance("unsharp_mask",s+u+2*l+c+32,{exp:Math.exp}),m=new Uint32Array(t.buffer);new Uint32Array(this.__memory.buffer).set(m);var v=y.exports.hsl_l16||y.exports._hsl_l16;v(0,h,e,n),(v=y.exports.blurMono16||y.exports._blurMono16)(h,d,p,f,g,e,n,i),(v=y.exports.unsharp||y.exports._unsharp)(0,0,h,d,e,n,r,o),m.set(new Uint32Array(this.__memory.buffer,0,a))}}},{}],22:[function(t,e,n){"use strict";e.exports="AGFzbQEAAAABMQZgAXwBfGACfX8AYAZ/f39/f38AYAh/f39/f39/fQBgBH9/f38AYAh/f39/f39/fwACGQIDZW52A2V4cAAAA2VudgZtZW1vcnkCAAEDBgUBAgMEBQQEAXAAAAdMBRZfX2J1aWxkX2dhdXNzaWFuX2NvZWZzAAEOX19nYXVzczE2X2xpbmUAAgpibHVyTW9ubzE2AAMHaHNsX2wxNgAEB3Vuc2hhcnAABQkBAAqJEAXZAQEGfAJAIAFE24a6Q4Ia+z8gALujIgOaEAAiBCAEoCIGtjgCECABIANEAAAAAAAAAMCiEAAiBbaMOAIUIAFEAAAAAAAA8D8gBKEiAiACoiAEIAMgA6CiRAAAAAAAAPA/oCAFoaMiArY4AgAgASAEIANEAAAAAAAA8L+gIAKioiIHtjgCBCABIAQgA0QAAAAAAADwP6AgAqKiIgO2OAIIIAEgBSACoiIEtow4AgwgASACIAegIAVEAAAAAAAA8D8gBqGgIgKjtjgCGCABIAMgBKEgAqO2OAIcCwu3AwMDfwR9CHwCQCADKgIUIQkgAyoCECEKIAMqAgwhCyADKgIIIQwCQCAEQX9qIgdBAEgiCA0AIAIgAC8BALgiDSADKgIYu6IiDiAJuyIQoiAOIAq7IhGiIA0gAyoCBLsiEqIgAyoCALsiEyANoqCgoCIPtjgCACACQQRqIQIgAEECaiEAIAdFDQAgBCEGA0AgAiAOIBCiIA8iDiARoiANIBKiIBMgAC8BALgiDaKgoKAiD7Y4AgAgAkEEaiECIABBAmohACAGQX9qIgZBAUoNAAsLAkAgCA0AIAEgByAFbEEBdGogAEF+ai8BACIIuCINIAu7IhGiIA0gDLsiEqKgIA0gAyoCHLuiIg4gCrsiE6KgIA4gCbsiFKKgIg8gAkF8aioCALugqzsBACAHRQ0AIAJBeGohAiAAQXxqIQBBACAFQQF0ayEHIAEgBSAEQQF0QXxqbGohBgNAIAghAyAALwEAIQggBiANIBGiIAO4Ig0gEqKgIA8iECAToqAgDiAUoqAiDyACKgIAu6CrOwEAIAYgB2ohBiAAQX5qIQAgAkF8aiECIBAhDiAEQX9qIgRBAUoNAAsLCwvfAgIDfwZ8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIgyaEAAiDSANoCIPtjgCECAEIAxEAAAAAAAAAMCiEAAiDraMOAIUIAREAAAAAAAA8D8gDaEiCyALoiANIAwgDKCiRAAAAAAAAPA/oCAOoaMiC7Y4AgAgBCANIAxEAAAAAAAA8L+gIAuioiIQtjgCBCAEIA0gDEQAAAAAAADwP6AgC6KiIgy2OAIIIAQgDiALoiINtow4AgwgBCALIBCgIA5EAAAAAAAA8D8gD6GgIgujtjgCGCAEIAwgDaEgC6O2OAIcIAYEQCAFQQF0IQogBiEJIAIhCANAIAAgCCADIAQgBSAGEAIgACAKaiEAIAhBAmohCCAJQX9qIgkNAAsLIAVFDQAgBkEBdCEIIAUhAANAIAIgASADIAQgBiAFEAIgAiAIaiECIAFBAmohASAAQX9qIgANAAsLC7wBAQV/IAMgAmwiAwRAQQAgA2shBgNAIAAoAgAiBEEIdiIHQf8BcSECAn8gBEH/AXEiAyAEQRB2IgRB/wFxIgVPBEAgAyIIIAMgAk8NARoLIAQgBCAHIAIgA0kbIAIgBUkbQf8BcQshCAJAIAMgAk0EQCADIAVNDQELIAQgByAEIAMgAk8bIAIgBUsbQf8BcSEDCyAAQQRqIQAgASADIAhqQYECbEEBdjsBACABQQJqIQEgBkEBaiIGDQALCwvTBgEKfwJAIAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6CqIQ0gBSAEbCILBEAgB0GBAmwhDgNAQQAgAi8BACADLwEAayIGQQF0IgdrIAcgBkEASBsgDk8EQCAAQQJqLQAAIQUCfyAALQAAIgYgAEEBai0AACIESSIJRQRAIAYiCCAGIAVPDQEaCyAFIAUgBCAEIAVJGyAGIARLGwshCAJ/IAYgBE0EQCAGIgogBiAFTQ0BGgsgBSAFIAQgBCAFSxsgCRsLIgogCGoiD0GBAmwiEEEBdiERQQAhDAJ/QQAiCSAIIApGDQAaIAggCmsiCUH/H2wgD0H+AyAIayAKayAQQYCABEkbbSEMIAYgCEYEQCAEIAVrQf//A2wgCUEGbG0MAQsgBSAGayAGIARrIAQgCEYiBhtB//8DbCAJQQZsbUHVqgFBqtUCIAYbagshCSARIAcgDWxBgBBqQQx1aiIGQQAgBkEAShsiBkH//wMgBkH//wNIGyEGAkACfwJAIAxB//8DcSIFBEAgBkH//wFKDQEgBUGAIGogBmxBgBBqQQx2DAILIAZBCHYiBiEFIAYhBAwCCyAFIAZB//8Dc2xBgBBqQQx2IAZqCyIFQQh2IQcgBkEBdCAFa0EIdiIGIQQCQCAJQdWqAWpB//8DcSIFQanVAksNACAFQf//AU8EQEGq1QIgBWsgByAGa2xBBmxBgIACakEQdiAGaiEEDAELIAchBCAFQanVAEsNACAFIAcgBmtsQQZsQYCAAmpBEHYgBmohBAsCfyAGIgUgCUH//wNxIghBqdUCSw0AGkGq1QIgCGsgByAGa2xBBmxBgIACakEQdiAGaiAIQf//AU8NABogByIFIAhBqdUASw0AGiAIIAcgBmtsQQZsQYCAAmpBEHYgBmoLIQUgCUGr1QJqQf//A3EiCEGp1QJLDQAgCEH//wFPBEBBqtUCIAhrIAcgBmtsQQZsQYCAAmpBEHYgBmohBgwBCyAIQanVAEsEQCAHIQYMAQsgCCAHIAZrbEEGbEGAgAJqQRB2IAZqIQYLIAEgBDoAACABQQFqIAU6AAAgAUECaiAGOgAACyADQQJqIQMgAkECaiECIABBBGohACABQQRqIQEgC0F/aiILDQALCwsL"},{}],23:[function(t,e,n){"use strict";var r;e.exports=function(){if(void 0!==r)return r;if(r=!1,"undefined"==typeof WebAssembly)return r;try{var t=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),e=new WebAssembly.Module(t);return 0!==new WebAssembly.Instance(e,{}).exports.test(4)&&(r=!0),r}catch(t){}return r}},{}],24:[function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},{}],25:[function(t,e,n){var r=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t,e){for(var n,s=Object.keys(o),u=0,l=s.length;u<l;u++){var c=o[d=s[u]].exports;if(c===t||c&&c.default===t){n=d;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var h={};for(u=0,l=s.length;u<l;u++){var d;h[d=s[u]]=d}i[n]=["function(require,module,exports){"+t+"(self); }",h]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),f={};f[n]=n,i[p]=["function(require,module,exports){var f = require("+a(n)+");(f.default ? f.default : f)(self);}",f];var g={};!function t(e){for(var n in g[e]=!0,i[e][1]){var r=i[e][1][n];g[r]||t(r)}}(p);var y="("+r+")({"+Object.keys(g).map(function(t){return a(t)+":["+i[t][0]+","+a(i[t][1])+"]"}).join(",")+"},{},["+a(p)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,v=new Blob([y],{type:"text/javascript"});if(e&&e.bare)return v;var _=m.createObjectURL(v),b=new Worker(_);return b.objectURL=_,b}},{}],"/":[function(t,e,n){"use strict";var r=t("object-assign"),i=t("webworkify"),o=t("./lib/mathlib"),a=t("./lib/pool"),s=t("./lib/utils"),u=t("./lib/worker"),l=t("./lib/stepper"),c=t("./lib/tiler"),h={},d=!1;try{"undefined"!=typeof navigator&&navigator.userAgent&&(d=navigator.userAgent.indexOf("Safari")>=0)}catch(t){}var p=1;"undefined"!=typeof navigator&&(p=Math.min(navigator.hardwareConcurrency||1,4));var f={tile:1024,concurrency:p,features:["js","wasm","ww"],idle:2e3},g={quality:3,alpha:!1,unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},y=void 0,m=void 0;function v(){return{value:i(u),destroy:function(){if(this.value.terminate(),"undefined"!=typeof window){var t=window.URL||window.webkitURL||window.mozURL||window.msURL;t&&t.revokeObjectURL&&this.value.objectURL&&t.revokeObjectURL(this.value.objectURL)}}}}function _(t){if(!(this instanceof _))return new _(t);this.options=r({},f,t||{});var e="lk_"+this.options.concurrency;this.__limit=h[e]||s.limiter(this.options.concurrency),h[e]||(h[e]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}_.prototype.init=function(){var e=this;if(this.__initPromise)return this.__initPromise;if(!1!==y&&!0!==y&&(y=!1,"undefined"!=typeof ImageData&&"undefined"!=typeof Uint8ClampedArray))try{new ImageData(new Uint8ClampedArray(400),10,10),y=!0}catch(t){}!1!==m&&!0!==m&&(m=!1,"undefined"!=typeof ImageBitmap&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?m=!0:this.debug("ImageBitmap does not support .close(), disabled")));var n=this.options.features.slice();if(n.indexOf("all")>=0&&(n=["cib","wasm","js","ww"]),this.__requested_features=n,this.__mathlib=new o(n),n.indexOf("ww")>=0&&"undefined"!=typeof window&&"Worker"in window)try{t("webworkify")(function(){}).terminate(),this.features.ww=!0;var i="wp_"+JSON.stringify(this.options);h[i]?this.__workersPool=h[i]:(this.__workersPool=new a(v,this.options.idle),h[i]=this.__workersPool)}catch(t){}var u,l=this.__mathlib.init().then(function(t){r(e.features,t.features)});return u=m?s.cib_support().then(function(t){e.features.cib&&n.indexOf("cib")<0?e.debug("createImageBitmap() resize supported, but disabled by config"):n.indexOf("cib")>=0&&(e.features.cib=t)}):Promise.resolve(!1),this.__initPromise=Promise.all([l,u]).then(function(){return e}),this.__initPromise},_.prototype.resize=function(t,e,n){var i=this;this.debug("Start resize...");var o=r({},g);isNaN(n)?n&&(o=r(o,n)):o=r(o,{quality:n}),o.toWidth=e.width,o.toHeight=e.height,o.width=t.naturalWidth||t.width,o.height=t.naturalHeight||t.height,o.unsharpRadius>2&&(o.unsharpRadius=2);var a=!1,u=null;o.cancelToken&&(u=o.cancelToken.then(function(t){throw a=!0,t},function(t){throw a=!0,t}));var h=Math.ceil(Math.max(3,2.5*o.unsharpRadius|0));return this.init().then(function(){if(a)return u;if(i.features.cib){var n=e.getContext("2d",{alpha:Boolean(o.alpha)});return i.debug("Resize via createImageBitmap()"),createImageBitmap(t,{resizeWidth:o.toWidth,resizeHeight:o.toHeight,resizeQuality:s.cib_quality_name(o.quality)}).then(function(t){if(a)return u;if(!o.unsharpAmount)return n.drawImage(t,0,0),t.close(),n=null,i.debug("Finished!"),e;i.debug("Unsharp result");var r=document.createElement("canvas");r.width=o.toWidth,r.height=o.toHeight;var s=r.getContext("2d",{alpha:Boolean(o.alpha)});s.drawImage(t,0,0),t.close();var l=s.getImageData(0,0,o.toWidth,o.toHeight);return i.__mathlib.unsharp(l.data,o.toWidth,o.toHeight,o.unsharpAmount,o.unsharpRadius,o.unsharpThreshold),n.putImageData(l,0,0),l=s=r=n=null,i.debug("Finished!"),e})}var p={};return function t(e,n,o,l){if(a)return u;var f=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),2!==n.length);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e.shift()),g=f[0],v=f[1],_=0===e.length;l=r({},l,{toWidth:g,toHeight:v,quality:_?l.quality:Math.min(1,l.quality)});var b=void 0;return _||((b=document.createElement("canvas")).width=g,b.height=v),function(t,e,n){var r=void 0,o=void 0,l=void 0;return Promise.resolve().then(function(){if(l=e.getContext("2d",{alpha:Boolean(n.alpha)}),s.isCanvas(t))return r=t.getContext("2d",{alpha:Boolean(n.alpha)}),null;if(s.isImage(t))return m?(i.debug("Decode image via createImageBitmap"),createImageBitmap(t).then(function(t){o=t})):null;throw new Error('".from" should be image or canvas')}).then(function(){if(a)return u;i.debug("Calculate tiles");var f=c({width:n.width,height:n.height,srcTileSize:i.options.tile,toWidth:n.toWidth,toHeight:n.toHeight,destTileBorder:h}).map(function(e){return function(e){return i.__limit(function(){if(a)return u;var c=void 0;if(s.isCanvas(t))i.debug("Get tile pixel data"),c=r.getImageData(e.x,e.y,e.width,e.height);else{i.debug("Draw tile imageBitmap/image to temporary canvas");var h=document.createElement("canvas");h.width=e.width,h.height=e.height;var f=h.getContext("2d",{alpha:Boolean(n.alpha)});f.globalCompositeOperation="copy",f.drawImage(o||t,e.x,e.y,e.width,e.height,0,0,e.width,e.height),i.debug("Get tile pixel data"),c=f.getImageData(0,0,e.width,e.height),f=h=null}var g={src:c.data,width:e.width,height:e.height,toWidth:e.toWidth,toHeight:e.toHeight,scaleX:e.scaleX,scaleY:e.scaleY,offsetX:e.offsetX,offsetY:e.offsetY,quality:n.quality,alpha:n.alpha,unsharpAmount:n.unsharpAmount,unsharpRadius:n.unsharpRadius,unsharpThreshold:n.unsharpThreshold};return i.debug("Invoke resize math"),Promise.resolve().then(function(){return function(t){return Promise.resolve().then(function(){return i.features.ww?new Promise(function(e,n){var r=i.__workersPool.acquire();u&&u.catch(function(t){return n(t)}),r.value.onmessage=function(t){r.release(),t.data.err?n(t.data.err):e(t.data.result)},r.value.postMessage({opts:t,features:i.__requested_features,preload:{wasm_nodule:i.__mathlib.__}},[t.src.buffer])}):i.__mathlib.resizeAndUnsharp(t,p)})}(g)}).then(function(t){if(a)return u;c=null;var n=void 0;if(i.debug("Convert raw rgba tile result to ImageData"),y)n=new ImageData(new Uint8ClampedArray(t),e.toWidth,e.toHeight);else if((n=l.createImageData(e.toWidth,e.toHeight)).data.set)n.data.set(t);else for(var r=n.data.length-1;r>=0;r--)n.data[r]=t[r];return i.debug("Draw tile"),d?l.putImageData(n,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth+1e-5,e.toInnerHeight+1e-5):l.putImageData(n,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth,e.toInnerHeight),null})})}(e)});function g(){o&&(o.close(),o=null)}return i.debug("Process tiles"),Promise.all(f).then(function(){return i.debug("Finished!"),g(),e},function(t){throw g(),t})})}(n,_?o:b,l).then(function(){return _?o:(l.width=g,l.height=v,t(e,b,o,l))})}(l(o.width,o.height,o.toWidth,o.toHeight,i.options.tile,h),t,e,o)})},_.prototype.resizeBuffer=function(t){var e=this,n=r({},g,t);return this.init().then(function(){return e.__mathlib.resizeAndUnsharp(n)})},_.prototype.toBlob=function(t,e,n){return e=e||"image/png",new Promise(function(r){if(t.toBlob)t.toBlob(function(t){return r(t)},e,n);else{for(var i=atob(t.toDataURL(e,n).split(",")[1]),o=i.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=i.charCodeAt(s);r(new Blob([a],{type:e}))}})},_.prototype.debug=function(){},e.exports=_},{"./lib/mathlib":1,"./lib/pool":9,"./lib/stepper":10,"./lib/tiler":11,"./lib/utils":12,"./lib/worker":13,"object-assign":24,webworkify:25}]},{},[])("/")},lcbw:function(t,e,n){"use strict";n.r(e),n("bZMm");var r=setTimeout;function i(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)}else(1===t._state?s:u)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void c(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,l(t)}catch(e){u(t,e)}}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function c(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return a(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},o.all=function(t){return new o(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){o(t,e)},n)}r[t]=a,0==--i&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)o(a,r[a])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();function d(t,e){return t(e={exports:{}},e.exports),e.exports}h.Promise||(h.Promise=o);var p=d(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),f=d(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),g=function(t){return"object"==typeof t?null!==t:"function"==typeof t},y=function(t){if(!g(t))throw TypeError(t+" is not an object!");return t},m=function(t){try{return!!t()}catch(t){return!0}},v=!m(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),_=p.document,b=g(_)&&g(_.createElement),w=function(t){return b?_.createElement(t):{}},C=!v&&!m(function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a}),E=function(t,e){if(!g(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!g(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},S=Object.defineProperty,k={f:v?Object.defineProperty:function(t,e,n){if(y(t),e=E(e,!0),y(n),C)try{return S(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},A=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},T=v?function(t,e,n){return k.f(t,e,A(1,n))}:function(t,e,n){return t[e]=n,t},I={}.hasOwnProperty,R=function(t,e){return I.call(t,e)},O=0,P=Math.random(),D=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++O+P).toString(36))},N=d(function(t){var e=D("src"),n=Function.toString,r=(""+n).split("toString");f.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,i,o){var a="function"==typeof i;a&&(R(i,"name")||T(i,"name",n)),t[n]!==i&&(a&&(R(i,e)||T(i,e,t[n]?""+t[n]:r.join(String(n)))),t===p?t[n]=i:o?t[n]?t[n]=i:T(t,n,i):(delete t[n],T(t,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),x=function(t,e,n){if(function(e){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},M=function(t,e,n){var r,i,o,a,s=t&M.F,u=t&M.G,l=t&M.P,c=t&M.B,h=u?p:t&M.S?p[e]||(p[e]={}):(p[e]||{}).prototype,d=u?f:f[e]||(f[e]={}),g=d.prototype||(d.prototype={});for(r in u&&(n=e),n)o=((i=!s&&h&&void 0!==h[r])?h:n)[r],a=c&&i?x(o,p):l&&"function"==typeof o?x(Function.call,o):o,h&&N(h,r,o,t&M.U),d[r]!=o&&T(d,r,a),l&&g[r]!=o&&(g[r]=o)};p.core=f,M.F=1,M.G=2,M.S=4,M.P=8,M.B=16,M.W=32,M.U=64,M.R=128;var L=M,F={}.toString,B=function(t){return F.call(t).slice(8,-1)},j=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==B(t)?t.split(""):Object(t)},U=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},V=function(t){return Object(U(t))},z=Math.ceil,q=Math.floor,H=function(t){return isNaN(t=+t)?0:(t>0?q:z)(t)},G=Math.min,K=function(t){return t>0?G(H(t),9007199254740991):0},W=Array.isArray||function(t){return"Array"==B(t)},Q=p["__core-js_shared__"]||(p["__core-js_shared__"]={}),$=function(t){return Q[t]||(Q[t]={})},Y=d(function(t){var e=$("wks"),n=p.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:D)("Symbol."+t))}).store=e}),X=Y("species"),J=function(t,e){return new(function(t){var e;return W(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!W(e.prototype)||(e=void 0),g(e)&&null===(e=e[X])&&(e=void 0)),void 0===e?Array:e}(t))(e)},Z=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,a=6==t,s=5==t||a,u=e||J;return function(e,l,c){for(var h,d,p=V(e),f=j(p),g=x(l,c,3),y=K(f.length),m=0,v=n?u(e,y):r?u(e,0):void 0;y>m;m++)if((s||m in f)&&(d=g(h=f[m],m,p),t))if(n)v[m]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return m;case 2:v.push(h)}else if(o)return!1;return a?-1:i||o?o:v}},tt=Y("unscopables"),et=Array.prototype;void 0==et[tt]&&T(et,tt,{});var nt=function(t){et[tt][t]=!0},rt=Z(5),it=!0;"find"in[]&&Array(1).find(function(){it=!1}),L(L.P+L.F*it,"Array",{find:function(t){return rt(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("find");var ot=Z(6),at=!0;"findIndex"in[]&&Array(1).findIndex(function(){at=!1}),L(L.P+L.F*at,"Array",{findIndex:function(t){return ot(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("findIndex");var st=function(t){return j(U(t))},ut=Math.max,lt=Math.min,ct=$("keys"),ht=function(t){return ct[t]||(ct[t]=D(t))},dt=function(t,e,n){for(var r=st(t),i=K(r.length),o=function(t,e){return(t=H(t))<0?ut(t+e,0):lt(t,e)}(n,i);i>o;o++)if(o in r&&r[o]===e)return o||0;return-1},pt=ht("IE_PROTO"),ft=function(t,e){var n,r=st(t),i=0,o=[];for(n in r)n!=pt&&R(r,n)&&o.push(n);for(;e.length>i;)R(r,n=e[i++])&&(~dt(o,n)||o.push(n));return o},gt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),yt=Object.keys||function(t){return ft(t,gt)},mt={f:Object.getOwnPropertySymbols},vt={f:{}.propertyIsEnumerable},_t=Object.assign,bt=!_t||m(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=_t({},t)[n]||Object.keys(_t({},e)).join("")!=r})?function(t,e){for(var n=V(t),r=arguments.length,i=1,o=mt.f,a=vt.f;r>i;)for(var s,u=j(arguments[i++]),l=o?yt(u).concat(o(u)):yt(u),c=l.length,h=0;c>h;)a.call(u,s=l[h++])&&(n[s]=u[s]);return n}:_t;L(L.S+L.F,"Object",{assign:bt});var wt=Y("match"),Ct=Y("match"),Et="".startsWith;L(L.P+L.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Ct]=!1,!"/./"[t](e)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var e=function(t,e,n){if(function(t){var e;return g(t)&&(void 0!==(e=t[wt])?!!e:"RegExp"==B(t))}(e))throw TypeError("String#startsWith doesn't accept regex!");return String(U(t))}(this,t),n=K(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Et?Et.call(e,r,n):e.slice(n,n+r.length)===r}}),L(L.P,"String",{repeat:function(t){var e=String(U(this)),n="",r=H(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}});var St=d(function(t){var e=D("meta"),n=k.f,r=0,i=Object.isExtensible||function(){return!0},o=!m(function(){return i(Object.preventExtensions({}))}),a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!g(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!R(t,e)){if(!i(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!R(t,e)){if(!i(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return o&&s.NEED&&i(t)&&!R(t,e)&&a(t),t}}}),kt=k.f,At=Y("toStringTag"),Tt=function(t,e,n){t&&!R(t=n?t:t.prototype,At)&&kt(t,At,{configurable:!0,value:e})},It={f:Y},Rt=k.f,Ot=function(t){var e=f.Symbol||(f.Symbol=p.Symbol||{});"_"==t.charAt(0)||t in e||Rt(e,t,{value:It.f(t)})},Pt=v?Object.defineProperties:function(t,e){y(t);for(var n,r=yt(e),i=r.length,o=0;i>o;)k.f(t,n=r[o++],e[n]);return t},Dt=p.document,Nt=Dt&&Dt.documentElement,xt=ht("IE_PROTO"),Mt=function(){},Lt=function(){var t,e=w("iframe"),n=gt.length;for(e.style.display="none",Nt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Lt=t.F;n--;)delete Lt.prototype[gt[n]];return Lt()},Ft=Object.create||function(t,e){var n;return null!==t?(Mt.prototype=y(t),n=new Mt,Mt.prototype=null,n[xt]=t):n=Lt(),void 0===e?n:Pt(n,e)},Bt=gt.concat("length","prototype"),jt={f:Object.getOwnPropertyNames||function(t){return ft(t,Bt)}},Ut=jt.f,Vt={}.toString,zt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],qt={f:function(t){return zt&&"[object Window]"==Vt.call(t)?function(t){try{return Ut(t)}catch(t){return zt.slice()}}(t):Ut(st(t))}},Ht=Object.getOwnPropertyDescriptor,Gt={f:v?Ht:function(t,e){if(t=st(t),e=E(e,!0),C)try{return Ht(t,e)}catch(t){}if(R(t,e))return A(!vt.f.call(t,e),t[e])}},Kt=St.KEY,Wt=Gt.f,Qt=k.f,$t=qt.f,Yt=p.Symbol,Xt=p.JSON,Jt=Xt&&Xt.stringify,Zt=Y("_hidden"),te=Y("toPrimitive"),ee={}.propertyIsEnumerable,ne=$("symbol-registry"),re=$("symbols"),ie=$("op-symbols"),oe=Object.prototype,ae="function"==typeof Yt,se=p.QObject,ue=!se||!se.prototype||!se.prototype.findChild,le=v&&m(function(){return 7!=Ft(Qt({},"a",{get:function(){return Qt(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Wt(oe,e);r&&delete oe[e],Qt(t,e,n),r&&t!==oe&&Qt(oe,e,r)}:Qt,ce=function(t){var e=re[t]=Ft(Yt.prototype);return e._k=t,e},he=ae&&"symbol"==typeof Yt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Yt},de=function(t,e,n){return t===oe&&de(ie,e,n),y(t),e=E(e,!0),y(n),R(re,e)?(n.enumerable?(R(t,Zt)&&t[Zt][e]&&(t[Zt][e]=!1),n=Ft(n,{enumerable:A(0,!1)})):(R(t,Zt)||Qt(t,Zt,A(1,{})),t[Zt][e]=!0),le(t,e,n)):Qt(t,e,n)},pe=function(t,e){y(t);for(var n,r=function(t){var e=yt(t),n=mt.f;if(n)for(var r,i=n(t),o=vt.f,a=0;i.length>a;)o.call(t,r=i[a++])&&e.push(r);return e}(e=st(e)),i=0,o=r.length;o>i;)de(t,n=r[i++],e[n]);return t},fe=function(t){var e=ee.call(this,t=E(t,!0));return!(this===oe&&R(re,t)&&!R(ie,t))&&(!(e||!R(this,t)||!R(re,t)||R(this,Zt)&&this[Zt][t])||e)},ge=function(t,e){if(t=st(t),e=E(e,!0),t!==oe||!R(re,e)||R(ie,e)){var n=Wt(t,e);return!n||!R(re,e)||R(t,Zt)&&t[Zt][e]||(n.enumerable=!0),n}},ye=function(t){for(var e,n=$t(st(t)),r=[],i=0;n.length>i;)R(re,e=n[i++])||e==Zt||e==Kt||r.push(e);return r},me=function(t){for(var e,n=t===oe,r=$t(n?ie:st(t)),i=[],o=0;r.length>o;)!R(re,e=r[o++])||n&&!R(oe,e)||i.push(re[e]);return i};ae||(N((Yt=function(){if(this instanceof Yt)throw TypeError("Symbol is not a constructor!");var t=D(arguments.length>0?arguments[0]:void 0),e=function(n){this===oe&&e.call(ie,n),R(this,Zt)&&R(this[Zt],t)&&(this[Zt][t]=!1),le(this,t,A(1,n))};return v&&ue&&le(oe,t,{configurable:!0,set:e}),ce(t)}).prototype,"toString",function(){return this._k}),Gt.f=ge,k.f=de,jt.f=qt.f=ye,vt.f=fe,mt.f=me,v&&N(oe,"propertyIsEnumerable",fe,!0),It.f=function(t){return ce(Y(t))}),L(L.G+L.W+L.F*!ae,{Symbol:Yt});for(var ve="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),_e=0;ve.length>_e;)Y(ve[_e++]);for(var be=yt(Y.store),we=0;be.length>we;)Ot(be[we++]);L(L.S+L.F*!ae,"Symbol",{for:function(t){return R(ne,t+="")?ne[t]:ne[t]=Yt(t)},keyFor:function(t){if(!he(t))throw TypeError(t+" is not a symbol!");for(var e in ne)if(ne[e]===t)return e},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),L(L.S+L.F*!ae,"Object",{create:function(t,e){return void 0===e?Ft(t):pe(Ft(t),e)},defineProperty:de,defineProperties:pe,getOwnPropertyDescriptor:ge,getOwnPropertyNames:ye,getOwnPropertySymbols:me}),Xt&&L(L.S+L.F*(!ae||m(function(){var t=Yt();return"[null]"!=Jt([t])||"{}"!=Jt({a:t})||"{}"!=Jt(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(g(e)||void 0!==t)&&!he(t))return W(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!he(e))return e}),r[1]=e,Jt.apply(Xt,r)}}),Yt.prototype[te]||T(Yt.prototype,te,Yt.prototype.valueOf),Tt(Yt,"Symbol"),Tt(Math,"Math",!0),Tt(p.JSON,"JSON",!0);var Ce=Y("toStringTag"),Ee="Arguments"==B(function(){return arguments}()),Se={};Se[Y("toStringTag")]="z",Se+""!="[object z]"&&N(Object.prototype,"toString",function(){return"[object "+function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ce))?n:Ee?B(e):"Object"==(r=B(e))&&"function"==typeof e.callee?"Arguments":r}(this)+"]"},!0),Ot("asyncIterator"),Ot("observable");var ke={},Ae={};T(Ae,Y("iterator"),function(){return this});var Te=function(t,e,n){t.prototype=Ft(Ae,{next:A(1,n)}),Tt(t,e+" Iterator")},Ie=ht("IE_PROTO"),Re=Object.prototype,Oe=Object.getPrototypeOf||function(t){return t=V(t),R(t,Ie)?t[Ie]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Re:null},Pe=Y("iterator"),De=!([].keys&&"next"in[].keys()),Ne=function(){return this},xe=function(t,e,n,r,i,o,a){Te(n,e,r);var s,u,l,c=function(t){if(!De&&t in f)return f[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",d="values"==i,p=!1,f=t.prototype,g=f[Pe]||f["@@iterator"]||i&&f[i],y=g||c(i),m=i?d?c("entries"):y:void 0,v="Array"==e&&f.entries||g;if(v&&(l=Oe(v.call(new t)))!==Object.prototype&&l.next&&(Tt(l,h,!0),"function"!=typeof l[Pe]&&T(l,Pe,Ne)),d&&g&&"values"!==g.name&&(p=!0,y=function(){return g.call(this)}),(De||p||!f[Pe])&&T(f,Pe,y),ke[e]=y,ke[h]=Ne,i)if(s={values:d?y:c("values"),keys:o?y:c("keys"),entries:m},a)for(u in s)u in f||N(f,u,s[u]);else L(L.P+L.F*(De||p),e,s);return s};xe(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=function(t,e){var n,r,i=String(U(t)),o=H(e),a=i.length;return o<0||o>=a?"":(n=i.charCodeAt(o))<55296||n>56319||o+1===a||(r=i.charCodeAt(o+1))<56320||r>57343?i.charAt(o):i.slice(o,o+2)}(e,n),this._i+=t.length,{value:t,done:!1})});var Me=function(t,e){return{value:e,done:!!t}},Le=xe(Array,"Array",function(t,e){this._t=st(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Me(1)):Me(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");ke.Arguments=ke.Array,nt("keys"),nt("values"),nt("entries");for(var Fe=Y("iterator"),Be=Y("toStringTag"),je=ke.Array,Ue={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Ve=yt(Ue),ze=0;ze<Ve.length;ze++){var qe,He=Ve[ze],Ge=Ue[He],Ke=p[He],We=Ke&&Ke.prototype;if(We&&(We[Fe]||T(We,Fe,je),We[Be]||T(We,Be,He),ke[He]=je,Ge))for(qe in Le)We[qe]||N(We,qe,Le[qe],!0)}It.f("iterator")},mAIw:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return l}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return f}),n.d(e,"__spread",function(){return g}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return m}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return _}),n.d(e,"__makeTemplateObject",function(){return b}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return C});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{!function(t){t.value instanceof y?Promise.resolve(t.value.v).then(u,l):c(o[0][2],t)}(i[t](e))}catch(t){c(o[0][3],t)}}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e})}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):p(t)}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},"oOl+":function(t){t.exports=[{region:"Adrar",country:"dz"},{region:"Annaba",country:"dz"},{region:"El Bayadh",country:"dz"},{region:"El Oued",country:"dz"},{region:"El Tarf",country:"dz"},{region:"Illizi",country:"dz"},{region:"Oran",country:"dz"},{region:"Oum el Bouaghi",country:"dz"},{region:"Wilaya d' Alger",country:"dz"},{region:"Wilaya de Ain Defla",country:"dz"},{region:"Wilaya de Ain Temouchent",country:"dz"},{region:"Wilaya de Batna",country:"dz"},{region:"Wilaya de Bechar",country:"dz"},{region:"Wilaya de Bejaia",country:"dz"},{region:"Wilaya de Biskra",country:"dz"},{region:"Wilaya de Blida",country:"dz"},{region:"Wilaya de Bordj Bou Arreridj",country:"dz"},{region:"Wilaya de Bouira",country:"dz"},{region:"Wilaya de Boumerdes",country:"dz"},{region:"Wilaya de Chlef",country:"dz"},{region:"Wilaya de Constantine",country:"dz"},{region:"Wilaya de Djelfa",country:"dz"},{region:"Wilaya de Ghardaia",country:"dz"},{region:"Wilaya de Guelma",country:"dz"},{region:"Wilaya de Jijel",country:"dz"},{region:"Wilaya de Khenchela",country:"dz"},{region:"Wilaya de Laghouat",country:"dz"},{region:"Wilaya de M'Sila",country:"dz"},{region:"Wilaya de Mascara",country:"dz"},{region:"Wilaya de Medea",country:"dz"},{region:"Wilaya de Mila",country:"dz"},{region:"Wilaya de Mostaganem",country:"dz"},{region:"Wilaya de Naama",country:"dz"},{region:"Wilaya de Ouargla",country:"dz"},{region:"Wilaya de Relizane",country:"dz"},{region:"Wilaya de Saida",country:"dz"},{region:"Wilaya de Setif",country:"dz"},{region:"Wilaya de Sidi Bel Abbes",country:"dz"},{region:"Wilaya de Skikda",country:"dz"},{region:"Wilaya de Souk Ahras",country:"dz"},{region:"Wilaya de Tamanrasset",country:"dz"},{region:"Wilaya de Tebessa",country:"dz"},{region:"Wilaya de Tiaret",country:"dz"},{region:"Wilaya de Tindouf",country:"dz"},{region:"Wilaya de Tipaza",country:"dz"},{region:"Wilaya de Tissemsilt",country:"dz"},{region:"Wilaya de Tizi Ouzou",country:"dz"},{region:"Wilaya de Tlemcen",country:"dz"},{region:"Qarku i Beratit",country:"al"},{region:"Qarku i Dibres",country:"al"},{region:"Qarku i Durresit",country:"al"},{region:"Qarku i Elbasanit",country:"al"},{region:"Qarku i Fierit",country:"al"},{region:"Qarku i Gjirokastres",country:"al"},{region:"Qarku i Korces",country:"al"},{region:"Qarku i Kukesit",country:"al"},{region:"Qarku i Lezhes",country:"al"},{region:"Qarku i Shkodres",country:"al"},{region:"Qarku i Tiranes",country:"al"},{region:"Qarku i Vlores",country:"al"},{region:"Andorra la Vella",country:"ad"},{region:"Canillo",country:"ad"},{region:"Encamp",country:"ad"},{region:"Escaldes-Engordany",country:"ad"},{region:"La Massana",country:"ad"},{region:"Ordino",country:"ad"},{region:"Sant Julia de Loria",country:"ad"},{region:"Badakhshan",country:"af"},{region:"Badghis",country:"af"},{region:"Balkh",country:"af"},{region:"Daykundi Province",country:"af"},{region:"Farah",country:"af"},{region:"Faryab Province",country:"af"},{region:"Helmand",country:"af"},{region:"Herat",country:"af"},{region:"Kandahar",country:"af"},{region:"Kunduz",country:"af"},{region:"Nangarhar",country:"af"},{region:"Panjshir",country:"af"},{region:"Parwan",country:"af"},{region:"Samangan",country:"af"},{region:"Sar-e Pul",country:"af"},{region:"Uruzgan",country:"af"},{region:"Velayat-e Khowst",country:"af"},{region:"Velayat-e Nurestan",country:"af"},{region:"Wardak",country:"af"},{region:"Wilayat-e Baghlan",country:"af"},{region:"Wilayat-e Bamyan",country:"af"},{region:"Wilayat-e Ghazni",country:"af"},{region:"Wilayat-e Ghor",country:"af"},{region:"Wilayat-e Jowzjan",country:"af"},{region:"Wilayat-e Kabul",country:"af"},{region:"Wilayat-e Kapisa",country:"af"},{region:"Wilayat-e Kunar",country:"af"},{region:"Wilayat-e Laghman",country:"af"},{region:"Wilayat-e Logar",country:"af"},{region:"Wilayat-e Nimroz",country:"af"},{region:"Wilayat-e Paktika",country:"af"},{region:"Wilayat-e Paktiya",country:"af"},{region:"Wilayat-e Takhar",country:"af"},{region:"Wilayat-e Zabul",country:"af"},{region:"Bengo Province",country:"ao"},{region:"Benguela",country:"ao"},{region:"Cabinda",country:"ao"},{region:"Cuanza Norte Province",country:"ao"},{region:"Cunene Province",country:"ao"},{region:"Huambo",country:"ao"},{region:"Huila Province",country:"ao"},{region:"Kuando Kubango",country:"ao"},{region:"Kwanza Sul",country:"ao"},{region:"Luanda Province",country:"ao"},{region:"Lunda Norte Province",country:"ao"},{region:"Lunda Sul",country:"ao"},{region:"Malanje Province",country:"ao"},{region:"Moxico",country:"ao"},{region:"Namibe Province",country:"ao"},{region:"Provincia do Bie",country:"ao"},{region:"Provincia do Uige",country:"ao"},{region:"Zaire",country:"ao"},{region:"Blowing Point",country:"ai"},{region:"East End",country:"ai"},{region:"George Hill",country:"ai"},{region:"Island Harbour",country:"ai"},{region:"North Hill",country:"ai"},{region:"North Side",country:"ai"},{region:"Sandy Ground",country:"ai"},{region:"Sandy Hill",country:"ai"},{region:"South Hill",country:"ai"},{region:"Stoney Ground",country:"ai"},{region:"The Farrington",country:"ai"},{region:"The Quarter",country:"ai"},{region:"The Valley",country:"ai"},{region:"West End",country:"ai"},{region:"Catamarca Province",country:"ar"},{region:"Chaco Province",country:"ar"},{region:"Chubut Province",country:"ar"},{region:"Ciudad Autonoma de Buenos Aires",country:"ar"},{region:"Cordoba Province",country:"ar"},{region:"Corrientes Province",country:"ar"},{region:"Entre Rios Province",country:"ar"},{region:"Formosa Province",country:"ar"},{region:"Jujuy Province",country:"ar"},{region:"La Pampa Province",country:"ar"},{region:"La Rioja Province",country:"ar"},{region:"Mendoza Province",country:"ar"},{region:"Misiones Province",country:"ar"},{region:"Neuquen Province",country:"ar"},{region:"Provincia de Buenos Aires",country:"ar"},{region:"Rio Negro Province",country:"ar"},{region:"Salta Province",country:"ar"},{region:"San Juan Province",country:"ar"},{region:"San Luis Province",country:"ar"},{region:"Santa Cruz Province",country:"ar"},{region:"Santa Fe Province",country:"ar"},{region:"Santiago del Estero Province",country:"ar"},{region:"Tierra del Fuego Province",country:"ar"},{region:"Tucuman Province",country:"ar"},{region:"Barbuda",country:"ag"},{region:"Parish of Saint George",country:"ag"},{region:"Parish of Saint John",country:"ag"},{region:"Parish of Saint Mary",country:"ag"},{region:"Parish of Saint Paul",country:"ag"},{region:"Parish of Saint Peter",country:"ag"},{region:"Parish of Saint Philip",country:"ag"},{region:"Redonda",country:"ag"},{region:"Aragatsotni Marz",country:"am"},{region:"Ararati Marz",country:"am"},{region:"Armaviri Marz",country:"am"},{region:"Geghark'unik'i Marz",country:"am"},{region:"Kotayk'i Marz",country:"am"},{region:"Lorru Marz",country:"am"},{region:"Shiraki Marz",country:"am"},{region:"Syunik'i Marz",country:"am"},{region:"Tavushi Marz",country:"am"},{region:"Vayots' Dzor",country:"am"},{region:"Yerevan",country:"am"},{region:"Australian Capital Territory",country:"au"},{region:"Northern Territory",country:"au"},{region:"State of New South Wales",country:"au"},{region:"State of Queensland",country:"au"},{region:"State of South Australia",country:"au"},{region:"State of Tasmania",country:"au"},{region:"State of Victoria",country:"au"},{region:"State of Western Australia",country:"au"},{region:"Absheron Rayon",country:"az"},{region:"Aghdam Rayon",country:"az"},{region:"Aghdash Rayon",country:"az"},{region:"Aghjabadi Rayon",country:"az"},{region:"Aghstafa Rayon",country:"az"},{region:"Aghsu Rayon",country:"az"},{region:"Astara District",country:"az"},{region:"Baku City",country:"az"},{region:"Balakan Rayon",country:"az"},{region:"Barda Rayon",country:"az"},{region:"Beylagan Rayon",country:"az"},{region:"Bilasuvar Rayon",country:"az"},{region:"Dashkasan Rayon",country:"az"},{region:"Fizuli Rayon",country:"az"},{region:"Gadabay Rayon",country:"az"},{region:"Ganja City",country:"az"},{region:"Gobustan Rayon",country:"az"},{region:"Goranboy Rayon",country:"az"},{region:"Goychay Rayon",country:"az"},{region:"Goygol Rayon",country:"az"},{region:"Hajigabul Rayon",country:"az"},{region:"Imishli Rayon",country:"az"},{region:"Ismayilli Rayon",country:"az"},{region:"Jabrayil District",country:"az"},{region:"Jalilabad",country:"az"},{region:"Kalbajar District",country:"az"},{region:"Khachmaz Rayon",country:"az"},{region:"Khizi Rayon",country:"az"},{region:"Khojavend District",country:"az"},{region:"Kurdamir Rayon",country:"az"},{region:"Lacin Rayonu",country:"az"},{region:"Lankaran Rayon",country:"az"},{region:"Lankaran Sahari",country:"az"},{region:"Lerik Rayon",country:"az"},{region:"Masally District",country:"az"},{region:"Mingacevir City",country:"az"},{region:"Naftalan City",country:"az"},{region:"Nakhchivan",country:"az"},{region:"Nakhchivan Autonomous Republic",country:"az"},{region:"Neftchala Rayon",country:"az"},{region:"Oghuz Rayon",country:"az"},{region:"Qabala Rayon",country:"az"},{region:"Qakh Rayon",country:"az"},{region:"Qazakh Rayon",country:"az"},{region:"Quba Rayon",country:"az"},{region:"Qubadli Rayon",country:"az"},{region:"Qusar Rayon",country:"az"},{region:"Saatly Rayon",country:"az"},{region:"Sabirabad Rayon",country:"az"},{region:"Salyan Rayon",country:"az"},{region:"Samukh Rayon",country:"az"},{region:"Shabran Rayon",country:"az"},{region:"Shaki city",country:"az"},{region:"Shaki Rayon",country:"az"},{region:"Shamakhi Rayon",country:"az"},{region:"Shamkir Rayon",country:"az"},{region:"Shirvan",country:"az"},{region:"Shusha",country:"az"},{region:"Siazan Rayon",country:"az"},{region:"Sumqayit City",country:"az"},{region:"Susa Rayonu",country:"az"},{region:"Tartar Rayon",country:"az"},{region:"Tovuz Rayon",country:"az"},{region:"Ujar Rayon",country:"az"},{region:"Xankandi Sahari",country:"az"},{region:"Xocali Rayonu",country:"az"},{region:"Yardymli Rayon",country:"az"},{region:"Yevlakh City",country:"az"},{region:"Yevlakh Rayon",country:"az"},{region:"Zangilan Rayon",country:"az"},{region:"Zaqatala Rayon",country:"az"},{region:"Zardab Rayon",country:"az"},{region:"Burgenland",country:"at"},{region:"Kaernten",country:"at"},{region:"Niederoesterreich",country:"at"},{region:"Oberoesterreich",country:"at"},{region:"Salzburg",country:"at"},{region:"Steiermark",country:"at"},{region:"Tirol",country:"at"},{region:"Vorarlberg",country:"at"},{region:"Wien",country:"at"},{region:"Capital Governorate",country:"bh"},{region:"Muharraq Governorate",country:"bh"},{region:"Northern Governorate",country:"bh"},{region:"Southern Governorate",country:"bh"},{region:"Acklins Island District",country:"bs"},{region:"Berry Islands District",country:"bs"},{region:"Bimini District",country:"bs"},{region:"Black Point District",country:"bs"},{region:"Cat Island",country:"bs"},{region:"Central Abaco District",country:"bs"},{region:"Central Andros District",country:"bs"},{region:"Central Eleuthera District",country:"bs"},{region:"City of Freeport District",country:"bs"},{region:"Crooked Island and Long Cay District",country:"bs"},{region:"East Grand Bahama District",country:"bs"},{region:"Exuma District",country:"bs"},{region:"Grand Cay District",country:"bs"},{region:"Harbour Island District",country:"bs"},{region:"Hope Town District",country:"bs"},{region:"Inagua",country:"bs"},{region:"Long Island",country:"bs"},{region:"Mangrove Cay",country:"bs"},{region:"Mayaguana District",country:"bs"},{region:"Moore's Island District",country:"bs"},{region:"New Providence District",country:"bs"},{region:"North Abaco District",country:"bs"},{region:"North Andros District",country:"bs"},{region:"North Eleuthera District",country:"bs"},{region:"Ragged Island District",country:"bs"},{region:"Rum Cay",country:"bs"},{region:"San Salvador District",country:"bs"},{region:"South Abaco District",country:"bs"},{region:"South Andros",country:"bs"},{region:"South Eleuthera",country:"bs"},{region:"Spanish Wells District",country:"bs"},{region:"West Grand Bahama District",country:"bs"},{region:"Barisal Division",country:"bd"},{region:"Chittagong",country:"bd"},{region:"Dhaka Division",country:"bd"},{region:"Khulna Division",country:"bd"},{region:"Mymensingh Division",country:"bd"},{region:"Rajshahi Division",country:"bd"},{region:"Rangpur Division",country:"bd"},{region:"Sylhet Division",country:"bd"},{region:"Christ Church",country:"bb"},{region:"Saint Andrew",country:"bb"},{region:"Saint George",country:"bb"},{region:"Saint James",country:"bb"},{region:"Saint John",country:"bb"},{region:"Saint Joseph",country:"bb"},{region:"Saint Lucy",country:"bb"},{region:"Saint Michael",country:"bb"},{region:"Saint Peter",country:"bb"},{region:"Saint Philip",country:"bb"},{region:"Saint Thomas",country:"bb"},{region:"Bruxelles-Capitale",country:"be"},{region:"Flanders",country:"be"},{region:"Wallonia",country:"be"},{region:"Brest Oblast",country:"by"},{region:"Gomel Oblast",country:"by"},{region:"Grodno Oblast",country:"by"},{region:"Horad Minsk",country:"by"},{region:"Minsk Oblast",country:"by"},{region:"Mogilyov Oblast",country:"by"},{region:"Vitebsk Oblast",country:"by"},{region:"Belize District",country:"bz"},{region:"Cayo District",country:"bz"},{region:"Corozal District",country:"bz"},{region:"Orange Walk District",country:"bz"},{region:"Stann Creek District",country:"bz"},{region:"Toledo District",country:"bz"},{region:"Alibori",country:"bj"},{region:"Atakora Department",country:"bj"},{region:"Atlantique Department",country:"bj"},{region:"Borgou Department",country:"bj"},{region:"Collines Department",country:"bj"},{region:"Departement de l'Oueme",country:"bj"},{region:"Donga",country:"bj"},{region:"Kouffo Department",country:"bj"},{region:"Littoral",country:"bj"},{region:"Mono",country:"bj"},{region:"Plateau Department",country:"bj"},{region:"Zou Department",country:"bj"},{region:"Departamento de Chuquisaca",country:"bo"},{region:"Departamento de Cochabamba",country:"bo"},{region:"Departamento de La Paz",country:"bo"},{region:"Departamento de Oruro",country:"bo"},{region:"Departamento de Pando",country:"bo"},{region:"Departamento de Potosi",country:"bo"},{region:"Departamento de Santa Cruz",country:"bo"},{region:"Departamento de Tarija",country:"bo"},{region:"El Beni",country:"bo"},{region:"Bumthang Dzongkhag",country:"bt"},{region:"Chhukha Dzongkhag",country:"bt"},{region:"Dagana Dzongkhag",country:"bt"},{region:"Gasa",country:"bt"},{region:"Haa Dzongkhag",country:"bt"},{region:"Lhuentse Dzongkhag",country:"bt"},{region:"Mongar Dzongkhag",country:"bt"},{region:"Paro Dzongkhag",country:"bt"},{region:"Pemagatshel Dzongkhag",country:"bt"},{region:"Punakha Dzongkhag",country:"bt"},{region:"Samdrup Jongkhar Dzongkhag",country:"bt"},{region:"Samtse Dzongkhag",country:"bt"},{region:"Sarpang Dzongkhag",country:"bt"},{region:"Thimphu Dzongkhag",country:"bt"},{region:"Trashi Yangste",country:"bt"},{region:"Trashigang Dzongkhag",country:"bt"},{region:"Trongsa Dzongkhag",country:"bt"},{region:"Tsirang Dzongkhag",country:"bt"},{region:"Wangdue Phodrang Dzongkhag",country:"bt"},{region:"Zhemgang Dzongkhag",country:"bt"},{region:"Central District",country:"bw"},{region:"Ghanzi District",country:"bw"},{region:"Kgalagadi District",country:"bw"},{region:"Kgatleng District",country:"bw"},{region:"Kweneng District",country:"bw"},{region:"North East District",country:"bw"},{region:"North West District",country:"bw"},{region:"South East District",country:"bw"},{region:"Southern District",country:"bw"},{region:"Devonshire Parish",country:"bm"},{region:"Hamilton",country:"bm"},{region:"Paget Parish",country:"bm"},{region:"Pembroke Parish",country:"bm"},{region:"Saint George",country:"bm"},{region:"Saint George's Parish",country:"bm"},{region:"Sandys Parish",country:"bm"},{region:"Smith's Parish",country:"bm"},{region:"Southampton Parish",country:"bm"},{region:"Warwick Parish",country:"bm"},{region:"Acre",country:"br"},{region:"Alagoas",country:"br"},{region:"Amapa",country:"br"},{region:"Amazonas",country:"br"},{region:"Bahia",country:"br"},{region:"Ceara",country:"br"},{region:"Espirito Santo",country:"br"},{region:"Federal District",country:"br"},{region:"Goias",country:"br"},{region:"Maranhao",country:"br"},{region:"Mato Grosso",country:"br"},{region:"Mato Grosso do Sul",country:"br"},{region:"Minas Gerais",country:"br"},{region:"Para",country:"br"},{region:"Paraiba",country:"br"},{region:"Parana",country:"br"},{region:"Pernambuco",country:"br"},{region:"Piaui",country:"br"},{region:"Rio de Janeiro",country:"br"},{region:"Rio Grande do Norte",country:"br"},{region:"Rio Grande do Sul",country:"br"},{region:"Rondonia",country:"br"},{region:"Roraima",country:"br"},{region:"Santa Catarina",country:"br"},{region:"Sao Paulo",country:"br"},{region:"Sergipe",country:"br"},{region:"Tocantins",country:"br"},{region:"Belait District",country:"bn"},{region:"Brunei and Muara District",country:"bn"},{region:"Temburong District",country:"bn"},{region:"Tutong District",country:"bn"},{region:"Brcko",country:"ba"},{region:"Federation of Bosnia and Herzegovina",country:"ba"},{region:"Republika Srpska",country:"ba"},{region:"Blagoevgrad",country:"bg"},{region:"Burgas",country:"bg"},{region:"Gabrovo",country:"bg"},{region:"Haskovo",country:"bg"},{region:"Lovech",country:"bg"},{region:"Oblast Dobrich",country:"bg"},{region:"Oblast Kardzhali",country:"bg"},{region:"Oblast Kyustendil",country:"bg"},{region:"Oblast Montana",country:"bg"},{region:"Oblast Pleven",country:"bg"},{region:"Oblast Razgrad",country:"bg"},{region:"Oblast Ruse",country:"bg"},{region:"Oblast Shumen",country:"bg"},{region:"Oblast Silistra",country:"bg"},{region:"Oblast Sliven",country:"bg"},{region:"Oblast Smolyan",country:"bg"},{region:"Oblast Stara Zagora",country:"bg"},{region:"Oblast Targovishte",country:"bg"},{region:"Oblast Veliko Tarnovo",country:"bg"},{region:"Oblast Vidin",country:"bg"},{region:"Oblast Vratsa",country:"bg"},{region:"Oblast Yambol",country:"bg"},{region:"Pazardzhik",country:"bg"},{region:"Pernik",country:"bg"},{region:"Plovdiv",country:"bg"},{region:"Sofia",country:"bg"},{region:"Sofia-Grad",country:"bg"},{region:"Varna",country:"bg"},{region:"Boucle du Mouhoun Region",country:"bf"},{region:"Cascades Region",country:"bf"},{region:"Centre",country:"bf"},{region:"Centre-Est",country:"bf"},{region:"Centre-Nord",country:"bf"},{region:"Centre-Ouest",country:"bf"},{region:"Centre-Sud",country:"bf"},{region:"Est",country:"bf"},{region:"High-Basins Region",country:"bf"},{region:"Nord",country:"bf"},{region:"Plateau-Central",country:"bf"},{region:"Sahel",country:"bf"},{region:"Southwest Region",country:"bf"},{region:"Adamaoua Region",country:"cm"},{region:"Centre Region",country:"cm"},{region:"East Region",country:"cm"},{region:"Far North Region",country:"cm"},{region:"Littoral Region",country:"cm"},{region:"North Region",country:"cm"},{region:"North-West Region",country:"cm"},{region:"South Region",country:"cm"},{region:"South-West Region",country:"cm"},{region:"West Region",country:"cm"},{region:"Alberta",country:"ca"},{region:"British Columbia",country:"ca"},{region:"Manitoba",country:"ca"},{region:"New Brunswick/Nouveau-Brunswick",country:"ca"},{region:"Newfoundland and Labrador",country:"ca"},{region:"Northwest Territories",country:"ca"},{region:"Nova Scotia",country:"ca"},{region:"Nunavut",country:"ca"},{region:"Ontario",country:"ca"},{region:"Prince Edward Island",country:"ca"},{region:"Quebec",country:"ca"},{region:"Saskatchewan",country:"ca"},{region:"Yukon",country:"ca"},{region:"Bubanza Province",country:"bi"},{region:"Bujumbura Mairie Province",country:"bi"},{region:"Bujumbura Rural Province",country:"bi"},{region:"Bururi Province",country:"bi"},{region:"Cankuzo Province",country:"bi"},{region:"Cibitoke Province",country:"bi"},{region:"Gitega Province",country:"bi"},{region:"Karuzi Province",country:"bi"},{region:"Kayanza Province",country:"bi"},{region:"Kirundo Province",country:"bi"},{region:"Makamba Province",country:"bi"},{region:"Muramvya Province",country:"bi"},{region:"Muyinga Province",country:"bi"},{region:"Ngozi Province",country:"bi"},{region:"Province de Mwaro",country:"bi"},{region:"Rumonge Province",country:"bi"},{region:"Rutana Province",country:"bi"},{region:"Ruyigi Province",country:"bi"},{region:"Barh el Gazel",country:"td"},{region:"Batha Region",country:"td"},{region:"Borkou Region",country:"td"},{region:"Chari-Baguirmi Region",country:"td"},{region:"Ennedi-Est",country:"td"},{region:"Ennedi-Ouest",country:"td"},{region:"Guera Region",country:"td"},{region:"Hadjer-Lamis",country:"td"},{region:"Kanem Region",country:"td"},{region:"Lac Region",country:"td"},{region:"Logone Occidental Region",country:"td"},{region:"Logone Oriental Region",country:"td"},{region:"Mandoul",country:"td"},{region:"Mayo-Kebbi East Region",country:"td"},{region:"Mayo-Kebbi West Region",country:"td"},{region:"Moyen-Chari Region",country:"td"},{region:"Ouaddai Region",country:"td"},{region:"Region de la Ville de N'Djamena",country:"td"},{region:"Salamat Region",country:"td"},{region:"Sila",country:"td"},{region:"Tandjile Region",country:"td"},{region:"Tibesti Region",country:"td"},{region:"Wadi Fira Region",country:"td"},{region:"Bodden Town",country:"ky"},{region:"East End",country:"ky"},{region:"George Town",country:"ky"},{region:"North Side",country:"ky"},{region:"Sister Island",country:"ky"},{region:"West Bay",country:"ky"},{region:"Concelho da Boa Vista",country:"cv"},{region:"Concelho da Brava",country:"cv"},{region:"Concelho da Praia",country:"cv"},{region:"Concelho da Ribeira Brava",country:"cv"},{region:"Concelho da Ribeira Grande",country:"cv"},{region:"Concelho de Ribeira Grande de Santiago",country:"cv"},{region:"Concelho de Santa Catarina",country:"cv"},{region:"Concelho de Santa Catarina do Fogo",country:"cv"},{region:"Concelho de Santa Cruz",country:"cv"},{region:"Concelho de Sao Domingos",country:"cv"},{region:"Concelho de Sao Miguel",country:"cv"},{region:"Concelho de Sao Salvador do Mundo",country:"cv"},{region:"Concelho de Sao Vicente",country:"cv"},{region:"Concelho do Maio",country:"cv"},{region:"Concelho do Paul",country:"cv"},{region:"Concelho do Porto Novo",country:"cv"},{region:"Concelho do Sao Filipe",country:"cv"},{region:"Concelho do Tarrafal",country:"cv"},{region:"Concelho do Tarrafal de Sao Nicolau",country:"cv"},{region:"Concelho dos Mosteiros",country:"cv"},{region:"Sal Municipality",country:"cv"},{region:"Sao Lourenco dos Orgaos",country:"cv"},{region:"Banteay Meanchey",country:"kh"},{region:"Battambang",country:"kh"},{region:"Kampong Cham",country:"kh"},{region:"Kampong Chhnang",country:"kh"},{region:"Kampong Speu",country:"kh"},{region:"Kampong Thom",country:"kh"},{region:"Kampot",country:"kh"},{region:"Kandal",country:"kh"},{region:"Kep",country:"kh"},{region:"Koh Kong",country:"kh"},{region:"Kratie",country:"kh"},{region:"Mondolkiri",country:"kh"},{region:"Otar Meanchey",country:"kh"},{region:"Pailin",country:"kh"},{region:"Phnom Penh",country:"kh"},{region:"Preah Vihear",country:"kh"},{region:"Prey Veng",country:"kh"},{region:"Pursat",country:"kh"},{region:"Ratanakiri",country:"kh"},{region:"Siem Reap",country:"kh"},{region:"Sihanoukville",country:"kh"},{region:"Stung Treng",country:"kh"},{region:"Svay Rieng",country:"kh"},{region:"Takeo",country:"kh"},{region:"Tboung Khmum",country:"kh"},{region:"Bamingui-Bangoran",country:"cf"},{region:"Basse-Kotto",country:"cf"},{region:"Commune de Bangui",country:"cf"},{region:"Haut-Mbomou",country:"cf"},{region:"Haute-Kotto",country:"cf"},{region:"Lobaye",country:"cf"},{region:"Mambere-Kadei",country:"cf"},{region:"Mbomou",country:"cf"},{region:"Ombella-Mpoko",country:"cf"},{region:"Ouaka",country:"cf"},{region:"Ouham",country:"cf"},{region:"Prefecture de l'Ouham-Pende",country:"cf"},{region:"Prefecture de la Kemo",country:"cf"},{region:"Prefecture de la Nana-Grebizi",country:"cf"},{region:"Prefecture de la Nana-Mambere",country:"cf"},{region:"Prefecture de la Sangha-Mbaere",country:"cf"},{region:"Vakaga",country:"cf"},{region:"Antofagasta",country:"cl"},{region:"Atacama",country:"cl"},{region:"Aysen",country:"cl"},{region:"Coquimbo",country:"cl"},{region:"Los Lagos",country:"cl"},{region:"Maule",country:"cl"},{region:"Region de Arica y Parinacota",country:"cl"},{region:"Region de la Araucania",country:"cl"},{region:"Region de Los Rios",country:"cl"},{region:"Region de Magallanes y de la Antartica Chilena",country:"cl"},{region:"Region de Tarapaca",country:"cl"},{region:"Region de Valparaiso",country:"cl"},{region:"Region del Biobio",country:"cl"},{region:"Region del Libertador General Bernardo O'Higgins",country:"cl"},{region:"Region Metropolitana de Santiago",country:"cl"},{region:"Anhui Sheng",country:"cn"},{region:"Beijing Shi",country:"cn"},{region:"Chongqing Shi",country:"cn"},{region:"Fujian Sheng",country:"cn"},{region:"Gansu Sheng",country:"cn"},{region:"Guangdong Sheng",country:"cn"},{region:"Guangxi Zhuangzu Zizhiqu",country:"cn"},{region:"Guizhou Sheng",country:"cn"},{region:"Hainan Sheng",country:"cn"},{region:"Hebei Sheng",country:"cn"},{region:"Heilongjiang Sheng",country:"cn"},{region:"Henan Sheng",country:"cn"},{region:"Hubei Sheng",country:"cn"},{region:"Hunan Sheng",country:"cn"},{region:"Inner Mongolia Autonomous Region",country:"cn"},{region:"Jiangsu Sheng",country:"cn"},{region:"Jiangxi Sheng",country:"cn"},{region:"Jilin Sheng",country:"cn"},{region:"Liaoning Sheng",country:"cn"},{region:"Ningxia Huizu Zizhiqu",country:"cn"},{region:"Qinghai Sheng",country:"cn"},{region:"Shaanxi",country:"cn"},{region:"Shandong Sheng",country:"cn"},{region:"Shanghai Shi",country:"cn"},{region:"Shanxi Sheng",country:"cn"},{region:"Sichuan Sheng",country:"cn"},{region:"Tianjin Shi",country:"cn"},{region:"Tibet Autonomous Region",country:"cn"},{region:"Xinjiang Uygur Zizhiqu",country:"cn"},{region:"Yunnan Sheng",country:"cn"},{region:"Zhejiang Sheng",country:"cn"},{region:"Amazonas",country:"co"},{region:"Departamento de Antioquia",country:"co"},{region:"Departamento de Arauca",country:"co"},{region:"Departamento de Bolivar",country:"co"},{region:"Departamento de Boyaca",country:"co"},{region:"Departamento de Caldas",country:"co"},{region:"Departamento de Casanare",country:"co"},{region:"Departamento de Cordoba",country:"co"},{region:"Departamento de Cundinamarca",country:"co"},{region:"Departamento de La Guajira",country:"co"},{region:"Departamento de Narino",country:"co"},{region:"Departamento de Norte de Santander",country:"co"},{region:"Departamento de Risaralda",country:"co"},{region:"Departamento de Santander",country:"co"},{region:"Departamento de Sucre",country:"co"},{region:"Departamento de Tolima",country:"co"},{region:"Departamento del Atlantico",country:"co"},{region:"Departamento del Caqueta",country:"co"},{region:"Departamento del Cauca",country:"co"},{region:"Departamento del Cesar",country:"co"},{region:"Departamento del Choco",country:"co"},{region:"Departamento del Guainia",country:"co"},{region:"Departamento del Guaviare",country:"co"},{region:"Departamento del Huila",country:"co"},{region:"Departamento del Magdalena",country:"co"},{region:"Departamento del Meta",country:"co"},{region:"Departamento del Putumayo",country:"co"},{region:"Departamento del Valle del Cauca",country:"co"},{region:"Departamento del Vaupes",country:"co"},{region:"Departamento del Vichada",country:"co"},{region:"Distrito Capital de Bogota",country:"co"},{region:"Providencia y Santa Catalina, Departamento de Archipielago de San Andres",country:"co"},{region:"Quindio Department",country:"co"},{region:"Grande Comore",country:"km"},{region:"Moheli",country:"km"},{region:"Ndzuwani",country:"km"},{region:"Commune de Brazzaville",country:"cg"},{region:"Cuvette",country:"cg"},{region:"Cuvette-Ouest",country:"cg"},{region:"Lekoumou",country:"cg"},{region:"Likouala",country:"cg"},{region:"Plateaux",country:"cg"},{region:"Pointe-Noire",country:"cg"},{region:"Pool",country:"cg"},{region:"Region de la Bouenza",country:"cg"},{region:"Region du Kouilou",country:"cg"},{region:"Region du Niari",country:"cg"},{region:"Sangha",country:"cg"},{region:"Aitutaki",country:"ck"},{region:"Atiu",country:"ck"},{region:"Ma'uke",country:"ck"},{region:"Mangaia",country:"ck"},{region:"Manihiki",country:"ck"},{region:"Mitiaro",country:"ck"},{region:"Palmerston",country:"ck"},{region:"Penrhyn",country:"ck"},{region:"Pukapuka",country:"ck"},{region:"Rakahanga",country:"ck"},{region:"Rarotonga",country:"ck"},{region:"Provincia de Alajuela",country:"cr"},{region:"Provincia de Cartago",country:"cr"},{region:"Provincia de Guanacaste",country:"cr"},{region:"Provincia de Heredia",country:"cr"},{region:"Provincia de Limon",country:"cr"},{region:"Provincia de Puntarenas",country:"cr"},{region:"Provincia de San Jose",country:"cr"},{region:"Bas Uele",country:"cd"},{region:"Haut Uele",country:"cd"},{region:"Haut-Lomani",country:"cd"},{region:"Ituri",country:"cd"},{region:"Kasai District",country:"cd"},{region:"Kasai-Central",country:"cd"},{region:"Kinshasa City",country:"cd"},{region:"Kwango",country:"cd"},{region:"Kwilu",country:"cd"},{region:"Lomami",country:"cd"},{region:"Lualaba",country:"cd"},{region:"Mai Ndombe",country:"cd"},{region:"Mongala",country:"cd"},{region:"Province de l'Equateur",country:"cd"},{region:"Province du Haut-Katanga",country:"cd"},{region:"Province du Kasai Oriental",country:"cd"},{region:"Province du Kongo Central",country:"cd"},{region:"Province du Maniema",country:"cd"},{region:"Province du Nord-Kivu",country:"cd"},{region:"Province du Nord-Ubangi",country:"cd"},{region:"Province du Sud-Ubangi",country:"cd"},{region:"Sankuru",country:"cd"},{region:"South Kivu Province",country:"cd"},{region:"Tanganika",country:"cd"},{region:"Tshopo",country:"cd"},{region:"Tshuapa",country:"cd"},{region:"Eparchia Ammochostou",country:"cy"},{region:"Eparchia Keryneias",country:"cy"},{region:"Eparchia Larnakas",country:"cy"},{region:"Eparchia Lefkosias",country:"cy"},{region:"Eparchia Lemesou",country:"cy"},{region:"Eparchia Pafou",country:"cy"},{region:"Artemisa",country:"cu"},{region:"La Habana",country:"cu"},{region:"Las Tunas",country:"cu"},{region:"Municipio Especial Isla de la Juventud",country:"cu"},{region:"Provincia de Camagueey",country:"cu"},{region:"Provincia de Ciego de Avila",country:"cu"},{region:"Provincia de Cienfuegos",country:"cu"},{region:"Provincia de Guantanamo",country:"cu"},{region:"Provincia de Holguin",country:"cu"},{region:"Provincia de Matanzas",country:"cu"},{region:"Provincia de Pinar del Rio",country:"cu"},{region:"Provincia de Sancti Spiritus",country:"cu"},{region:"Provincia de Santiago de Cuba",country:"cu"},{region:"Provincia de Villa Clara",country:"cu"},{region:"Provincia Granma",country:"cu"},{region:"Provincia Mayabeque",country:"cu"},{region:"Abidjan",country:"ci"},{region:"Bas-Sassandra",country:"ci"},{region:"Comoe",country:"ci"},{region:"Denguele",country:"ci"},{region:"Goh-Djiboua",country:"ci"},{region:"Lacs",country:"ci"},{region:"Lagunes",country:"ci"},{region:"Montagnes",country:"ci"},{region:"Sassandra-Marahoue",country:"ci"},{region:"Savanes",country:"ci"},{region:"Vallee du Bandama",country:"ci"},{region:"Woroba",country:"ci"},{region:"Yamoussoukro Autonomous District",country:"ci"},{region:"Zanzan",country:"ci"},{region:"Ali Sabieh Region",country:"dj"},{region:"Arta Region",country:"dj"},{region:"Dikhil",country:"dj"},{region:"Djibouti Region",country:"dj"},{region:"Obock",country:"dj"},{region:"Tadjourah",country:"dj"},{region:"Saint Andrew",country:"dm"},{region:"Saint David",country:"dm"},{region:"Saint George",country:"dm"},{region:"Saint John",country:"dm"},{region:"Saint Joseph",country:"dm"},{region:"Saint Luke",country:"dm"},{region:"Saint Mark",country:"dm"},{region:"Saint Patrick",country:"dm"},{region:"Saint Paul",country:"dm"},{region:"Saint Peter",country:"dm"},{region:"North Denmark Region",country:"dk"},{region:"Region Hovedstaden",country:"dk"},{region:"Region Midtjylland",country:"dk"},{region:"Region Sjaelland",country:"dk"},{region:"Region Syddanmark",country:"dk"},{region:"Bjelovarsko-Bilogorska Zupanija",country:"hr"},{region:"Brodsko-Posavska Zupanija",country:"hr"},{region:"Dubrovacko-Neretvanska Zupanija",country:"hr"},{region:"Grad Zagreb",country:"hr"},{region:"Istarska Zupanija",country:"hr"},{region:"Karlovacka Zupanija",country:"hr"},{region:"Koprivnicko-Krizevacka Zupanija",country:"hr"},{region:"Krapinsko-Zagorska Zupanija",country:"hr"},{region:"Licko-Senjska Zupanija",country:"hr"},{region:"Megimurska Zupanija",country:"hr"},{region:"Osjecko-Baranjska Zupanija",country:"hr"},{region:"Pozesko-Slavonska Zupanija",country:"hr"},{region:"Primorsko-Goranska Zupanija",country:"hr"},{region:"Sibensko-Kninska Zupanija",country:"hr"},{region:"Sisacko-Moslavacka Zupanija",country:"hr"},{region:"Splitsko-Dalmatinska Zupanija",country:"hr"},{region:"Varazdinska Zupanija",country:"hr"},{region:"Viroviticko-Podravska Zupanija",country:"hr"},{region:"Vukovarsko-Srijemska Zupanija",country:"hr"},{region:"Zadarska Zupanija",country:"hr"},{region:"Zagreb County",country:"hr"},{region:"Hlavni mesto Praha",country:"cz"},{region:"Jihocesky kraj",country:"cz"},{region:"Jihomoravsky kraj",country:"cz"},{region:"Karlovarsky kraj",country:"cz"},{region:"Kraj Vysocina",country:"cz"},{region:"Kralovehradecky kraj",country:"cz"},{region:"Liberecky kraj",country:"cz"},{region:"Moravskoslezsky kraj",country:"cz"},{region:"Olomoucky kraj",country:"cz"},{region:"Pardubicky kraj",country:"cz"},{region:"Plzensky kraj",country:"cz"},{region:"Stredocesky kraj",country:"cz"},{region:"Ustecky kraj",country:"cz"},{region:"Zlinsky kraj",country:"cz"},{region:"Distrito Nacional",country:"do"},{region:"Provincia de Azua",country:"do"},{region:"Provincia de Baoruco",country:"do"},{region:"Provincia de Barahona",country:"do"},{region:"Provincia de Dajabon",country:"do"},{region:"Provincia de El Seibo",country:"do"},{region:"Provincia de Elias Pina",country:"do"},{region:"Provincia de Hato Mayor",country:"do"},{region:"Provincia de Hermanas Mirabal",country:"do"},{region:"Provincia de Independencia",country:"do"},{region:"Provincia de La Altagracia",country:"do"},{region:"Provincia de La Romana",country:"do"},{region:"Provincia de La Vega",country:"do"},{region:"Provincia de Monsenor Nouel",country:"do"},{region:"Provincia de Monte Cristi",country:"do"},{region:"Provincia de Monte Plata",country:"do"},{region:"Provincia de Pedernales",country:"do"},{region:"Provincia de Peravia",country:"do"},{region:"Provincia de Puerto Plata",country:"do"},{region:"Provincia de San Cristobal",country:"do"},{region:"Provincia de San Jose de Ocoa",country:"do"},{region:"Provincia de San Juan",country:"do"},{region:"Provincia de San Pedro de Macoris",country:"do"},{region:"Provincia de Santiago",country:"do"},{region:"Provincia de Santiago Rodriguez",country:"do"},{region:"Provincia de Santo Domingo",country:"do"},{region:"Provincia de Valverde",country:"do"},{region:"Provincia Duarte",country:"do"},{region:"Provincia Espaillat",country:"do"},{region:"Provincia Maria Trinidad Sanchez",country:"do"},{region:"Provincia Sanchez Ramirez",country:"do"},{region:"Samana Province",country:"do"},{region:"Provincia de Bolivar",country:"ec"},{region:"Provincia de Cotopaxi",country:"ec"},{region:"Provincia de El Oro",country:"ec"},{region:"Provincia de Esmeraldas",country:"ec"},{region:"Provincia de Francisco de Orellana",country:"ec"},{region:"Provincia de Galapagos",country:"ec"},{region:"Provincia de Imbabura",country:"ec"},{region:"Provincia de Loja",country:"ec"},{region:"Provincia de Los Rios",country:"ec"},{region:"Provincia de Manabi",country:"ec"},{region:"Provincia de Morona-Santiago",country:"ec"},{region:"Provincia de Napo",country:"ec"},{region:"Provincia de Pichincha",country:"ec"},{region:"Provincia de Santa Elena",country:"ec"},{region:"Provincia de Santo Domingo de los Tsachilas",country:"ec"},{region:"Provincia de Sucumbios",country:"ec"},{region:"Provincia de Zamora-Chinchipe",country:"ec"},{region:"Provincia del Azuay",country:"ec"},{region:"Provincia del Canar",country:"ec"},{region:"Provincia del Carchi",country:"ec"},{region:"Provincia del Chimborazo",country:"ec"},{region:"Provincia del Guayas",country:"ec"},{region:"Provincia del Pastaza",country:"ec"},{region:"Provincia del Tungurahua",country:"ec"},{region:"Provincia de Annobon",country:"gq"},{region:"Provincia de Bioko Norte",country:"gq"},{region:"Provincia de Bioko Sur",country:"gq"},{region:"Provincia de Centro Sur",country:"gq"},{region:"Provincia de Kie-Ntem",country:"gq"},{region:"Provincia de Litoral",country:"gq"},{region:"Provincia de Wele-Nzas",country:"gq"},{region:"Departamento de Ahuachapan",country:"sv"},{region:"Departamento de Cabanas",country:"sv"},{region:"Departamento de Chalatenango",country:"sv"},{region:"Departamento de Cuscatlan",country:"sv"},{region:"Departamento de La Libertad",country:"sv"},{region:"Departamento de La Paz",country:"sv"},{region:"Departamento de La Union",country:"sv"},{region:"Departamento de Morazan",country:"sv"},{region:"Departamento de San Miguel",country:"sv"},{region:"Departamento de San Salvador",country:"sv"},{region:"Departamento de San Vicente",country:"sv"},{region:"Departamento de Santa Ana",country:"sv"},{region:"Departamento de Sonsonate",country:"sv"},{region:"Departamento de Usulutan",country:"sv"},{region:"Anseba Region",country:"er"},{region:"Debub Region",country:"er"},{region:"Gash-Barka Region",country:"er"},{region:"Maekel Region",country:"er"},{region:"Northern Red Sea Region",country:"er"},{region:"Southern Red Sea Region",country:"er"},{region:"State of Chuuk",country:"fm"},{region:"State of Kosrae",country:"fm"},{region:"State of Pohnpei",country:"fm"},{region:"State of Yap",country:"fm"},{region:"Adis Abeba Astedader",country:"et"},{region:"Afar Region",country:"et"},{region:"Amhara Region",country:"et"},{region:"Benishangul-Gumuz Region",country:"et"},{region:"Dire Dawa Region",country:"et"},{region:"Gambela Region",country:"et"},{region:"Harari Region",country:"et"},{region:"Oromiya Region",country:"et"},{region:"Somali Region",country:"et"},{region:"Southern Nations, Nationalities, and People's Region",country:"et"},{region:"Tigray Region",country:"et"},{region:"Eysturoyar sysla",country:"fo"},{region:"Nordoyar sysla",country:"fo"},{region:"Sandoyar Sysla",country:"fo"},{region:"Streymoyar Sysla",country:"fo"},{region:"Suduroyar sysla",country:"fo"},{region:"Vaga Sysla",country:"fo"},{region:"Harjumaa",country:"ee"},{region:"Hiiumaa",country:"ee"},{region:"Ida-Virumaa",country:"ee"},{region:"Jarvamaa",country:"ee"},{region:"Jogevamaa",country:"ee"},{region:"Laane-Virumaa",country:"ee"},{region:"Laeaenemaa",country:"ee"},{region:"Paernumaa",country:"ee"},{region:"Polvamaa",country:"ee"},{region:"Raplamaa",country:"ee"},{region:"Saaremaa",country:"ee"},{region:"Tartumaa",country:"ee"},{region:"Valgamaa",country:"ee"},{region:"Viljandimaa",country:"ee"},{region:"Vorumaa",country:"ee"},{region:"Central Division",country:"fj"},{region:"Eastern Division",country:"fj"},{region:"Northern Division",country:"fj"},{region:"Rotuma",country:"fj"},{region:"Western Division",country:"fj"},{region:"Etela-Pohjanmaa",country:"fi"},{region:"Etelae-Karjala",country:"fi"},{region:"Kainuu",country:"fi"},{region:"Kanta-Haeme",country:"fi"},{region:"Keski-Pohjanmaa",country:"fi"},{region:"Keski-Suomi",country:"fi"},{region:"Kymenlaakso",country:"fi"},{region:"Lapland",country:"fi"},{region:"Paijanne-Tavastland",country:"fi"},{region:"Pirkanmaa",country:"fi"},{region:"Pohjanmaa",country:"fi"},{region:"Pohjois-Karjala",country:"fi"},{region:"Pohjois-Pohjanmaa",country:"fi"},{region:"Pohjois-Savo",country:"fi"},{region:"Satakunta",country:"fi"},{region:"Southern Savonia",country:"fi"},{region:"Uusimaa",country:"fi"},{region:"Varsinais-Suomi",country:"fi"},{region:"Auvergne-Rhone-Alpes",country:"fr"},{region:"Bourgogne-Franche-Comte",country:"fr"},{region:"Bretagne",country:"fr"},{region:"Centre-Val de Loire",country:"fr"},{region:"Corse",country:"fr"},{region:"Grand-Est",country:"fr"},{region:"Hauts-de-France",country:"fr"},{region:"Ile-de-France",country:"fr"},{region:"Normandy",country:"fr"},{region:"Nouvelle-Aquitaine",country:"fr"},{region:"Occitanie",country:"fr"},{region:"Pays de la Loire",country:"fr"},{region:"Provence-Alpes-Cote d'Azur",country:"fr"},{region:"Guyane",country:"gf"},{region:"Iles Australes",country:"pf"},{region:"Iles du Vent",country:"pf"},{region:"Iles Marquises",country:"pf"},{region:"Iles Sous-le-Vent",country:"pf"},{region:"Iles Tuamotu-Gambier",country:"pf"},{region:"Abkhazia",country:"ge"},{region:"Ajaria",country:"ge"},{region:"Guria",country:"ge"},{region:"Imereti",country:"ge"},{region:"K'alak'i T'bilisi",country:"ge"},{region:"Kakheti",country:"ge"},{region:"Kvemo Kartli",country:"ge"},{region:"Mtskheta-Mtianeti",country:"ge"},{region:"Racha-Lechkhumi and Kvemo Svaneti",country:"ge"},{region:"Samegrelo-Zemo Svanetis Mkhare",country:"ge"},{region:"Samtskhe-Javakheti",country:"ge"},{region:"Shida Kartli",country:"ge"},{region:"Archipel des Crozet",country:"tf"},{region:"Archipel des Kerguelen",country:"tf"},{region:"Iles Eparses de l'ocean Indien",country:"tf"},{region:"Iles Saint-Paul et Nouvelle-Amsterdam",country:"tf"},{region:"La Terre-Adelie",country:"tf"},{region:"Estuaire",country:"ga"},{region:"Province de l'Ogooue-Ivindo",country:"ga"},{region:"Province de l'Ogooue-Lolo",country:"ga"},{region:"Province de l'Ogooue-Maritime",country:"ga"},{region:"Province de la Ngounie",country:"ga"},{region:"Province de la Nyanga",country:"ga"},{region:"Province du Haut-Ogooue",country:"ga"},{region:"Province du Moyen-Ogooue",country:"ga"},{region:"Province du Woleu-Ntem",country:"ga"},{region:"Baden-Wuerttemberg Region",country:"de"},{region:"Bavaria",country:"de"},{region:"Brandenburg",country:"de"},{region:"Bremen",country:"de"},{region:"Free and Hanseatic City of Hamburg",country:"de"},{region:"Hessen",country:"de"},{region:"Land Berlin",country:"de"},{region:"Lower Saxony",country:"de"},{region:"Mecklenburg-Western Pomerania",country:"de"},{region:"Nordrhein-Westfalen",country:"de"},{region:"Rheinland-Pfalz",country:"de"},{region:"Saarland",country:"de"},{region:"Saxony",country:"de"},{region:"Saxony-Anhalt",country:"de"},{region:"Schleswig-Holstein",country:"de"},{region:"Thuringia",country:"de"},{region:"Banjul",country:"gm"},{region:"Central River",country:"gm"},{region:"Lower River Division",country:"gm"},{region:"North Bank",country:"gm"},{region:"Upper River",country:"gm"},{region:"West Coast",country:"gm"},{region:"England",country:"gb"},{region:"Northern Ireland",country:"gb"},{region:"Scotland",country:"gb"},{region:"Wales",country:"gb"},{region:"Ashanti Region",country:"gh"},{region:"Brong-Ahafo Region",country:"gh"},{region:"Central Region",country:"gh"},{region:"Eastern Region",country:"gh"},{region:"Greater Accra Region",country:"gh"},{region:"Northern Region",country:"gh"},{region:"Upper East Region",country:"gh"},{region:"Upper West Region",country:"gh"},{region:"Volta Region",country:"gh"},{region:"Western Region",country:"gh"},{region:"Carriacou and Petite Martinique",country:"gd"},{region:"Saint Andrew",country:"gd"},{region:"Saint David",country:"gd"},{region:"Saint George",country:"gd"},{region:"Saint John",country:"gd"},{region:"Saint Mark",country:"gd"},{region:"Saint Patrick",country:"gd"},{region:"Kujalleq",country:"gl"},{region:"Qaasuitsup",country:"gl"},{region:"Qeqqata",country:"gl"},{region:"Sermersooq",country:"gl"},{region:"Attica",country:"gr"},{region:"Central Greece",country:"gr"},{region:"Central Macedonia",country:"gr"},{region:"Crete",country:"gr"},{region:"Eastern Macedonia and Thrace",country:"gr"},{region:"Epirus",country:"gr"},{region:"Ionian Islands",country:"gr"},{region:"Mount Athos",country:"gr"},{region:"North Aegean",country:"gr"},{region:"Peloponnese",country:"gr"},{region:"South Aegean",country:"gr"},{region:"Thessaly",country:"gr"},{region:"Western Greece",country:"gr"},{region:"Western Macedonia",country:"gr"},{region:"Departamento de Alta Verapaz",country:"gt"},{region:"Departamento de Baja Verapaz",country:"gt"},{region:"Departamento de Chimaltenango",country:"gt"},{region:"Departamento de Chiquimula",country:"gt"},{region:"Departamento de El Progreso",country:"gt"},{region:"Departamento de Escuintla",country:"gt"},{region:"Departamento de Guatemala",country:"gt"},{region:"Departamento de Huehuetenango",country:"gt"},{region:"Departamento de Izabal",country:"gt"},{region:"Departamento de Jalapa",country:"gt"},{region:"Departamento de Jutiapa",country:"gt"},{region:"Departamento de Quetzaltenango",country:"gt"},{region:"Departamento de Retalhuleu",country:"gt"},{region:"Departamento de Sacatepequez",country:"gt"},{region:"Departamento de San Marcos",country:"gt"},{region:"Departamento de Santa Rosa",country:"gt"},{region:"Departamento de Solola",country:"gt"},{region:"Departamento de Suchitepequez",country:"gt"},{region:"Departamento de Totonicapan",country:"gt"},{region:"Departamento de Zacapa",country:"gt"},{region:"Departamento del Peten",country:"gt"},{region:"Departamento del Quiche",country:"gt"},{region:"Guadeloupe",country:"gp"},{region:"Boke Region",country:"gn"},{region:"Conakry Region",country:"gn"},{region:"Faranah Region",country:"gn"},{region:"Kankan Region",country:"gn"},{region:"Kindia Region",country:"gn"},{region:"Labe Region",country:"gn"},{region:"Mamou Region",country:"gn"},{region:"Nzerekore Region",country:"gn"},{region:"Bafata",country:"gw"},{region:"Biombo",country:"gw"},{region:"Bissau Region",country:"gw"},{region:"Bolama",country:"gw"},{region:"Cacheu Region",country:"gw"},{region:"Gabu",country:"gw"},{region:"Oio Region",country:"gw"},{region:"Quinara",country:"gw"},{region:"Tombali",country:"gw"},{region:"Centre",country:"ht"},{region:"Departement de l'Artibonite",country:"ht"},{region:"Departement de l'Ouest",country:"ht"},{region:"Departement de Nippes",country:"ht"},{region:"Departement du Nord-Est",country:"ht"},{region:"Grandans",country:"ht"},{region:"Nord",country:"ht"},{region:"Nord-Ouest",country:"ht"},{region:"Sud",country:"ht"},{region:"Sud-Est",country:"ht"},{region:"Departamento de Atlantida",country:"hn"},{region:"Departamento de Choluteca",country:"hn"},{region:"Departamento de Colon",country:"hn"},{region:"Departamento de Comayagua",country:"hn"},{region:"Departamento de Copan",country:"hn"},{region:"Departamento de Cortes",country:"hn"},{region:"Departamento de El Paraiso",country:"hn"},{region:"Departamento de Francisco Morazan",country:"hn"},{region:"Departamento de Gracias a Dios",country:"hn"},{region:"Departamento de Intibuca",country:"hn"},{region:"Departamento de Islas de la Bahia",country:"hn"},{region:"Departamento de La Paz",country:"hn"},{region:"Departamento de Lempira",country:"hn"},{region:"Departamento de Ocotepeque",country:"hn"},{region:"Departamento de Olancho",country:"hn"},{region:"Departamento de Santa Barbara",country:"hn"},{region:"Departamento de Valle",country:"hn"},{region:"Departamento de Yoro",country:"hn"},{region:"Barima-Waini Region",country:"gy"},{region:"Cuyuni-Mazaruni Region",country:"gy"},{region:"Demerara-Mahaica Region",country:"gy"},{region:"East Berbice-Corentyne Region",country:"gy"},{region:"Essequibo Islands-West Demerara Region",country:"gy"},{region:"Mahaica-Berbice Region",country:"gy"},{region:"Pomeroon-Supenaam Region",country:"gy"},{region:"Potaro-Siparuni Region",country:"gy"},{region:"Upper Demerara-Berbice Region",country:"gy"},{region:"Upper Takutu-Upper Essequibo Region",country:"gy"},{region:"Bacs-Kiskun county",country:"hu"},{region:"Baranya county",country:"hu"},{region:"Bekes County",country:"hu"},{region:"Borsod-Abauj Zemplen county",country:"hu"},{region:"Budapest",country:"hu"},{region:"Csongrad megye",country:"hu"},{region:"Fejer megye",country:"hu"},{region:"Gyor-Moson-Sopron megye",country:"hu"},{region:"Hajdu-Bihar",country:"hu"},{region:"Heves megye",country:"hu"},{region:"Jasz-Nagykun-Szolnok",country:"hu"},{region:"Komarom-Esztergom",country:"hu"},{region:"Nograd megye",country:"hu"},{region:"Pest megye",country:"hu"},{region:"Somogy megye",country:"hu"},{region:"Szabolcs-Szatmar-Bereg",country:"hu"},{region:"Tolna megye",country:"hu"},{region:"Vas megye",country:"hu"},{region:"Veszprem megye",country:"hu"},{region:"Zala megye",country:"hu"},{region:"As Suways",country:"eg"},{region:"Beheira Governorate",country:"eg"},{region:"Cairo Governorate",country:"eg"},{region:"Damietta Governorate",country:"eg"},{region:"Ismailia Governorate",country:"eg"},{region:"Kafr ash Shaykh",country:"eg"},{region:"Muhafazat ad Daqahliyah",country:"eg"},{region:"Muhafazat al Fayyum",country:"eg"},{region:"Muhafazat al Gharbiyah",country:"eg"},{region:"Muhafazat al Iskandariyah",country:"eg"},{region:"Muhafazat al Jizah",country:"eg"},{region:"Muhafazat al Minufiyah",country:"eg"},{region:"Muhafazat al Minya",country:"eg"},{region:"Muhafazat al Qalyubiyah",country:"eg"},{region:"Muhafazat al Uqsur",country:"eg"},{region:"Muhafazat al Wadi al Jadid",country:"eg"},{region:"Muhafazat ash Sharqiyah",country:"eg"},{region:"Muhafazat Aswan",country:"eg"},{region:"Muhafazat Asyut",country:"eg"},{region:"Muhafazat Bani Suwayf",country:"eg"},{region:"Muhafazat Bur Sa'id",country:"eg"},{region:"Muhafazat Matruh",country:"eg"},{region:"Muhafazat Qina",country:"eg"},{region:"Muhafazat Shamal Sina'",country:"eg"},{region:"Muhafazat Suhaj",country:"eg"},{region:"Red Sea Governorate",country:"eg"},{region:"South Sinai Governorate",country:"eg"},{region:"An Najaf",country:"iq"},{region:"Dihok",country:"iq"},{region:"Diyala",country:"iq"},{region:"Muhafazat al Anbar",country:"iq"},{region:"Muhafazat al Basrah",country:"iq"},{region:"Muhafazat al Muthanna",country:"iq"},{region:"Muhafazat al Qadisiyah",country:"iq"},{region:"Muhafazat Arbil",country:"iq"},{region:"Muhafazat as Sulaymaniyah",country:"iq"},{region:"Muhafazat Babil",country:"iq"},{region:"Muhafazat Baghdad",country:"iq"},{region:"Muhafazat Dhi Qar",country:"iq"},{region:"Muhafazat Karbala'",country:"iq"},{region:"Muhafazat Kirkuk",country:"iq"},{region:"Muhafazat Maysan",country:"iq"},{region:"Muhafazat Ninawa",country:"iq"},{region:"Muhafazat Salah ad Din",country:"iq"},{region:"Muhafazat Wasit",country:"iq"},{region:"Banten",country:"id"},{region:"Daerah Istimewa Yogyakarta",country:"id"},{region:"Daerah Khusus Ibukota Jakarta",country:"id"},{region:"Jawa Barat",country:"id"},{region:"Jawa Timur",country:"id"},{region:"Kepulauan Bangka Belitung",country:"id"},{region:"Nanggroe Aceh Darussalam Province",country:"id"},{region:"North Kalimantan",country:"id"},{region:"Propinsi Bengkulu",country:"id"},{region:"Provinsi Bali",country:"id"},{region:"Provinsi Gorontalo",country:"id"},{region:"Provinsi Jambi",country:"id"},{region:"Provinsi Jawa Tengah",country:"id"},{region:"Provinsi Kalimantan Barat",country:"id"},{region:"Provinsi Kalimantan Selatan",country:"id"},{region:"Provinsi Kalimantan Tengah",country:"id"},{region:"Provinsi Kalimantan Timur",country:"id"},{region:"Provinsi Kepulauan Riau",country:"id"},{region:"Provinsi Lampung",country:"id"},{region:"Provinsi Maluku",country:"id"},{region:"Provinsi Maluku Utara",country:"id"},{region:"Provinsi Nusa Tenggara Timur",country:"id"},{region:"Provinsi Papua",country:"id"},{region:"Provinsi Papua Barat",country:"id"},{region:"Provinsi Riau",country:"id"},{region:"Provinsi Sulawesi Barat",country:"id"},{region:"Provinsi Sulawesi Selatan",country:"id"},{region:"Provinsi Sumatera Barat",country:"id"},{region:"Sulawesi Tengah",country:"id"},{region:"Sulawesi Tenggara",country:"id"},{region:"Sulawesi Utara",country:"id"},{region:"Sumatera Selatan",country:"id"},{region:"Sumatera Utara",country:"id"},{region:"West Nusa Tenggara",country:"id"},{region:"Assam",country:"in"},{region:"Goa",country:"in"},{region:"Madhya Pradesh",country:"in"},{region:"Manipur",country:"in"},{region:"Meghalaya",country:"in"},{region:"Mizoram",country:"in"},{region:"National Capital Territory of Delhi",country:"in"},{region:"Sikkim",country:"in"},{region:"State of Andhra Pradesh",country:"in"},{region:"State of Arunachal Pradesh",country:"in"},{region:"State of Bihar",country:"in"},{region:"State of Chhattisgarh",country:"in"},{region:"State of Gujarat",country:"in"},{region:"State of Haryana",country:"in"},{region:"State of Himachal Pradesh",country:"in"},{region:"State of Jammu and Kashmir",country:"in"},{region:"State of Jharkhand",country:"in"},{region:"State of Karnataka",country:"in"},{region:"State of Kerala",country:"in"},{region:"State of Maharashtra",country:"in"},{region:"State of Nagaland",country:"in"},{region:"State of Odisha",country:"in"},{region:"State of Punjab",country:"in"},{region:"State of Rajasthan",country:"in"},{region:"State of Tamil Nadu",country:"in"},{region:"State of Uttarakhand",country:"in"},{region:"Telangana",country:"in"},{region:"Tripura",country:"in"},{region:"Union Territory of Andaman and Nicobar Islands",country:"in"},{region:"Union Territory of Chandigarh",country:"in"},{region:"Union Territory of Dadra and Nagar Haveli",country:"in"},{region:"Union Territory of Daman and Diu",country:"in"},{region:"Union Territory of Lakshadweep",country:"in"},{region:"Union Territory of Puducherry",country:"in"},{region:"Uttar Pradesh",country:"in"},{region:"West Bengal",country:"in"},{region:"Central and Western District",country:"hk"},{region:"Eastern",country:"hk"},{region:"Islands District",country:"hk"},{region:"Kowloon City",country:"hk"},{region:"Kwai Tsing",country:"hk"},{region:"Kwun Tong",country:"hk"},{region:"North",country:"hk"},{region:"Sai Kung District",country:"hk"},{region:"Sha Tin",country:"hk"},{region:"Sham Shui Po",country:"hk"},{region:"Southern",country:"hk"},{region:"Tai Po District",country:"hk"},{region:"Tsuen Wan District",country:"hk"},{region:"Tuen Mun",country:"hk"},{region:"Wan Chai",country:"hk"},{region:"Wong Tai Sin",country:"hk"},{region:"Yau Tsim Mong",country:"hk"},{region:"Yuen Long District",country:"hk"},{region:"Austurland",country:"is"},{region:"Hoefudborgarsvaedi",country:"is"},{region:"Nordurland Eystra",country:"is"},{region:"Nordurland Vestra",country:"is"},{region:"Sudurland",country:"is"},{region:"Sudurnes",country:"is"},{region:"Vestfirdir",country:"is"},{region:"Vesturland",country:"is"},{region:"Alborz",country:"ir"},{region:"Bushehr",country:"ir"},{region:"East Azerbaijan",country:"ir"},{region:"Fars",country:"ir"},{region:"Hormozgan",country:"ir"},{region:"Isfahan",country:"ir"},{region:"Kerman",country:"ir"},{region:"Khuzestan",country:"ir"},{region:"Ostan-e Ardabil",country:"ir"},{region:"Ostan-e Azarbayjan-e Gharbi",country:"ir"},{region:"Ostan-e Chahar Mahal va Bakhtiari",country:"ir"},{region:"Ostan-e Gilan",country:"ir"},{region:"Ostan-e Golestan",country:"ir"},{region:"Ostan-e Hamadan",country:"ir"},{region:"Ostan-e Ilam",country:"ir"},{region:"Ostan-e Kermanshah",country:"ir"},{region:"Ostan-e Khorasan-e Jonubi",country:"ir"},{region:"Ostan-e Khorasan-e Razavi",country:"ir"},{region:"Ostan-e Khorasan-e Shomali",country:"ir"},{region:"Ostan-e Kohgiluyeh va Bowyer Ahmad",country:"ir"},{region:"Ostan-e Kordestan",country:"ir"},{region:"Ostan-e Lorestan",country:"ir"},{region:"Ostan-e Markazi",country:"ir"},{region:"Ostan-e Mazandaran",country:"ir"},{region:"Ostan-e Qazvin",country:"ir"},{region:"Ostan-e Semnan",country:"ir"},{region:"Ostan-e Tehran",country:"ir"},{region:"Ostan-e Zanjan",country:"ir"},{region:"Qom",country:"ir"},{region:"Sistan and Baluchestan",country:"ir"},{region:"Yazd",country:"ir"},{region:"Beyrouth",country:"lb"},{region:"Mohafazat Aakkar",country:"lb"},{region:"Mohafazat Baalbek-Hermel",country:"lb"},{region:"Mohafazat Beqaa",country:"lb"},{region:"Mohafazat Liban-Nord",country:"lb"},{region:"Mohafazat Liban-Sud",country:"lb"},{region:"Mohafazat Mont-Liban",country:"lb"},{region:"Mohafazat Nabatiye",country:"lb"},{region:"Abruzzo",country:"it"},{region:"Basilicata",country:"it"},{region:"Calabria",country:"it"},{region:"Campania",country:"it"},{region:"Emilia-Romagna",country:"it"},{region:"Friuli Venezia Giulia",country:"it"},{region:"Lazio",country:"it"},{region:"Liguria",country:"it"},{region:"Lombardia",country:"it"},{region:"Marche",country:"it"},{region:"Molise",country:"it"},{region:"Piemonte",country:"it"},{region:"Puglia",country:"it"},{region:"Regione Autonoma Valle d'Aosta",country:"it"},{region:"Sardegna",country:"it"},{region:"Sicilia",country:"it"},{region:"Toscana",country:"it"},{region:"Trentino-Alto Adige",country:"it"},{region:"Umbria",country:"it"},{region:"Veneto",country:"it"},{region:"Aktyubinskaya Oblast'",country:"kz"},{region:"Almaty Oblysy",country:"kz"},{region:"Almaty Qalasy",country:"kz"},{region:"Aqmola Oblysy",country:"kz"},{region:"Astana Qalasy",country:"kz"},{region:"Atyrau Oblysy",country:"kz"},{region:"Baikonur",country:"kz"},{region:"East Kazakhstan",country:"kz"},{region:"Mangistauskaya Oblast'",country:"kz"},{region:"North Kazakhstan",country:"kz"},{region:"Pavlodar Oblysy",country:"kz"},{region:"Qaraghandy Oblysy",country:"kz"},{region:"Qostanay Oblysy",country:"kz"},{region:"Qyzylorda Oblysy",country:"kz"},{region:"South Kazakhstan",country:"kz"},{region:"West Kazakhstan",country:"kz"},{region:"Zhambyl Oblysy",country:"kz"},{region:"Chagang-do",country:"kp"},{region:"Hambuk",country:"kp"},{region:"Hamnam",country:"kp"},{region:"Hwanghae-bukto",country:"kp"},{region:"Hwanghae-namdo",country:"kp"},{region:"Kangwon-do",country:"kp"},{region:"P'yongan-bukto",country:"kp"},{region:"P'yongan-namdo",country:"kp"},{region:"Pyongyang",country:"kp"},{region:"Rason",country:"kp"},{region:"Ryanggang",country:"kp"},{region:"Busan",country:"kr"},{region:"Chungcheongbuk-do",country:"kr"},{region:"Chungcheongnam-do",country:"kr"},{region:"Daegu",country:"kr"},{region:"Daejeon",country:"kr"},{region:"Gangwon-do",country:"kr"},{region:"Gwangju",country:"kr"},{region:"Gyeonggi-do",country:"kr"},{region:"Gyeongsangbuk-do",country:"kr"},{region:"Gyeongsangnam-do",country:"kr"},{region:"Incheon",country:"kr"},{region:"Jeju-do",country:"kr"},{region:"Jeollabuk-do",country:"kr"},{region:"Jeollanam-do",country:"kr"},{region:"Sejong-si",country:"kr"},{region:"Seoul",country:"kr"},{region:"Ulsan",country:"kr"},{region:"Baringo District",country:"ke"},{region:"Bomet District",country:"ke"},{region:"Bungoma District",country:"ke"},{region:"Busia District",country:"ke"},{region:"Embu District",country:"ke"},{region:"Garissa District",country:"ke"},{region:"Homa Bay District",country:"ke"},{region:"Isiolo District",country:"ke"},{region:"Kajiado District",country:"ke"},{region:"Kakamega District",country:"ke"},{region:"Kericho District",country:"ke"},{region:"Kiambu District",country:"ke"},{region:"Kilifi District",country:"ke"},{region:"Kirinyaga District",country:"ke"},{region:"Kisii District",country:"ke"},{region:"Kisumu",country:"ke"},{region:"Kitui District",country:"ke"},{region:"Kwale District",country:"ke"},{region:"Laikipia District",country:"ke"},{region:"Lamu",country:"ke"},{region:"Machakos District",country:"ke"},{region:"Makueni District",country:"ke"},{region:"Mandera District",country:"ke"},{region:"Marakwet District",country:"ke"},{region:"Marsabit District",country:"ke"},{region:"Meru",country:"ke"},{region:"Migori District",country:"ke"},{region:"Mombasa District",country:"ke"},{region:"Murang'a District",country:"ke"},{region:"Nairobi Province",country:"ke"},{region:"Nakuru District",country:"ke"},{region:"Nandi South District",country:"ke"},{region:"Narok District",country:"ke"},{region:"Nyamira District",country:"ke"},{region:"Nyandarua District",country:"ke"},{region:"Nyeri District",country:"ke"},{region:"Samburu District",country:"ke"},{region:"Siaya District",country:"ke"},{region:"Taita Taveta District",country:"ke"},{region:"Tana River District",country:"ke"},{region:"Tharaka District",country:"ke"},{region:"Trans Nzoia District",country:"ke"},{region:"Turkana District",country:"ke"},{region:"Uasin Gishu",country:"ke"},{region:"Vihiga District",country:"ke"},{region:"Wajir District",country:"ke"},{region:"West Pokot District",country:"ke"},{region:"Batken",country:"kg"},{region:"Chuyskaya Oblast'",country:"kg"},{region:"Gorod Bishkek",country:"kg"},{region:"Issyk-Kul Region",country:"kg"},{region:"Jalal-Abad oblast",country:"kg"},{region:"Naryn oblast",country:"kg"},{region:"Osh City",country:"kg"},{region:"Osh Oblasty",country:"kg"},{region:"Talas",country:"kg"},{region:"Connaught",country:"ie"},{region:"Leinster",country:"ie"},{region:"Munster",country:"ie"},{region:"Ulster",country:"ie"},{region:"Ajloun",country:"jo"},{region:"Al Karak",country:"jo"},{region:"Al Mafraq",country:"jo"},{region:"Amman Governorate",country:"jo"},{region:"Irbid",country:"jo"},{region:"Jerash",country:"jo"},{region:"Muhafazat al 'Aqabah",country:"jo"},{region:"Muhafazat al Balqa'",country:"jo"},{region:"Muhafazat at Tafilah",country:"jo"},{region:"Muhafazat az Zarqa'",country:"jo"},{region:"Muhafazat Ma'an",country:"jo"},{region:"Muhafazat Madaba",country:"jo"},{region:"Adazu Novads",country:"lv"},{region:"Aglonas Novads",country:"lv"},{region:"Aizkraukles Rajons",country:"lv"},{region:"Aizputes Novads",country:"lv"},{region:"Aknistes Novads",country:"lv"},{region:"Alojas Novads",country:"lv"},{region:"Alsungas Novads",country:"lv"},{region:"Aluksnes Novads",country:"lv"},{region:"Amatas Novads",country:"lv"},{region:"Apes Novads",country:"lv"},{region:"Auces Novads",country:"lv"},{region:"Babites Novads",country:"lv"},{region:"Baldones Novads",country:"lv"},{region:"Baltinavas Novads",country:"lv"},{region:"Balvu Novads",country:"lv"},{region:"Bauskas Novads",country:"lv"},{region:"Beverinas Novads",country:"lv"},{region:"Brocenu Novads",country:"lv"},{region:"Burtnieku Novads",country:"lv"},{region:"Carnikavas Novads",country:"lv"},{region:"Cesu Novads",country:"lv"},{region:"Cesvaines Novads",country:"lv"},{region:"Ciblas Novads",country:"lv"},{region:"Dagdas Novads",country:"lv"},{region:"Daugavpils",country:"lv"},{region:"Daugavpils municipality",country:"lv"},{region:"Dobeles Rajons",country:"lv"},{region:"Dundagas Novads",country:"lv"},{region:"Durbes Novads",country:"lv"},{region:"Engures Novads",country:"lv"},{region:"Erglu Novads",country:"lv"},{region:"Garkalne Municipality",country:"lv"},{region:"Grobinas Novads",country:"lv"},{region:"Gulbenes Rajons",country:"lv"},{region:"Iecavas Novads",country:"lv"},{region:"Ikskiles Novads",country:"lv"},{region:"Ilukstes Novads",country:"lv"},{region:"Incukalna Novads",country:"lv"},{region:"Jaunjelgavas Novads",country:"lv"},{region:"Jaunpiebalgas Novads",country:"lv"},{region:"Jaunpils Novads",country:"lv"},{region:"Jekabpils",country:"lv"},{region:"Jekabpils Municipality",country:"lv"},{region:"Jelgava",country:"lv"},{region:"Jelgavas Rajons",country:"lv"},{region:"Jurmala",country:"lv"},{region:"Kandavas Novads",country:"lv"},{region:"Karsavas Novads",country:"lv"},{region:"Keguma Novads",country:"lv"},{region:"Kekavas Novads",country:"lv"},{region:"Kocenu Novads",country:"lv"},{region:"Kokneses Novads",country:"lv"},{region:"Kraslavas Rajons",country:"lv"},{region:"Krimuldas Novads",country:"lv"},{region:"Krustpils Novads",country:"lv"},{region:"Kuldigas Rajons",country:"lv"},{region:"Lielvardes Novads",country:"lv"},{region:"Liepaja",country:"lv"},{region:"Ligatnes Novads",country:"lv"},{region:"Limbazu Rajons",country:"lv"},{region:"Livanu Novads",country:"lv"},{region:"Lubanas Novads",country:"lv"},{region:"Ludzas Rajons",country:"lv"},{region:"Madona Municipality",country:"lv"},{region:"Malpils Novads",country:"lv"},{region:"Marupes Novads",country:"lv"},{region:"Mazsalacas Novads",country:"lv"},{region:"Mersraga Novads",country:"lv"},{region:"Nauksenu Novads",country:"lv"},{region:"Neretas Novads",country:"lv"},{region:"Nicas Novads",country:"lv"},{region:"Ogres novads",country:"lv"},{region:"Olaines Novads",country:"lv"},{region:"Ozolnieku Novads",country:"lv"},{region:"Pargaujas Novads",country:"lv"},{region:"Pavilostas Novads",country:"lv"},{region:"Plavinu Novads",country:"lv"},{region:"Preili Municipality",country:"lv"},{region:"Priekules Novads",country:"lv"},{region:"Priekuli Municipality",country:"lv"},{region:"Raunas Novads",country:"lv"},{region:"Rezekne",country:"lv"},{region:"Rezeknes Novads",country:"lv"},{region:"Riebinu Novads",country:"lv"},{region:"Riga",country:"lv"},{region:"Rojas Novads",country:"lv"},{region:"Ropazu Novads",country:"lv"},{region:"Rucavas Novads",country:"lv"},{region:"Rugaju Novads",country:"lv"},{region:"Rujienas Novads",country:"lv"},{region:"Rundales Novads",country:"lv"},{region:"Salacgrivas Novads",country:"lv"},{region:"Salas Novads",country:"lv"},{region:"Salaspils Novads",country:"lv"},{region:"Saldus Municipality",country:"lv"},{region:"Saulkrastu Novads",country:"lv"},{region:"Sejas Novads",country:"lv"},{region:"Siguldas Novads",country:"lv"},{region:"Skriveru Novads",country:"lv"},{region:"Skrundas Novads",country:"lv"},{region:"Smiltenes Novads",country:"lv"},{region:"Stopinu Novads",country:"lv"},{region:"Strencu Novads",country:"lv"},{region:"Talsi Municipality",country:"lv"},{region:"Tervetes Novads",country:"lv"},{region:"Tukuma Rajons",country:"lv"},{region:"Vainodes Novads",country:"lv"},{region:"Valka Municipality",country:"lv"},{region:"Valmiera District",country:"lv"},{region:"Varaklanu Novads",country:"lv"},{region:"Varkavas Novads",country:"lv"},{region:"Vecpiebalgas Novads",country:"lv"},{region:"Vecumnieku Novads",country:"lv"},{region:"Ventspils",country:"lv"},{region:"Ventspils Municipality",country:"lv"},{region:"Viesites Novads",country:"lv"},{region:"Vilakas Novads",country:"lv"},{region:"Vilanu Novads",country:"lv"},{region:"Zilupes Novads",country:"lv"},{region:"Al Asimah Governorate",country:"kw"},{region:"Muhafazat al Ahmadi",country:"kw"},{region:"Muhafazat al Farwaniyah",country:"kw"},{region:"Muhafazat al Jahra'",country:"kw"},{region:"Muhafazat Hawalli",country:"kw"},{region:"Muhafazat Mubarak al Kabir",country:"kw"},{region:"Attapu",country:"la"},{region:"Bolikhamxai",country:"la"},{region:"Champasak",country:"la"},{region:"Houaphan",country:"la"},{region:"Khammouan",country:"la"},{region:"Khoueng Bokeo",country:"la"},{region:"Khoueng Oudomxai",country:"la"},{region:"Khoueng Phongsali",country:"la"},{region:"Khoueng Savannakhet",country:"la"},{region:"Khoueng Xekong",country:"la"},{region:"Louangnamtha",country:"la"},{region:"Luang Prabang Province",country:"la"},{region:"Salavan",country:"la"},{region:"Vientiane Prefecture",country:"la"},{region:"Vientiane Province",country:"la"},{region:"Xaignabouli",country:"la"},{region:"Xaisomboun Province",country:"la"},{region:"Xiangkhouang",country:"la"},{region:"Central District",country:"il"},{region:"Haifa",country:"il"},{region:"Jerusalem",country:"il"},{region:"Northern District",country:"il"},{region:"Southern District",country:"il"},{region:"Tel Aviv District",country:"il"},{region:"Gilbert Islands",country:"ki"},{region:"Line Islands",country:"ki"},{region:"Phoenix Islands",country:"ki"},{region:"Aichi-ken",country:"jp"},{region:"Akita",country:"jp"},{region:"Aomori-ken",country:"jp"},{region:"Chiba-ken",country:"jp"},{region:"Ehime",country:"jp"},{region:"Fukui",country:"jp"},{region:"Fukuoka Prefecture",country:"jp"},{region:"Fukushima-ken",country:"jp"},{region:"Gifu",country:"jp"},{region:"Gunma-ken",country:"jp"},{region:"Hiroshima-ken",country:"jp"},{region:"Hokkaido",country:"jp"},{region:"Hyogo",country:"jp"},{region:"Ibaraki",country:"jp"},{region:"Ishikawa-ken",country:"jp"},{region:"Iwate",country:"jp"},{region:"Kagawa-ken",country:"jp"},{region:"Kagoshima-ken",country:"jp"},{region:"Kanagawa",country:"jp"},{region:"Kochi Prefecture",country:"jp"},{region:"Kumamoto",country:"jp"},{region:"Kyoto Prefecture",country:"jp"},{region:"Mie-ken",country:"jp"},{region:"Miyagi-ken",country:"jp"},{region:"Miyazaki",country:"jp"},{region:"Nagano-ken",country:"jp"},{region:"Nagasaki Prefecture",country:"jp"},{region:"Nara-ken",country:"jp"},{region:"Niigata-ken",country:"jp"},{region:"Oita Prefecture",country:"jp"},{region:"Okayama-ken",country:"jp"},{region:"Okinawa",country:"jp"},{region:"Osaka-fu",country:"jp"},{region:"Saga-ken",country:"jp"},{region:"Saitama-ken",country:"jp"},{region:"Shiga",country:"jp"},{region:"Shimane-ken",country:"jp"},{region:"Shizuoka",country:"jp"},{region:"Tochigi",country:"jp"},{region:"Tokushima-ken",country:"jp"},{region:"Tokyo Prefecture",country:"jp"},{region:"Tottori",country:"jp"},{region:"Toyama-ken",country:"jp"},{region:"Wakayama",country:"jp"},{region:"Yamagata-ken",country:"jp"},{region:"Yamaguchi",country:"jp"},{region:"Yamanashi",country:"jp"},{region:"Clarendon",country:"jm"},{region:"Kingston",country:"jm"},{region:"Manchester",country:"jm"},{region:"Parish of Hanover",country:"jm"},{region:"Parish of Saint Ann",country:"jm"},{region:"Portland",country:"jm"},{region:"Saint Andrew",country:"jm"},{region:"Saint Catherine",country:"jm"},{region:"Saint Elizabeth",country:"jm"},{region:"Saint James",country:"jm"},{region:"Saint Mary",country:"jm"},{region:"Saint Thomas",country:"jm"},{region:"Trelawny",country:"jm"},{region:"Westmoreland",country:"jm"},{region:"Central Region",country:"mw"},{region:"Northern Region",country:"mw"},{region:"Southern Region",country:"mw"},{region:"Alytus County",country:"lt"},{region:"Kaunas County",country:"lt"},{region:"Klaipeda County",country:"lt"},{region:"Marijampole County",country:"lt"},{region:"Panevezys",country:"lt"},{region:"Siauliai County",country:"lt"},{region:"Taurage County",country:"lt"},{region:"Telsiu apskritis",country:"lt"},{region:"Utena County",country:"lt"},{region:"Vilniaus apskritis",country:"lt"},{region:"Al Jufrah",country:"ly"},{region:"Al Kufrah",country:"ly"},{region:"Al Marj",country:"ly"},{region:"Al Marqab",country:"ly"},{region:"Darnah",country:"ly"},{region:"Jabal al Gharbi District",country:"ly"},{region:"Murzuq",country:"ly"},{region:"Sha`biyat Nalut",country:"ly"},{region:"Sha'biyat al Butnan",country:"ly"},{region:"Sha'biyat al Jabal al Akhdar",country:"ly"},{region:"Sha'biyat al Jafarah",country:"ly"},{region:"Sha'biyat al Wahat",country:"ly"},{region:"Sha'biyat an Nuqat al Khams",country:"ly"},{region:"Sha'biyat az Zawiyah",country:"ly"},{region:"Sha'biyat Banghazi",country:"ly"},{region:"Sha'biyat Ghat",country:"ly"},{region:"Sha'biyat Misratah",country:"ly"},{region:"Sha'biyat Sabha",country:"ly"},{region:"Sha'biyat Wadi al Hayat",country:"ly"},{region:"Sha'biyat Wadi ash Shati'",country:"ly"},{region:"Surt",country:"ly"},{region:"Tripoli",country:"ly"},{region:"Berea",country:"ls"},{region:"Butha-Buthe",country:"ls"},{region:"Leribe District",country:"ls"},{region:"Mafeteng District",country:"ls"},{region:"Maseru",country:"ls"},{region:"Mohale's Hoek District",country:"ls"},{region:"Mokhotlong",country:"ls"},{region:"Qacha's Nek",country:"ls"},{region:"Quthing",country:"ls"},{region:"Thaba-Tseka",country:"ls"},{region:"Bamako Region",country:"ml"},{region:"Gao Region",country:"ml"},{region:"Kayes Region",country:"ml"},{region:"Kidal Region",country:"ml"},{region:"Koulikoro Region",country:"ml"},{region:"Mopti Region",country:"ml"},{region:"Segou Region",country:"ml"},{region:"Sikasso Region",country:"ml"},{region:"Tombouctou Region",country:"ml"},{region:"Johor",country:"my"},{region:"Kedah",country:"my"},{region:"Kelantan",country:"my"},{region:"Kuala Lumpur",country:"my"},{region:"Labuan",country:"my"},{region:"Melaka",country:"my"},{region:"Negeri Sembilan",country:"my"},{region:"Pahang",country:"my"},{region:"Perak",country:"my"},{region:"Perlis",country:"my"},{region:"Pulau Pinang",country:"my"},{region:"Putrajaya",country:"my"},{region:"Sabah",country:"my"},{region:"Sarawak",country:"my"},{region:"Selangor",country:"my"},{region:"Terengganu",country:"my"},{region:"Martinique",country:"mq"},{region:"Aerodrom",country:"mk"},{region:"Berovo",country:"mk"},{region:"Bitola",country:"mk"},{region:"Bogdanci",country:"mk"},{region:"Bogovinje",country:"mk"},{region:"Bosilovo",country:"mk"},{region:"Brvenica",country:"mk"},{region:"Butel",country:"mk"},{region:"Cair",country:"mk"},{region:"Cesinovo-Oblesevo",country:"mk"},{region:"Debar",country:"mk"},{region:"Debarca",country:"mk"},{region:"Demir Hisar",country:"mk"},{region:"Demir Kapija",country:"mk"},{region:"Dolneni",country:"mk"},{region:"Drugovo",country:"mk"},{region:"Gazi Baba",country:"mk"},{region:"Gevgelija",country:"mk"},{region:"Gostivar",country:"mk"},{region:"Grad Skopje",country:"mk"},{region:"Gradsko",country:"mk"},{region:"Ilinden",country:"mk"},{region:"Jegunovce",country:"mk"},{region:"Karbinci",country:"mk"},{region:"Kavadarci",country:"mk"},{region:"Kisela Voda",country:"mk"},{region:"Kratovo",country:"mk"},{region:"Kriva Palanka",country:"mk"},{region:"Kumanovo",country:"mk"},{region:"Lozovo",country:"mk"},{region:"Makedonska Kamenica",country:"mk"},{region:"Makedonski Brod",country:"mk"},{region:"Mogila",country:"mk"},{region:"Negotino",country:"mk"},{region:"Novaci",country:"mk"},{region:"Novo Selo",country:"mk"},{region:"Ohrid",country:"mk"},{region:"Opstina Aracinovo",country:"mk"},{region:"Opstina Caska",country:"mk"},{region:"Opstina Centar",country:"mk"},{region:"Opstina Centar Zupa",country:"mk"},{region:"Opstina Cucer-Sandevo",country:"mk"},{region:"Opstina Delcevo",country:"mk"},{region:"Opstina Dojran",country:"mk"},{region:"Opstina Gjorce Petrov",country:"mk"},{region:"Opstina Karpos",country:"mk"},{region:"Opstina Kicevo",country:"mk"},{region:"Opstina Kocani",country:"mk"},{region:"Opstina Konce",country:"mk"},{region:"Opstina Krivogastani",country:"mk"},{region:"Opstina Krusevo",country:"mk"},{region:"Opstina Lipkovo",country:"mk"},{region:"Opstina Mavrovo i Rostusa",country:"mk"},{region:"Opstina Pehcevo",country:"mk"},{region:"Opstina Probistip",country:"mk"},{region:"Opstina Radovis",country:"mk"},{region:"Opstina Rankovce",country:"mk"},{region:"Opstina Sopiste",country:"mk"},{region:"Opstina Staro Nagoricane",country:"mk"},{region:"Opstina Stip",country:"mk"},{region:"Opstina Studenicani",country:"mk"},{region:"Opstina Vevcani",country:"mk"},{region:"Opstina Vranestica",country:"mk"},{region:"Opstina Vrapciste",country:"mk"},{region:"Opstina Zelino",country:"mk"},{region:"Oslomej",country:"mk"},{region:"Petrovec",country:"mk"},{region:"Plasnica",country:"mk"},{region:"Prilep",country:"mk"},{region:"Resen",country:"mk"},{region:"Rosoman",country:"mk"},{region:"Saraj",country:"mk"},{region:"Struga",country:"mk"},{region:"Strumica",country:"mk"},{region:"Suto Orizari",country:"mk"},{region:"Sveti Nikole",country:"mk"},{region:"Tearce",country:"mk"},{region:"Tetovo",country:"mk"},{region:"Valandovo",country:"mk"},{region:"Vasilevo",country:"mk"},{region:"Veles",country:"mk"},{region:"Vinica",country:"mk"},{region:"Zajas",country:"mk"},{region:"Zelenikovo",country:"mk"},{region:"Zrnovci",country:"mk"},{region:"Alifu Atholhu",country:"mv"},{region:"Baa Atholhu",country:"mv"},{region:"Dhaalu Atholhu",country:"mv"},{region:"Faafu Atholhu",country:"mv"},{region:"Gaafu Alifu Atholhu",country:"mv"},{region:"Gaafu Dhaalu Atholhu",country:"mv"},{region:"Gnaviyani Atholhu",country:"mv"},{region:"Haa Alifu Atholhu",country:"mv"},{region:"Haa Dhaalu Atholhu",country:"mv"},{region:"Kaafu Atoll",country:"mv"},{region:"Laamu Atholhu",country:"mv"},{region:"Lhaviyani Atholhu",country:"mv"},{region:"Meemu Atholhu",country:"mv"},{region:"Noonu Atoll",country:"mv"},{region:"Raa Atholhu",country:"mv"},{region:"Seenu Atholhu",country:"mv"},{region:"Shaviyani Atholhu",country:"mv"},{region:"Southern Ari Atoll",country:"mv"},{region:"Thaa Atholhu",country:"mv"},{region:"Vaavu Atholhu",country:"mv"},{region:"Canton d'Echternach",country:"lu"},{region:"Canton d'Esch-sur-Alzette",country:"lu"},{region:"Capellen",country:"lu"},{region:"Clervaux",country:"lu"},{region:"Diekirch",country:"lu"},{region:"Grevenmacher",country:"lu"},{region:"Luxembourg",country:"lu"},{region:"Mersch",country:"lu"},{region:"Redange",country:"lu"},{region:"Remich",country:"lu"},{region:"Vianden",country:"lu"},{region:"Wiltz",country:"lu"},{region:"Bomi County",country:"lr"},{region:"Bong County",country:"lr"},{region:"Gbarpolu County",country:"lr"},{region:"Grand Bassa County",country:"lr"},{region:"Grand Cape Mount County",country:"lr"},{region:"Grand Gedeh County",country:"lr"},{region:"Grand Kru County",country:"lr"},{region:"Lofa County",country:"lr"},{region:"Margibi County",country:"lr"},{region:"Maryland County",country:"lr"},{region:"Montserrado County",country:"lr"},{region:"Nimba County",country:"lr"},{region:"River Cess County",country:"lr"},{region:"River Gee County",country:"lr"},{region:"Sinoe County",country:"lr"},{region:"Alaotra Mangoro Region",country:"mg"},{region:"Amoron'i Mania Region",country:"mg"},{region:"Analamanga Region",country:"mg"},{region:"Analanjirofo Region",country:"mg"},{region:"Androy Region",country:"mg"},{region:"Anosy Region",country:"mg"},{region:"Atsimo-Andrefana Region",country:"mg"},{region:"Atsimo-Atsinanana Region",country:"mg"},{region:"Atsinanana Region",country:"mg"},{region:"Betsiboka Region",country:"mg"},{region:"Boeny Region",country:"mg"},{region:"Bongolava Region",country:"mg"},{region:"Diana Region",country:"mg"},{region:"Haute Matsiatra Region",country:"mg"},{region:"Ihorombe Region",country:"mg"},{region:"Itasy Region",country:"mg"},{region:"Melaky Region",country:"mg"},{region:"Menabe Region",country:"mg"},{region:"Sava Region",country:"mg"},{region:"Sofia Region",country:"mg"},{region:"Vakinankaratra Region",country:"mg"},{region:"Vatovavy Fitovinany Region",country:"mg"},{region:"Ailinginae Atoll",country:"mh"},{region:"Ailinglaplap Atoll",country:"mh"},{region:"Ailuk Atoll",country:"mh"},{region:"Arno Atoll",country:"mh"},{region:"Aur Atoll",country:"mh"},{region:"Bikar Atoll",country:"mh"},{region:"Bikini Atoll",country:"mh"},{region:"Bokak Atoll",country:"mh"},{region:"Ebon Atoll",country:"mh"},{region:"Enewetak Atoll",country:"mh"},{region:"Erikub Atoll",country:"mh"},{region:"Jabat Island",country:"mh"},{region:"Jaluit Atoll",country:"mh"},{region:"Jemo Island",country:"mh"},{region:"Kili Island",country:"mh"},{region:"Kwajalein Atoll",country:"mh"},{region:"Lae Atoll",country:"mh"},{region:"Lib Island",country:"mh"},{region:"Likiep Atoll",country:"mh"},{region:"Majuro Atoll",country:"mh"},{region:"Maloelap Atoll",country:"mh"},{region:"Mejit Island",country:"mh"},{region:"Mili Atoll",country:"mh"},{region:"Namdrik Atoll",country:"mh"},{region:"Namu Atoll",country:"mh"},{region:"Rongelap Atoll",country:"mh"},{region:"Rongrik Atoll",country:"mh"},{region:"Taka Atoll",country:"mh"},{region:"Ujae Atoll",country:"mh"},{region:"Ujelang Atoll",country:"mh"},{region:"Utrik Atoll",country:"mh"},{region:"Wotho Atoll",country:"mh"},{region:"Wotje Atoll",country:"mh"},{region:"Balzers",country:"li"},{region:"Eschen",country:"li"},{region:"Gamprin",country:"li"},{region:"Mauren",country:"li"},{region:"Planken",country:"li"},{region:"Ruggell",country:"li"},{region:"Schaan",country:"li"},{region:"Schellenberg",country:"li"},{region:"Triesen",country:"li"},{region:"Triesenberg",country:"li"},{region:"Vaduz",country:"li"},{region:"Attard",country:"mt"},{region:"Balzan",country:"mt"},{region:"Birkirkara",country:"mt"},{region:"Birzebbuga",country:"mt"},{region:"Bormla",country:"mt"},{region:"Dingli",country:"mt"},{region:"Ghajnsielem",country:"mt"},{region:"Hal Gharghur",country:"mt"},{region:"Hal Ghaxaq",country:"mt"},{region:"Haz-Zabbar",country:"mt"},{region:"Haz-Zebbug",country:"mt"},{region:"Il-Belt Valletta",country:"mt"},{region:"Il-Birgu",country:"mt"},{region:"Il-Fgura",country:"mt"},{region:"Il-Fontana",country:"mt"},{region:"Il-Furjana",country:"mt"},{region:"Il-Gudja",country:"mt"},{region:"Il-Gzira",country:"mt"},{region:"Il-Hamrun",country:"mt"},{region:"Il-Kalkara",country:"mt"},{region:"Il-Marsa",country:"mt"},{region:"Il-Mellieha",country:"mt"},{region:"Il-Mosta",country:"mt"},{region:"Il-Munxar",country:"mt"},{region:"Il-Qala",country:"mt"},{region:"Il-Qrendi",country:"mt"},{region:"In-Nadur",country:"mt"},{region:"In-Naxxar",country:"mt"},{region:"Ir-Rabat",country:"mt"},{region:"Is-Siggiewi",country:"mt"},{region:"Is-Swieqi",country:"mt"},{region:"Ix-Xaghra",country:"mt"},{region:"Ix-Xewkija",country:"mt"},{region:"Ix-Xghajra",country:"mt"},{region:"Iz-Zebbug",country:"mt"},{region:"Iz-Zejtun",country:"mt"},{region:"Iz-Zurrieq",country:"mt"},{region:"Kirkop",country:"mt"},{region:"L-Gharb",country:"mt"},{region:"L-Ghasri",country:"mt"},{region:"L-Iklin",country:"mt"},{region:"L-Imdina",country:"mt"},{region:"L-Imgarr",country:"mt"},{region:"L-Imqabba",country:"mt"},{region:"L-Imsida",country:"mt"},{region:"L-Imtarfa",country:"mt"},{region:"L-Isla",country:"mt"},{region:"Lija",country:"mt"},{region:"Luqa",country:"mt"},{region:"Marsaskala",country:"mt"},{region:"Marsaxlokk",country:"mt"},{region:"Paola",country:"mt"},{region:"Pembroke",country:"mt"},{region:"Qormi",country:"mt"},{region:"Safi",country:"mt"},{region:"Saint John",country:"mt"},{region:"Saint Julian's",country:"mt"},{region:"Saint Lawrence",country:"mt"},{region:"Saint Lucia",country:"mt"},{region:"Saint Paul's Bay",country:"mt"},{region:"Saint Venera",country:"mt"},{region:"Sannat",country:"mt"},{region:"Ta' Kercem",country:"mt"},{region:"Ta' Xbiex",country:"mt"},{region:"Tal-Pieta",country:"mt"},{region:"Tarxien",country:"mt"},{region:"Tas-Sliema",country:"mt"},{region:"Victoria",country:"mt"},{region:"Adrar",country:"mr"},{region:"Assaba",country:"mr"},{region:"Brakna",country:"mr"},{region:"Dakhlet Nouadhibou",country:"mr"},{region:"Gorgol",country:"mr"},{region:"Guidimaka",country:"mr"},{region:"Hodh ech Chargui",country:"mr"},{region:"Hodh El Gharbi",country:"mr"},{region:"Inchiri",country:"mr"},{region:"Nouakchott Nord",country:"mr"},{region:"Nouakchott Ouest",country:"mr"},{region:"Nouakchott Sud",country:"mr"},{region:"Tagant",country:"mr"},{region:"Tiris Zemmour",country:"mr"},{region:"Wilaya du Trarza",country:"mr"},{region:"Agalega Islands",country:"mu"},{region:"Black River District",country:"mu"},{region:"Cargados Carajos",country:"mu"},{region:"Flacq District",country:"mu"},{region:"Grand Port District",country:"mu"},{region:"Moka District",country:"mu"},{region:"Pamplemousses District",country:"mu"},{region:"Plaines Wilhems District",country:"mu"},{region:"Port Louis District",country:"mu"},{region:"Riviere du Rempart District",country:"mu"},{region:"Rodrigues",country:"mu"},{region:"Savanne District",country:"mu"},{region:"Commune de Monaco",country:"mc"},{region:"Arhangay Aymag",country:"mn"},{region:"Bayan-OElgiy Aymag",country:"mn"},{region:"Bayanhongor Aymag",country:"mn"},{region:"Bulgan",country:"mn"},{region:"Darhan-Uul Aymag",country:"mn"},{region:"Dornod Aymag",country:"mn"},{region:"Dornogovi Aymag",country:"mn"},{region:"Dundgovi Aymag",country:"mn"},{region:"Dzavhan Aymag",country:"mn"},{region:"Govi-Altay Aymag",country:"mn"},{region:"Govi-Sumber",country:"mn"},{region:"Hentiy Aymag",country:"mn"},{region:"Hovd",country:"mn"},{region:"Hovsgol Aymag",country:"mn"},{region:"OEmnoegovi Province",country:"mn"},{region:"OEvoerhangay Aymag",country:"mn"},{region:"Orhon Aymag",country:"mn"},{region:"Selenge Aymag",country:"mn"},{region:"Suhbaatar Aymag",country:"mn"},{region:"Tov Aymag",country:"mn"},{region:"Ulaanbaatar Hot",country:"mn"},{region:"Uvs Aymag",country:"mn"},{region:"Parish of Saint Anthony",country:"ms"},{region:"Parish of Saint Georges",country:"ms"},{region:"Parish of Saint Peter",country:"ms"},{region:"Acoua",country:"yt"},{region:"Bandraboua",country:"yt"},{region:"Bandrele",country:"yt"},{region:"Boueni",country:"yt"},{region:"Chiconi",country:"yt"},{region:"Chirongui",country:"yt"},{region:"Dembeni",country:"yt"},{region:"Dzaoudzi",country:"yt"},{region:"Kani-Keli",country:"yt"},{region:"Koungou",country:"yt"},{region:"M'Tsangamouji",country:"yt"},{region:"Mamoudzou",country:"yt"},{region:"Mtsamboro",country:"yt"},{region:"Ouangani",country:"yt"},{region:"Pamandzi",country:"yt"},{region:"Sada",country:"yt"},{region:"Tsingoni",country:"yt"},{region:"Ciudad de Mexico",country:"mx"},{region:"Estado de Aguascalientes",country:"mx"},{region:"Estado de Baja California",country:"mx"},{region:"Estado de Baja California Sur",country:"mx"},{region:"Estado de Campeche",country:"mx"},{region:"Estado de Chiapas",country:"mx"},{region:"Estado de Chihuahua",country:"mx"},{region:"Estado de Coahuila de Zaragoza",country:"mx"},{region:"Estado de Colima",country:"mx"},{region:"Estado de Durango",country:"mx"},{region:"Estado de Guanajuato",country:"mx"},{region:"Estado de Guerrero",country:"mx"},{region:"Estado de Hidalgo",country:"mx"},{region:"Estado de Jalisco",country:"mx"},{region:"Estado de Mexico",country:"mx"},{region:"Estado de Michoacan de Ocampo",country:"mx"},{region:"Estado de Morelos",country:"mx"},{region:"Estado de Nayarit",country:"mx"},{region:"Estado de Nuevo Leon",country:"mx"},{region:"Estado de Oaxaca",country:"mx"},{region:"Estado de Puebla",country:"mx"},{region:"Estado de Queretaro",country:"mx"},{region:"Estado de Quintana Roo",country:"mx"},{region:"Estado de San Luis Potosi",country:"mx"},{region:"Estado de Sinaloa",country:"mx"},{region:"Estado de Sonora",country:"mx"},{region:"Estado de Tabasco",country:"mx"},{region:"Estado de Tamaulipas",country:"mx"},{region:"Estado de Tlaxcala",country:"mx"},{region:"Estado de Veracruz-Llave",country:"mx"},{region:"Estado de Yucatan",country:"mx"},{region:"Estado de Zacatecas",country:"mx"},{region:"Anenii Noi",country:"md"},{region:"Basarabeasca",country:"md"},{region:"Briceni",country:"md"},{region:"Cantemir",country:"md"},{region:"Cimislia",country:"md"},{region:"Criuleni",country:"md"},{region:"Donduseni",country:"md"},{region:"Falesti",country:"md"},{region:"Floresti",country:"md"},{region:"Gagauzia",country:"md"},{region:"Glodeni",country:"md"},{region:"Hincesti",country:"md"},{region:"Ialoveni",country:"md"},{region:"Leova",country:"md"},{region:"Municipiul Balti",country:"md"},{region:"Municipiul Bender",country:"md"},{region:"Municipiul Chisinau",country:"md"},{region:"Nisporeni",country:"md"},{region:"Orhei",country:"md"},{region:"Raionul Cahul",country:"md"},{region:"Raionul Calarasi",country:"md"},{region:"Raionul Causeni",country:"md"},{region:"Raionul Drochia",country:"md"},{region:"Raionul Dubasari",country:"md"},{region:"Raionul Edinet",country:"md"},{region:"Raionul Ocnita",country:"md"},{region:"Raionul Soroca",country:"md"},{region:"Raionul Stefan Voda",country:"md"},{region:"Raionul Straseni",country:"md"},{region:"Raionul Ungheni",country:"md"},{region:"Rezina",country:"md"},{region:"Riscani",country:"md"},{region:"Singerei",country:"md"},{region:"Soldanesti",country:"md"},{region:"Taraclia",country:"md"},{region:"Telenesti",country:"md"},{region:"Unitatea Teritoriala din Stinga Nistrului",country:"md"},{region:"Province des iles Loyaute",country:"nc"},{region:"Province Nord",country:"nc"},{region:"Province Sud",country:"nc"},{region:"Ayeyawady Region",country:"mm"},{region:"Bago Region",country:"mm"},{region:"Chin State",country:"mm"},{region:"Kachin State",country:"mm"},{region:"Kayah State",country:"mm"},{region:"Kayin State",country:"mm"},{region:"Magway Region",country:"mm"},{region:"Mandalay Region",country:"mm"},{region:"Mon State",country:"mm"},{region:"Nay Pyi Taw",country:"mm"},{region:"Rakhine State",country:"mm"},{region:"Sagaing Region",country:"mm"},{region:"Shan State",country:"mm"},{region:"Taninthayi Region",country:"mm"},{region:"Yangon Region",country:"mm"},{region:"Aiwo District",country:"nr"},{region:"Anabar District",country:"nr"},{region:"Anetan District",country:"nr"},{region:"Anibare District",country:"nr"},{region:"Baiti District",country:"nr"},{region:"Boe District",country:"nr"},{region:"Buada District",country:"nr"},{region:"Denigomodu District",country:"nr"},{region:"Ewa District",country:"nr"},{region:"Ijuw District",country:"nr"},{region:"Meneng District",country:"nr"},{region:"Nibok District",country:"nr"},{region:"Uaboe District",country:"nr"},{region:"Yaren",country:"nr"},{region:"Beni Mellal-Khenifra",country:"ma"},{region:"Casablanca-Settat",country:"ma"},{region:"Dakhla-Oued Ed-Dahab",country:"ma"},{region:"Draa-Tafilalet",country:"ma"},{region:"Fes-Meknes",country:"ma"},{region:"Guelmim-Oued Noun",country:"ma"},{region:"Laayoune-Sakia El Hamra",country:"ma"},{region:"Marrakesh-Safi",country:"ma"},{region:"Oriental",country:"ma"},{region:"Rabat-Sale-Kenitra",country:"ma"},{region:"Souss-Massa",country:"ma"},{region:"Tanger-Tetouan-Al Hoceima",country:"ma"},{region:"Erongo",country:"na"},{region:"Hardap",country:"na"},{region:"Karas",country:"na"},{region:"Kavango East Region",country:"na"},{region:"Kavango West Region",country:"na"},{region:"Khomas",country:"na"},{region:"Kunene",country:"na"},{region:"Ohangwena",country:"na"},{region:"Omaheke",country:"na"},{region:"Omusati",country:"na"},{region:"Oshana",country:"na"},{region:"Oshikoto",country:"na"},{region:"Otjozondjupa",country:"na"},{region:"Zambezi Region",country:"na"},{region:"Cabo Delgado Province",country:"mz"},{region:"Cidade de Maputo",country:"mz"},{region:"Gaza Province",country:"mz"},{region:"Inhambane Province",country:"mz"},{region:"Manica Province",country:"mz"},{region:"Maputo Province",country:"mz"},{region:"Nampula",country:"mz"},{region:"Niassa Province",country:"mz"},{region:"Provincia de Zambezia",country:"mz"},{region:"Sofala Province",country:"mz"},{region:"Tete",country:"mz"},{region:"Provincie Drenthe",country:"nl"},{region:"Provincie Flevoland",country:"nl"},{region:"Provincie Friesland",country:"nl"},{region:"Provincie Gelderland",country:"nl"},{region:"Provincie Groningen",country:"nl"},{region:"Provincie Limburg",country:"nl"},{region:"Provincie Noord-Brabant",country:"nl"},{region:"Provincie Noord-Holland",country:"nl"},{region:"Provincie Overijssel",country:"nl"},{region:"Provincie Utrecht",country:"nl"},{region:"Provincie Zeeland",country:"nl"},{region:"Provincie Zuid-Holland",country:"nl"},{region:"Auckland",country:"nz"},{region:"Bay of Plenty",country:"nz"},{region:"Canterbury",country:"nz"},{region:"Chatham Islands",country:"nz"},{region:"Gisborne",country:"nz"},{region:"Hawke's Bay",country:"nz"},{region:"Manawatu-Wanganui",country:"nz"},{region:"Marlborough",country:"nz"},{region:"Nelson",country:"nz"},{region:"Northland",country:"nz"},{region:"Otago",country:"nz"},{region:"Southland",country:"nz"},{region:"Taranaki",country:"nz"},{region:"Tasman",country:"nz"},{region:"Waikato",country:"nz"},{region:"Wellington",country:"nz"},{region:"West Coast",country:"nz"},{region:"Madhya Pashchimanchal",country:"np"},{region:"Madhyamanchal",country:"np"},{region:"Pashchimanchal",country:"np"},{region:"Patheka",country:"np"},{region:"Purwanchal",country:"np"},{region:"Sudur Pashchimanchal",country:"np"},{region:"Costa Caribe Sur",country:"ni"},{region:"Departamento de Boaco",country:"ni"},{region:"Departamento de Carazo",country:"ni"},{region:"Departamento de Chinandega",country:"ni"},{region:"Departamento de Chontales",country:"ni"},{region:"Departamento de Esteli",country:"ni"},{region:"Departamento de Granada",country:"ni"},{region:"Departamento de Jinotega",country:"ni"},{region:"Departamento de Leon",country:"ni"},{region:"Departamento de Madriz",country:"ni"},{region:"Departamento de Managua",country:"ni"},{region:"Departamento de Masaya",country:"ni"},{region:"Departamento de Matagalpa",country:"ni"},{region:"Departamento de Nueva Segovia",country:"ni"},{region:"Departamento de Rio San Juan",country:"ni"},{region:"Departamento de Rivas",country:"ni"},{region:"North Atlantic Autonomous Region (RAAN)",country:"ni"},{region:"Agadez",country:"ne"},{region:"Diffa",country:"ne"},{region:"Dosso Region",country:"ne"},{region:"Maradi",country:"ne"},{region:"Niamey",country:"ne"},{region:"Tahoua",country:"ne"},{region:"Tillaberi Region",country:"ne"},{region:"Zinder",country:"ne"},{region:"Alderney",country:"gg"},{region:"Castel",country:"gg"},{region:"Forest",country:"gg"},{region:"Saint Andrew",country:"gg"},{region:"Saint Martin",country:"gg"},{region:"Saint Peter Port",country:"gg"},{region:"Saint Pierre du Bois",country:"gg"},{region:"Saint Sampson",country:"gg"},{region:"Saint Saviour",country:"gg"},{region:"Torteval",country:"gg"},{region:"Vale",country:"gg"},{region:"Northern Islands Municipality",country:"mp"},{region:"Rota Municipality",country:"mp"},{region:"Saipan Municipality",country:"mp"},{region:"Tinian Municipality",country:"mp"},{region:"A'ana",country:"ws"},{region:"Aiga-i-le-Tai",country:"ws"},{region:"Atua",country:"ws"},{region:"Fa'asaleleaga",country:"ws"},{region:"Gaga'emauga",country:"ws"},{region:"Gagaifomauga",country:"ws"},{region:"Palauli",country:"ws"},{region:"Satupa'itea",country:"ws"},{region:"Tuamasaga",country:"ws"},{region:"Va'a-o-Fonoti",country:"ws"},{region:"Vaisigano",country:"ws"},{region:"Grenadines",country:"vc"},{region:"Parish of Charlotte",country:"vc"},{region:"Parish of Saint Andrew",country:"vc"},{region:"Parish of Saint David",country:"vc"},{region:"Parish of Saint George",country:"vc"},{region:"Parish of Saint Patrick",country:"vc"},{region:"Abia State",country:"ng"},{region:"Adamawa State",country:"ng"},{region:"Akwa Ibom State",country:"ng"},{region:"Anambra State",country:"ng"},{region:"Bauchi State",country:"ng"},{region:"Bayelsa State",country:"ng"},{region:"Benue State",country:"ng"},{region:"Borno State",country:"ng"},{region:"Cross River State",country:"ng"},{region:"Delta State",country:"ng"},{region:"Ebonyi State",country:"ng"},{region:"Edo",country:"ng"},{region:"Ekiti State",country:"ng"},{region:"Enugu State",country:"ng"},{region:"Federal Capital Territory",country:"ng"},{region:"Gombe State",country:"ng"},{region:"Imo State",country:"ng"},{region:"Jigawa State",country:"ng"},{region:"Kaduna State",country:"ng"},{region:"Kano State",country:"ng"},{region:"Katsina State",country:"ng"},{region:"Kebbi State",country:"ng"},{region:"Kogi State",country:"ng"},{region:"Kwara State",country:"ng"},{region:"Lagos State",country:"ng"},{region:"Nasarawa State",country:"ng"},{region:"Niger State",country:"ng"},{region:"Ogun State",country:"ng"},{region:"Ondo State",country:"ng"},{region:"Osun State",country:"ng"},{region:"Oyo State",country:"ng"},{region:"Plateau State",country:"ng"},{region:"Rivers State",country:"ng"},{region:"Sokoto State",country:"ng"},{region:"Taraba State",country:"ng"},{region:"Yobe State",country:"ng"},{region:"Zamfara State",country:"ng"},{region:"Principe",country:"st"},{region:"Sao Tome",country:"st"},{region:"Castello di Acquaviva",country:"sm"},{region:"Castello di Borgo Maggiore",country:"sm"},{region:"Castello di Domagnano",country:"sm"},{region:"Castello di Faetano",country:"sm"},{region:"Castello di Fiorentino",country:"sm"},{region:"Castello di Montegiardino",country:"sm"},{region:"Castello di San Marino Citta",country:"sm"},{region:"Chiesanuova",country:"sm"},{region:"Serravalle",country:"sm"},{region:"Akershus fylke",country:"no"},{region:"Aust-Agder fylke",country:"no"},{region:"Buskerud fylke",country:"no"},{region:"Finnmark Fylke",country:"no"},{region:"Hedmark fylke",country:"no"},{region:"Hordaland Fylke",country:"no"},{region:"More og Romsdal fylke",country:"no"},{region:"Nord-Trondelag Fylke",country:"no"},{region:"Nordland Fylke",country:"no"},{region:"Oppland fylke",country:"no"},{region:"Oslo County",country:"no"},{region:"Ostfold fylke",country:"no"},{region:"Rogaland Fylke",country:"no"},{region:"Sogn og Fjordane Fylke",country:"no"},{region:"Sor-Trondelag Fylke",country:"no"},{region:"Telemark fylke",country:"no"},{region:"Troms Fylke",country:"no"},{region:"Vest-Agder Fylke",country:"no"},{region:"Vestfold fylke",country:"no"},{region:"Al Batinah North Governorate",country:"om"},{region:"Al Batinah South Governorate",country:"om"},{region:"Ash Sharqiyah South",country:"om"},{region:"Az Zahirah",country:"om"},{region:"Muhafazat ad Dakhiliyah",country:"om"},{region:"Muhafazat al Buraymi",country:"om"},{region:"Muhafazat al Wusta",country:"om"},{region:"Muhafazat Masqat",country:"om"},{region:"Muhafazat Shamal ash Sharqiyah",country:"om"},{region:"Muhafazat Zufar",country:"om"},{region:"Musandam",country:"om"},{region:"Eastern Cape",country:"za"},{region:"Free State",country:"za"},{region:"Gauteng",country:"za"},{region:"Limpopo",country:"za"},{region:"Mpumalanga",country:"za"},{region:"Province of KwaZulu-Natal",country:"za"},{region:"Province of North West",country:"za"},{region:"Province of Northern Cape",country:"za"},{region:"Western Cape",country:"za"},{region:"Central Province",country:"sb"},{region:"Choiseul",country:"sb"},{region:"Guadalcanal Province",country:"sb"},{region:"Honiara",country:"sb"},{region:"Isabel Province",country:"sb"},{region:"Makira-Ulawa Province",country:"sb"},{region:"Malaita Province",country:"sb"},{region:"Rennell and Bellona",country:"sb"},{region:"Temotu Province",country:"sb"},{region:"Western Province",country:"sb"},{region:"Gobolka Awdal",country:"so"},{region:"Gobolka Bakool",country:"so"},{region:"Gobolka Banaadir",country:"so"},{region:"Gobolka Bari",country:"so"},{region:"Gobolka Bay",country:"so"},{region:"Gobolka Galguduud",country:"so"},{region:"Gobolka Gedo",country:"so"},{region:"Gobolka Hiiraan",country:"so"},{region:"Gobolka Jubbada Dhexe",country:"so"},{region:"Gobolka Jubbada Hoose",country:"so"},{region:"Gobolka Mudug",country:"so"},{region:"Gobolka Nugaal",country:"so"},{region:"Gobolka Sanaag",country:"so"},{region:"Gobolka Shabeellaha Dhexe",country:"so"},{region:"Gobolka Shabeellaha Hoose",country:"so"},{region:"Gobolka Sool",country:"so"},{region:"Gobolka Togdheer",country:"so"},{region:"Gobolka Woqooyi Galbeed",country:"so"},{region:"Central Province",country:"lk"},{region:"Eastern Province",country:"lk"},{region:"North Central Province",country:"lk"},{region:"North Western Province",country:"lk"},{region:"Northern Province",country:"lk"},{region:"Province of Sabaragamuwa",country:"lk"},{region:"Province of Uva",country:"lk"},{region:"Southern Province",country:"lk"},{region:"Western Province",country:"lk"},{region:"Central Region",country:"ug"},{region:"Eastern Region",country:"ug"},{region:"Northern Region",country:"ug"},{region:"Western Region",country:"ug"},{region:"Gafsa Governorate",country:"tn"},{region:"Gouvernorat de Beja",country:"tn"},{region:"Gouvernorat de Ben Arous",country:"tn"},{region:"Gouvernorat de Bizerte",country:"tn"},{region:"Gouvernorat de Gabes",country:"tn"},{region:"Gouvernorat de Jendouba",country:"tn"},{region:"Gouvernorat de Kairouan",country:"tn"},{region:"Gouvernorat de Kasserine",country:"tn"},{region:"Gouvernorat de Kebili",country:"tn"},{region:"Gouvernorat de Kef",country:"tn"},{region:"Gouvernorat de l'Ariana",country:"tn"},{region:"Gouvernorat de Mahdia",country:"tn"},{region:"Gouvernorat de Medenine",country:"tn"},{region:"Gouvernorat de Monastir",country:"tn"},{region:"Gouvernorat de Nabeul",country:"tn"},{region:"Gouvernorat de Sfax",country:"tn"},{region:"Gouvernorat de Sidi Bouzid",country:"tn"},{region:"Gouvernorat de Siliana",country:"tn"},{region:"Gouvernorat de Sousse",country:"tn"},{region:"Gouvernorat de Tozeur",country:"tn"},{region:"Gouvernorat de Tunis",country:"tn"},{region:"Gouvernorat de Zaghouan",country:"tn"},{region:"Manouba",country:"tn"},{region:"Tataouine",country:"tn"},{region:"Ahal",country:"tm"},{region:"Ashgabat",country:"tm"},{region:"Balkan",country:"tm"},{region:"Dasoguz Welayaty",country:"tm"},{region:"Lebap",country:"tm"},{region:"Mary",country:"tm"},{region:"Cherkas'ka Oblast'",country:"ua"},{region:"Chernihivs'ka Oblast'",country:"ua"},{region:"Chernivets'ka Oblast'",country:"ua"},{region:"Dnipropetrovska Oblast'",country:"ua"},{region:"Donets'ka Oblast'",country:"ua"},{region:"Gorod Sevastopol",country:"ua"},{region:"Ivano-Frankivs'ka Oblast'",country:"ua"},{region:"Kharkivs'ka Oblast'",country:"ua"},{region:"Khersons'ka Oblast'",country:"ua"},{region:"Khmel'nyts'ka Oblast'",country:"ua"},{region:"Kirovohrads'ka Oblast'",country:"ua"},{region:"Kyiv Oblast",country:"ua"},{region:"L'vivs'ka Oblast'",country:"ua"},{region:"Luhans'ka Oblast'",country:"ua"},{region:"Misto Kyyiv",country:"ua"},{region:"Mykolayivs'ka Oblast'",country:"ua"},{region:"Odes'ka Oblast'",country:"ua"},{region:"Poltavs'ka Oblast'",country:"ua"},{region:"Republic of Crimea",country:"ua"},{region:"Rivnens'ka Oblast'",country:"ua"},{region:"Sums'ka Oblast'",country:"ua"},{region:"Ternopil's'ka Oblast'",country:"ua"},{region:"Vinnyts'ka Oblast'",country:"ua"},{region:"Volyns'ka Oblast'",country:"ua"},{region:"Zakarpattia Oblast",country:"ua"},{region:"Zaporiz'ka Oblast'",country:"ua"},{region:"Zhytomyrs'ka Oblast'",country:"ua"},{region:"Andalucia",country:"es"},{region:"Aragon",country:"es"},{region:"Canary Islands",country:"es"},{region:"Cantabria",country:"es"},{region:"Castilla y Leon",country:"es"},{region:"Castilla-La Mancha",country:"es"},{region:"Catalunya",country:"es"},{region:"Ceuta",country:"es"},{region:"Comunidad de Madrid",country:"es"},{region:"Comunitat Autonoma de les Illes Balears",country:"es"},{region:"Comunitat Valenciana",country:"es"},{region:"Euskal Autonomia Erkidegoa",country:"es"},{region:"Extremadura",country:"es"},{region:"Galicia",country:"es"},{region:"La Rioja",country:"es"},{region:"Melilla",country:"es"},{region:"Navarra",country:"es"},{region:"Principality of Asturias",country:"es"},{region:"Region de Murcia",country:"es"},{region:"Funafuti",country:"tv"},{region:"Nanumanga",country:"tv"},{region:"Nanumea",country:"tv"},{region:"Niutao",country:"tv"},{region:"Nui",country:"tv"},{region:"Nukufetau",country:"tv"},{region:"Nukulaelae",country:"tv"},{region:"Vaitupu",country:"tv"},{region:"Ankaran",country:"si"},{region:"Beltinci",country:"si"},{region:"Benedikt",country:"si"},{region:"Bistrica ob Sotli",country:"si"},{region:"Bloke",country:"si"},{region:"Bohinj",country:"si"},{region:"Borovnica",country:"si"},{region:"Brda",country:"si"},{region:"Brezovica",country:"si"},{region:"Cankova",country:"si"},{region:"Celje",country:"si"},{region:"Cerklje na Gorenjskem",country:"si"},{region:"Cerknica",country:"si"},{region:"Cerkno",country:"si"},{region:"Cerkvenjak",country:"si"},{region:"Cirkulane",country:"si"},{region:"Destrnik",country:"si"},{region:"Dobje",country:"si"},{region:"Dobrepolje",country:"si"},{region:"Dobrna",country:"si"},{region:"Dobrova-Polhov Gradec",country:"si"},{region:"Dobrovnik",country:"si"},{region:"Dol pri Ljubljani",country:"si"},{region:"Dolenjske Toplice",country:"si"},{region:"Dornava",country:"si"},{region:"Dravograd",country:"si"},{region:"Duplek",country:"si"},{region:"Gorenja Vas-Poljane",country:"si"},{region:"Gorje",country:"si"},{region:"Gornja Radgona",country:"si"},{region:"Gornji Grad",country:"si"},{region:"Gornji Petrovci",country:"si"},{region:"Grad",country:"si"},{region:"Grosuplje",country:"si"},{region:"Hajdina",country:"si"},{region:"Hodos",country:"si"},{region:"Horjul",country:"si"},{region:"Hrastnik",country:"si"},{region:"Hrpelje-Kozina",country:"si"},{region:"Idrija",country:"si"},{region:"Ig",country:"si"},{region:"Ilirska Bistrica",country:"si"},{region:"Izola",country:"si"},{region:"Jesenice",country:"si"},{region:"Jezersko",country:"si"},{region:"Kamnik",country:"si"},{region:"Kanal",country:"si"},{region:"Kobilje",country:"si"},{region:"Komen",country:"si"},{region:"Komenda",country:"si"},{region:"Koper",country:"si"},{region:"Kostanjevica na Krki",country:"si"},{region:"Kostel",country:"si"},{region:"Kozje",country:"si"},{region:"Kranj",country:"si"},{region:"Kranjska Gora",country:"si"},{region:"Kungota",country:"si"},{region:"Kuzma",country:"si"},{region:"Lenart",country:"si"},{region:"Lendava",country:"si"},{region:"Litija",country:"si"},{region:"Ljubno",country:"si"},{region:"Ljutomer",country:"si"},{region:"Log-Dragomer",country:"si"},{region:"Logatec",country:"si"},{region:"Lovrenc na Pohorju",country:"si"},{region:"Lukovica",country:"si"},{region:"Makole",country:"si"},{region:"Maribor",country:"si"},{region:"Markovci",country:"si"},{region:"Medvode",country:"si"},{region:"Mestna Obcina Ljubljana",country:"si"},{region:"Mestna Obcina Novo mesto",country:"si"},{region:"Metlika",country:"si"},{region:"Miren-Kostanjevica",country:"si"},{region:"Mirna",country:"si"},{region:"Mislinja",country:"si"},{region:"Mokronog-Trebelno",country:"si"},{region:"Moravske Toplice",country:"si"},{region:"Mozirje",country:"si"},{region:"Murska Sobota",country:"si"},{region:"Muta",country:"si"},{region:"Naklo",country:"si"},{region:"Nazarje",country:"si"},{region:"Nova Gorica",country:"si"},{region:"Obcina Ajdovscina",country:"si"},{region:"Obcina Apace",country:"si"},{region:"Obcina Bled",country:"si"},{region:"Obcina Bovec",country:"si"},{region:"Obcina Braslovce",country:"si"},{region:"Obcina Brezice",country:"si"},{region:"Obcina Crensovci",country:"si"},{region:"Obcina Crna na Koroskem",country:"si"},{region:"Obcina Crnomelj",country:"si"},{region:"Obcina Divaca",country:"si"},{region:"Obcina Domzale",country:"si"},{region:"Obcina Gorisnica",country:"si"},{region:"Obcina Hoce-Slivnica",country:"si"},{region:"Obcina Ivancna Gorica",country:"si"},{region:"Obcina Jursinci",country:"si"},{region:"Obcina Kidricevo",country:"si"},{region:"Obcina Kobarid",country:"si"},{region:"Obcina Kocevje",country:"si"},{region:"Obcina Krizevci",country:"si"},{region:"Obcina Krsko",country:"si"},{region:"Obcina Lasko",country:"si"},{region:"Obcina Loska Dolina",country:"si"},{region:"Obcina Loski Potok",country:"si"},{region:"Obcina Luce",country:"si"},{region:"Obcina Majsperk",country:"si"},{region:"Obcina Menges",country:"si"},{region:"Obcina Mezica",country:"si"},{region:"Obcina Miklavz na Dravskem Polju",country:"si"},{region:"Obcina Mirna Pec",country:"si"},{region:"Obcina Moravce",country:"si"},{region:"Obcina Ormoz",country:"si"},{region:"Obcina Podcetrtek",country:"si"},{region:"Obcina Poljcane",country:"si"},{region:"Obcina Race-Fram",country:"si"},{region:"Obcina Radece",country:"si"},{region:"Obcina Ravne na Koroskem",country:"si"},{region:"Obcina Razkrizje",country:"si"},{region:"Obcina Recica ob Savinji",country:"si"},{region:"Obcina Rence-Vogrsko",country:"si"},{region:"Obcina Rogaska Slatina",country:"si"},{region:"Obcina Rogasovci",country:"si"},{region:"Obcina Ruse",country:"si"},{region:"Obcina Salovci",country:"si"},{region:"Obcina Semic",country:"si"},{region:"Obcina Sempeter-Vrtojba",country:"si"},{region:"Obcina Sencur",country:"si"},{region:"Obcina Sentilj",country:"si"},{region:"Obcina Sentjernej",country:"si"},{region:"Obcina Sentjur",country:"si"},{region:"Obcina Sentrupert",country:"si"},{region:"Obcina Sezana",country:"si"},{region:"Obcina Skocjan",country:"si"},{region:"Obcina Skofja Loka",country:"si"},{region:"Obcina Skofljica",country:"si"},{region:"Obcina Smarje pri Jelsah",country:"si"},{region:"Obcina Smarjeske Toplice",country:"si"},{region:"Obcina Smartno ob Paki",country:"si"},{region:"Obcina Smartno pri Litiji",country:"si"},{region:"Obcina Sodrazica",country:"si"},{region:"Obcina Solcava",country:"si"},{region:"Obcina Sostanj",country:"si"},{region:"Obcina Sredisce ob Dravi",country:"si"},{region:"Obcina Starse",country:"si"},{region:"Obcina Store",country:"si"},{region:"Obcina Straza",country:"si"},{region:"Obcina Sveti Andraz v Slovenskih Goricah",country:"si"},{region:"Obcina Sveti Jurij ob Scavnici",country:"si"},{region:"Obcina Sveti Tomaz",country:"si"},{region:"Obcina Tisina",country:"si"},{region:"Obcina Tolmin",country:"si"},{region:"Obcina Trnovska vas",country:"si"},{region:"Obcina Trzic",country:"si"},{region:"Obcina Turnisce",country:"si"},{region:"Obcina Velike Lasce",country:"si"},{region:"Obcina Verzej",country:"si"},{region:"Obcina Zalec",country:"si"},{region:"Obcina Zavrc",country:"si"},{region:"Obcina Zelezniki",country:"si"},{region:"Obcina Zetale",country:"si"},{region:"Obcina Ziri",country:"si"},{region:"Obcina Zirovnica",country:"si"},{region:"Obcina Zrece",country:"si"},{region:"Obcina Zuzemberk",country:"si"},{region:"Odranci",country:"si"},{region:"Oplotnica",country:"si"},{region:"Osilnica",country:"si"},{region:"Pesnica",country:"si"},{region:"Piran",country:"si"},{region:"Pivka",country:"si"},{region:"Podlehnik",country:"si"},{region:"Podvelka",country:"si"},{region:"Polzela",country:"si"},{region:"Postojna",country:"si"},{region:"Prebold",country:"si"},{region:"Preddvor",country:"si"},{region:"Prevalje",country:"si"},{region:"Ptuj",country:"si"},{region:"Puconci",country:"si"},{region:"Radenci",country:"si"},{region:"Radlje ob Dravi",country:"si"},{region:"Radovljica",country:"si"},{region:"Ribnica",country:"si"},{region:"Ribnica na Pohorju",country:"si"},{region:"Rogatec",country:"si"},{region:"Selnica ob Dravi",country:"si"},{region:"Sevnica",country:"si"},{region:"Slovenj Gradec",country:"si"},{region:"Slovenska Bistrica",country:"si"},{region:"Slovenske Konjice",country:"si"},{region:"Sveta Ana",country:"si"},{region:"Sveta Trojica v Slovenskih Goricah",country:"si"},{region:"Sveti Jurij v Slovenskih Goricah",country:"si"},{region:"Tabor",country:"si"},{region:"Trbovlje",country:"si"},{region:"Trebnje",country:"si"},{region:"Trzin",country:"si"},{region:"Velenje",country:"si"},{region:"Velika Polana",country:"si"},{region:"Videm",country:"si"},{region:"Vipava",country:"si"},{region:"Vitanje",country:"si"},{region:"Vodice",country:"si"},{region:"Vojnik",country:"si"},{region:"Vransko",country:"si"},{region:"Vrhnika",country:"si"},{region:"Vuzenica",country:"si"},{region:"Zagorje ob Savi",country:"si"},{region:"Amazonas",country:"pe"},{region:"Ancash",country:"pe"},{region:"Apurimac",country:"pe"},{region:"Arequipa",country:"pe"},{region:"Ayacucho",country:"pe"},{region:"Cajamarca",country:"pe"},{region:"Callao",country:"pe"},{region:"Cusco",country:"pe"},{region:"Departamento de Moquegua",country:"pe"},{region:"Huancavelica",country:"pe"},{region:"Ica",country:"pe"},{region:"Junin",country:"pe"},{region:"La Libertad",country:"pe"},{region:"Lambayeque",country:"pe"},{region:"Lima",country:"pe"},{region:"Loreto",country:"pe"},{region:"Madre de Dios",country:"pe"},{region:"Pasco",country:"pe"},{region:"Piura",country:"pe"},{region:"Provincia de Lima",country:"pe"},{region:"Puno",country:"pe"},{region:"Region de Huanuco",country:"pe"},{region:"Region de San Martin",country:"pe"},{region:"Tacna",country:"pe"},{region:"Tumbes",country:"pe"},{region:"Ucayali",country:"pe"},{region:"Adana",country:"tr"},{region:"Adiyaman",country:"tr"},{region:"Afyonkarahisar",country:"tr"},{region:"Agri",country:"tr"},{region:"Aksaray",country:"tr"},{region:"Amasya",country:"tr"},{region:"Ankara",country:"tr"},{region:"Antalya",country:"tr"},{region:"Ardahan",country:"tr"},{region:"Artvin",country:"tr"},{region:"Aydin",country:"tr"},{region:"Balikesir",country:"tr"},{region:"Bartin",country:"tr"},{region:"Batman",country:"tr"},{region:"Bayburt",country:"tr"},{region:"Bilecik",country:"tr"},{region:"Bingoel",country:"tr"},{region:"Bitlis",country:"tr"},{region:"Bolu",country:"tr"},{region:"Burdur",country:"tr"},{region:"Bursa",country:"tr"},{region:"Canakkale",country:"tr"},{region:"Cankiri",country:"tr"},{region:"Corum",country:"tr"},{region:"Denizli",country:"tr"},{region:"Diyarbakir",country:"tr"},{region:"Duezce",country:"tr"},{region:"Edirne",country:"tr"},{region:"Elazig",country:"tr"},{region:"Erzincan",country:"tr"},{region:"Erzurum",country:"tr"},{region:"Eskisehir",country:"tr"},{region:"Gaziantep",country:"tr"},{region:"Giresun",country:"tr"},{region:"Guemueshane",country:"tr"},{region:"Hakkari",country:"tr"},{region:"Hatay",country:"tr"},{region:"Igdir",country:"tr"},{region:"Isparta",country:"tr"},{region:"Istanbul",country:"tr"},{region:"Izmir",country:"tr"},{region:"Kahramanmaras",country:"tr"},{region:"Karabuek",country:"tr"},{region:"Karaman",country:"tr"},{region:"Kars",country:"tr"},{region:"Kastamonu",country:"tr"},{region:"Kayseri",country:"tr"},{region:"Kilis",country:"tr"},{region:"Kirikkale",country:"tr"},{region:"Kirklareli",country:"tr"},{region:"Kirsehir",country:"tr"},{region:"Kocaeli",country:"tr"},{region:"Konya",country:"tr"},{region:"Kuetahya",country:"tr"},{region:"Malatya",country:"tr"},{region:"Manisa",country:"tr"},{region:"Mardin",country:"tr"},{region:"Mersin",country:"tr"},{region:"Mugla",country:"tr"},{region:"Mus",country:"tr"},{region:"Nevsehir",country:"tr"},{region:"Nigde",country:"tr"},{region:"Ordu",country:"tr"},{region:"Osmaniye",country:"tr"},{region:"Rize",country:"tr"},{region:"Sakarya",country:"tr"},{region:"Samsun",country:"tr"},{region:"Sanliurfa",country:"tr"},{region:"Siirt",country:"tr"},{region:"Sinop",country:"tr"},{region:"Sirnak",country:"tr"},{region:"Sivas",country:"tr"},{region:"Tekirdag",country:"tr"},{region:"Tokat",country:"tr"},{region:"Trabzon",country:"tr"},{region:"Tunceli",country:"tr"},{region:"Usak",country:"tr"},{region:"Van",country:"tr"},{region:"Yalova",country:"tr"},{region:"Yozgat",country:"tr"},{region:"Zonguldak",country:"tr"},{region:"Autonomous Region in Muslim Mindanao",country:"ph"},{region:"Bicol",country:"ph"},{region:"Cagayan Valley",country:"ph"},{region:"Calabarzon",country:"ph"},{region:"Caraga",country:"ph"},{region:"Central Luzon",country:"ph"},{region:"Central Visayas",country:"ph"},{region:"Cordillera Administrative Region",country:"ph"},{region:"Davao",country:"ph"},{region:"Eastern Visayas",country:"ph"},{region:"Ilocos",country:"ph"},{region:"Mimaropa",country:"ph"},{region:"National Capital Region",country:"ph"},{region:"Negros Island Region",country:"ph"},{region:"Northern Mindanao",country:"ph"},{region:"Soccsksargen",country:"ph"},{region:"Western Visayas",country:"ph"},{region:"Zamboanga Peninsula",country:"ph"},{region:"Wojewodztwo Dolnoslaskie",country:"pl"},{region:"Wojewodztwo Kujawsko-Pomorskie",country:"pl"},{region:"Wojewodztwo Lodzkie",country:"pl"},{region:"Wojewodztwo Lubelskie",country:"pl"},{region:"Wojewodztwo Lubuskie",country:"pl"},{region:"Wojewodztwo Malopolskie",country:"pl"},{region:"Wojewodztwo Mazowieckie",country:"pl"},{region:"Wojewodztwo Opolskie",country:"pl"},{region:"Wojewodztwo Podkarpackie",country:"pl"},{region:"Wojewodztwo Podlaskie",country:"pl"},{region:"Wojewodztwo Pomorskie",country:"pl"},{region:"Wojewodztwo Slaskie",country:"pl"},{region:"Wojewodztwo Swietokrzyskie",country:"pl"},{region:"Wojewodztwo Warminsko-Mazurskie",country:"pl"},{region:"Wojewodztwo Wielkopolskie",country:"pl"},{region:"Wojewodztwo Zachodniopomorskie",country:"pl"},{region:"Ascension",country:"sh"},{region:"Saint Helena",country:"sh"},{region:"Tristan da Cunha",country:"sh"},{region:"Al Jawf",country:"sa"},{region:"Al Madinah al Munawwarah",country:"sa"},{region:"Al Mintaqah ash Sharqiyah",country:"sa"},{region:"Al-Qassim Province",country:"sa"},{region:"Hai'l Region",country:"sa"},{region:"Jizan Region",country:"sa"},{region:"Makkah Province",country:"sa"},{region:"Mintaqat 'Asir",country:"sa"},{region:"Mintaqat al Bahah",country:"sa"},{region:"Mintaqat al Hudud ash Shamaliyah",country:"sa"},{region:"Mintaqat ar Riyad",country:"sa"},{region:"Mintaqat Najran",country:"sa"},{region:"Mintaqat Tabuk",country:"sa"},{region:"Christ Church Nichola Town",country:"kn"},{region:"Saint Anne Sandy Point",country:"kn"},{region:"Saint George Basseterre",country:"kn"},{region:"Saint George Gingerland",country:"kn"},{region:"Saint James Windward",country:"kn"},{region:"Saint John Capesterre",country:"kn"},{region:"Saint John Figtree",country:"kn"},{region:"Saint Mary Cayon",country:"kn"},{region:"Saint Paul Capesterre",country:"kn"},{region:"Saint Paul Charlestown",country:"kn"},{region:"Saint Peter Basseterre",country:"kn"},{region:"Saint Thomas Lowland",country:"kn"},{region:"Saint Thomas Middle Island",country:"kn"},{region:"Trinity Palmetto Point",country:"kn"},{region:"Azores",country:"pt"},{region:"Distrito da Guarda",country:"pt"},{region:"Distrito de Aveiro",country:"pt"},{region:"Distrito de Beja",country:"pt"},{region:"Distrito de Braga",country:"pt"},{region:"Distrito de Braganca",country:"pt"},{region:"Distrito de Castelo Branco",country:"pt"},{region:"Distrito de Coimbra",country:"pt"},{region:"Distrito de Evora",country:"pt"},{region:"Distrito de Faro",country:"pt"},{region:"Distrito de Leiria",country:"pt"},{region:"Distrito de Lisboa",country:"pt"},{region:"Distrito de Portalegre",country:"pt"},{region:"Distrito de Santarem",country:"pt"},{region:"Distrito de Setubal",country:"pt"},{region:"Distrito de Viana do Castelo",country:"pt"},{region:"Distrito de Vila Real",country:"pt"},{region:"Distrito de Viseu",country:"pt"},{region:"Distrito do Porto",country:"pt"},{region:"Madeira",country:"pt"},{region:"Al Wakrah",country:"qa"},{region:"Baladiyat ad Dawhah",country:"qa"},{region:"Baladiyat al Khawr wa adh Dhakhirah",country:"qa"},{region:"Baladiyat ar Rayyan",country:"qa"},{region:"Baladiyat ash Shamal",country:"qa"},{region:"Baladiyat az Za'ayin",country:"qa"},{region:"Baladiyat Umm Salal",country:"qa"},{region:"Commune de Saint-Pierre",country:"pm"},{region:"Miquelon-Langlade",country:"pm"},{region:"Anse-la-Raye",country:"lc"},{region:"Canaries",country:"lc"},{region:"Castries",country:"lc"},{region:"Choiseul",country:"lc"},{region:"Dennery",country:"lc"},{region:"Gros-Islet",country:"lc"},{region:"Laborie",country:"lc"},{region:"Micoud",country:"lc"},{region:"Soufriere",country:"lc"},{region:"Vieux-Fort",country:"lc"},{region:"Eastern Province",country:"sl"},{region:"Northern Province",country:"sl"},{region:"Southern Province",country:"sl"},{region:"Western Area",country:"sl"},{region:"Anse aux Pins",country:"sc"},{region:"Anse Boileau",country:"sc"},{region:"Anse Etoile",country:"sc"},{region:"Anse Royale",country:"sc"},{region:"Au Cap",country:"sc"},{region:"Baie Lazare",country:"sc"},{region:"Baie Sainte Anne",country:"sc"},{region:"Beau Vallon",country:"sc"},{region:"Bel Air",country:"sc"},{region:"Bel Ombre",country:"sc"},{region:"Cascade",country:"sc"},{region:"English River",country:"sc"},{region:"Glacis",country:"sc"},{region:"Grand Anse Mahe",country:"sc"},{region:"Grand Anse Praslin",country:"sc"},{region:"Inner Islands",country:"sc"},{region:"Les Mamelles",country:"sc"},{region:"Mont Buxton",country:"sc"},{region:"Mont Fleuri",country:"sc"},{region:"Plaisance",country:"sc"},{region:"Pointe Larue",country:"sc"},{region:"Port Glaud",country:"sc"},{region:"Roche Caiman",country:"sc"},{region:"Saint Louis",country:"sc"},{region:"Takamaka",country:"sc"},{region:"Dakar",country:"sn"},{region:"Diourbel",country:"sn"},{region:"Fatick",country:"sn"},{region:"Kaolack",country:"sn"},{region:"Kolda",country:"sn"},{region:"Louga",country:"sn"},{region:"Matam",country:"sn"},{region:"Region de Kaffrine",country:"sn"},{region:"Region de Kedougou",country:"sn"},{region:"Region de Sedhiou",country:"sn"},{region:"Region de Thies",country:"sn"},{region:"Saint-Louis",country:"sn"},{region:"Tambacounda",country:"sn"},{region:"Ziguinchor",country:"sn"},{region:"Asuncion",country:"py"},{region:"Departamento Central",country:"py"},{region:"Departamento de Alto Paraguay",country:"py"},{region:"Departamento de Boqueron",country:"py"},{region:"Departamento de Caaguazu",country:"py"},{region:"Departamento de Caazapa",country:"py"},{region:"Departamento de Canindeyu",country:"py"},{region:"Departamento de Concepcion",country:"py"},{region:"Departamento de Itapua",country:"py"},{region:"Departamento de la Cordillera",country:"py"},{region:"Departamento de Misiones",country:"py"},{region:"Departamento de Neembucu",country:"py"},{region:"Departamento de Paraguari",country:"py"},{region:"Departamento de Presidente Hayes",country:"py"},{region:"Departamento de San Pedro",country:"py"},{region:"Departamento del Alto Parana",country:"py"},{region:"Departamento del Amambay",country:"py"},{region:"Departamento del Guaira",country:"py"},{region:"Bougainville",country:"pg"},{region:"Central Province",country:"pg"},{region:"Chimbu Province",country:"pg"},{region:"East New Britain Province",country:"pg"},{region:"East Sepik Province",country:"pg"},{region:"Eastern Highlands Province",country:"pg"},{region:"Enga Province",country:"pg"},{region:"Gulf Province",country:"pg"},{region:"Hela",country:"pg"},{region:"Jiwaka",country:"pg"},{region:"Madang Province",country:"pg"},{region:"Manus Province",country:"pg"},{region:"Milne Bay Province",country:"pg"},{region:"Morobe Province",country:"pg"},{region:"National Capital District",country:"pg"},{region:"New Ireland Province",country:"pg"},{region:"Northern Province",country:"pg"},{region:"Southern Highlands Province",country:"pg"},{region:"West New Britain Province",country:"pg"},{region:"West Sepik Province",country:"pg"},{region:"Western Highlands Province",country:"pg"},{region:"Western Province",country:"pg"},{region:"Reunion",country:"re"},{region:"Altayskiy Kray",country:"ru"},{region:"Amurskaya Oblast'",country:"ru"},{region:"Arkhangel'skaya Oblast'",country:"ru"},{region:"Astrakhanskaya Oblast'",country:"ru"},{region:"Bashkortostan",country:"ru"},{region:"Belgorodskaya Oblast'",country:"ru"},{region:"Bryanskaya Oblast'",country:"ru"},{region:"Chechenskaya Respublika",country:"ru"},{region:"Chelyabinskaya Oblast'",country:"ru"},{region:"Chukotskiy Avtonomnyy Okrug",country:"ru"},{region:"Chuvashskaya Respublika",country:"ru"},{region:"Dagestan",country:"ru"},{region:"Irkutskaya Oblast'",country:"ru"},{region:"Ivanovskaya Oblast'",country:"ru"},{region:"Kabardino-Balkarskaya Respublika",country:"ru"},{region:"Kaliningradskaya Oblast'",country:"ru"},{region:"Kalmykiya",country:"ru"},{region:"Kaluzhskaya Oblast'",country:"ru"},{region:"Kamtchatski Kray",country:"ru"},{region:"Karachayevo-Cherkesiya",country:"ru"},{region:"Kemerovskaya Oblast'",country:"ru"},{region:"Khabarovskiy Kray",country:"ru"},{region:"Khanty-Mansiyskiy Avtonomnyy Okrug-Yugra",country:"ru"},{region:"Kirovskaya Oblast'",country:"ru"},{region:"Komi",country:"ru"},{region:"Kostromskaya Oblast'",country:"ru"},{region:"Krasnodarskiy Kray",country:"ru"},{region:"Krasnoyarskiy Kray",country:"ru"},{region:"Kurganskaya Oblast'",country:"ru"},{region:"Kurskaya Oblast'",country:"ru"},{region:"Leningradskaya Oblast'",country:"ru"},{region:"Lipetskaya Oblast'",country:"ru"},{region:"Magadanskaya Oblast'",country:"ru"},{region:"Moscow Oblast",country:"ru"},{region:"Moskva",country:"ru"},{region:"Murmanskaya Oblast'",country:"ru"},{region:"Nenetskiy Avtonomnyy Okrug",country:"ru"},{region:"Nizhegorodskaya Oblast'",country:"ru"},{region:"North Ossetia",country:"ru"},{region:"Novgorodskaya Oblast'",country:"ru"},{region:"Novosibirskaya Oblast'",country:"ru"},{region:"Omskaya Oblast'",country:"ru"},{region:"Orenburgskaya Oblast'",country:"ru"},{region:"Orlovskaya Oblast'",country:"ru"},{region:"Penzenskaya Oblast'",country:"ru"},{region:"Perm Krai",country:"ru"},{region:"Primorskiy Kray",country:"ru"},{region:"Pskovskaya Oblast'",country:"ru"},{region:"Respublika Adygeya",country:"ru"},{region:"Respublika Altay",country:"ru"},{region:"Respublika Buryatiya",country:"ru"},{region:"Respublika Ingushetiya",country:"ru"},{region:"Respublika Kareliya",country:"ru"},{region:"Respublika Khakasiya",country:"ru"},{region:"Respublika Mariy-El",country:"ru"},{region:"Respublika Mordoviya",country:"ru"},{region:"Respublika Sakha (Yakutiya)",country:"ru"},{region:"Respublika Tyva",country:"ru"},{region:"Rostovskaya Oblast'",country:"ru"},{region:"Ryazanskaya Oblast'",country:"ru"},{region:"Sakhalinskaya Oblast'",country:"ru"},{region:"Samarskaya Oblast'",country:"ru"},{region:"Sankt-Peterburg",country:"ru"},{region:"Saratovskaya Oblast'",country:"ru"},{region:"Smolenskaya Oblast'",country:"ru"},{region:"Stavropol'skiy Kray",country:"ru"},{region:"Sverdlovskaya Oblast'",country:"ru"},{region:"Tambovskaya Oblast'",country:"ru"},{region:"Tatarstan",country:"ru"},{region:"Tomskaya Oblast'",country:"ru"},{region:"Tul'skaya Oblast'",country:"ru"},{region:"Tverskaya Oblast'",country:"ru"},{region:"Tyumenskaya Oblast'",country:"ru"},{region:"Udmurtskaya Respublika",country:"ru"},{region:"Ulyanovsk Oblast",country:"ru"},{region:"Vladimirskaya Oblast'",country:"ru"},{region:"Volgogradskaya Oblast'",country:"ru"},{region:"Vologodskaya Oblast'",country:"ru"},{region:"Voronezhskaya Oblast'",country:"ru"},{region:"Yamalo-Nenetskiy Avtonomnyy Okrug",country:"ru"},{region:"Yaroslavskaya Oblast'",country:"ru"},{region:"Yevreyskaya Avtonomnaya Oblast'",country:"ru"},{region:"Zabaykal'skiy Kray",country:"ru"},{region:"Arad",country:"ro"},{region:"Bihor",country:"ro"},{region:"Bucuresti",country:"ro"},{region:"Constanta",country:"ro"},{region:"Covasna",country:"ro"},{region:"Dolj",country:"ro"},{region:"Giurgiu",country:"ro"},{region:"Gorj",country:"ro"},{region:"Harghita",country:"ro"},{region:"Hunedoara",country:"ro"},{region:"Ilfov",country:"ro"},{region:"Judetul Alba",country:"ro"},{region:"Judetul Arges",country:"ro"},{region:"Judetul Bacau",country:"ro"},{region:"Judetul Bistrita-Nasaud",country:"ro"},{region:"Judetul Botosani",country:"ro"},{region:"Judetul Braila",country:"ro"},{region:"Judetul Brasov",country:"ro"},{region:"Judetul Buzau",country:"ro"},{region:"Judetul Calarasi",country:"ro"},{region:"Judetul Caras-Severin",country:"ro"},{region:"Judetul Cluj",country:"ro"},{region:"Judetul Dambovita",country:"ro"},{region:"Judetul Galati",country:"ro"},{region:"Judetul Ialomita",country:"ro"},{region:"Judetul Iasi",country:"ro"},{region:"Judetul Maramures",country:"ro"},{region:"Judetul Mehedinti",country:"ro"},{region:"Judetul Mures",country:"ro"},{region:"Judetul Neamt",country:"ro"},{region:"Judetul Salaj",country:"ro"},{region:"Judetul Sibiu",country:"ro"},{region:"Judetul Timis",country:"ro"},{region:"Judetul Valcea",country:"ro"},{region:"Olt",country:"ro"},{region:"Prahova",country:"ro"},{region:"Satu Mare",country:"ro"},{region:"Suceava",country:"ro"},{region:"Teleorman",country:"ro"},{region:"Tulcea",country:"ro"},{region:"Vaslui",country:"ro"},{region:"Vrancea",country:"ro"},{region:"Eastern Province",country:"rw"},{region:"Kigali Province",country:"rw"},{region:"Northern Province",country:"rw"},{region:"Southern Province",country:"rw"},{region:"Western Province",country:"rw"},{region:"Banska Bystrica",country:"sk"},{region:"Bratislava",country:"sk"},{region:"Kosice",country:"sk"},{region:"Nitra",country:"sk"},{region:"Presov",country:"sk"},{region:"Trencin",country:"sk"},{region:"Trnava",country:"sk"},{region:"Zilina",country:"sk"},{region:"Central Singapore Community Development Council",country:"sg"},{region:"North East Community Development Region",country:"sg"},{region:"North West Community Development Council",country:"sg"},{region:"South East Community Development Council",country:"sg"},{region:"South West Community Development Council",country:"sg"},{region:"Jan Mayen",country:"sj"},{region:"Svalbard",country:"sj"},{region:"Hhohho District",country:"sz"},{region:"Lubombo District",country:"sz"},{region:"Manzini District",country:"sz"},{region:"Shiselweni District",country:"sz"},{region:"Blekinge",country:"se"},{region:"Dalarna",country:"se"},{region:"Gaevleborgs laen",country:"se"},{region:"Gotland",country:"se"},{region:"Halland",country:"se"},{region:"Jaemtlands laen",country:"se"},{region:"Joenkoepings laen",country:"se"},{region:"Kalmar",country:"se"},{region:"Kronoberg",country:"se"},{region:"Norrbotten",country:"se"},{region:"OErebro laen",country:"se"},{region:"OEstergoetlands laen",country:"se"},{region:"Skane laen",country:"se"},{region:"Soedermanlands laen",country:"se"},{region:"Stockholm",country:"se"},{region:"Uppsala",country:"se"},{region:"Vaermlands laen",country:"se"},{region:"Vaesterbottens laen",country:"se"},{region:"Vaesternorrlands laen",country:"se"},{region:"Vaestmanlands laen",country:"se"},{region:"Vaestra Goetalands laen",country:"se"},{region:"Canton de Berne",country:"ch"},{region:"Canton de Fribourg",country:"ch"},{region:"Canton de Vaud",country:"ch"},{region:"Canton du Valais",country:"ch"},{region:"Geneve",country:"ch"},{region:"Jura",country:"ch"},{region:"Kanton Aargau",country:"ch"},{region:"Kanton Appenzell Ausserrhoden",country:"ch"},{region:"Kanton Appenzell Innerrhoden",country:"ch"},{region:"Kanton Basel-Landschaft",country:"ch"},{region:"Kanton Basel-Stadt",country:"ch"},{region:"Kanton Glarus",country:"ch"},{region:"Kanton Graubunden",country:"ch"},{region:"Kanton Luzern",country:"ch"},{region:"Kanton Nidwalden",country:"ch"},{region:"Kanton Obwalden",country:"ch"},{region:"Kanton Schaffhausen",country:"ch"},{region:"Kanton Schwyz",country:"ch"},{region:"Kanton Solothurn",country:"ch"},{region:"Kanton St. Gallen",country:"ch"},{region:"Kanton Thurgau",country:"ch"},{region:"Kanton Uri",country:"ch"},{region:"Kanton Zug",country:"ch"},{region:"Kanton Zurich",country:"ch"},{region:"Neuchatel",country:"ch"},{region:"Ticino",country:"ch"},{region:"Distrikt Brokopondo",country:"sr"},{region:"Distrikt Commewijne",country:"sr"},{region:"Distrikt Coronie",country:"sr"},{region:"Distrikt Marowijne",country:"sr"},{region:"Distrikt Nickerie",country:"sr"},{region:"Distrikt Para",country:"sr"},{region:"Distrikt Paramaribo",country:"sr"},{region:"Distrikt Saramacca",country:"sr"},{region:"Distrikt Sipaliwini",country:"sr"},{region:"Distrikt Wanica",country:"sr"},{region:"Al Jazirah State",country:"sd"},{region:"Al Qadarif State",country:"sd"},{region:"Blue Nile",country:"sd"},{region:"Central Darfur State",country:"sd"},{region:"East Darfur",country:"sd"},{region:"Kassala State",country:"sd"},{region:"Khartoum",country:"sd"},{region:"North Darfur",country:"sd"},{region:"North Kordofan",country:"sd"},{region:"Northern",country:"sd"},{region:"Red Sea",country:"sd"},{region:"River Nile",country:"sd"},{region:"Sennar",country:"sd"},{region:"South Darfur",country:"sd"},{region:"South Kordofan",country:"sd"},{region:"West Darfur",country:"sd"},{region:"West Kordofan State",country:"sd"},{region:"White Nile",country:"sd"},{region:"Alabama",country:"us"},{region:"Alaska",country:"us"},{region:"Arizona",country:"us"},{region:"Arkansas",country:"us"},{region:"California",country:"us"},{region:"Colorado",country:"us"},{region:"Connecticut",country:"us"},{region:"Delaware",country:"us"},{region:"District of Columbia",country:"us"},{region:"Florida",country:"us"},{region:"Georgia",country:"us"},{region:"Hawaii",country:"us"},{region:"Idaho",country:"us"},{region:"Illinois",country:"us"},{region:"Indiana",country:"us"},{region:"Iowa",country:"us"},{region:"Kansas",country:"us"},{region:"Kentucky",country:"us"},{region:"Louisiana",country:"us"},{region:"Maine",country:"us"},{region:"Maryland",country:"us"},{region:"Massachusetts",country:"us"},{region:"Michigan",country:"us"},{region:"Minnesota",country:"us"},{region:"Mississippi",country:"us"},{region:"Missouri",country:"us"},{region:"Montana",country:"us"},{region:"Nebraska",country:"us"},{region:"Nevada",country:"us"},{region:"New Hampshire",country:"us"},{region:"New Jersey",country:"us"},{region:"New Mexico",country:"us"},{region:"New York",country:"us"},{region:"North Carolina",country:"us"},{region:"North Dakota",country:"us"},{region:"Ohio",country:"us"},{region:"Oklahoma",country:"us"},{region:"Oregon",country:"us"},{region:"Pennsylvania",country:"us"},{region:"Rhode Island",country:"us"},{region:"South Carolina",country:"us"},{region:"South Dakota",country:"us"},{region:"Tennessee",country:"us"},{region:"Texas",country:"us"},{region:"Utah",country:"us"},{region:"Vermont",country:"us"},{region:"Virginia",country:"us"},{region:"Washington",country:"us"},{region:"West Virginia",country:"us"},{region:"Wisconsin",country:"us"},{region:"Wyoming",country:"us"},{region:"Districts of Republican Subordination",country:"tj"},{region:"Dushanbe",country:"tj"},{region:"Viloyati Khatlon",country:"tj"},{region:"Viloyati Mukhtori Kuhistoni Badakhshon",country:"tj"},{region:"Viloyati Sughd",country:"tj"},{region:"Arusha Region",country:"tz"},{region:"Coast Region",country:"tz"},{region:"Dar es Salaam Region",country:"tz"},{region:"Dodoma Region",country:"tz"},{region:"Geita Region",country:"tz"},{region:"Iringa Region",country:"tz"},{region:"Kagera Region",country:"tz"},{region:"Katavi Region",country:"tz"},{region:"Kigoma Region",country:"tz"},{region:"Kilimanjaro Region",country:"tz"},{region:"Lindi Region",country:"tz"},{region:"Manyara Region",country:"tz"},{region:"Mara Region",country:"tz"},{region:"Mbeya Region",country:"tz"},{region:"Morogoro Region",country:"tz"},{region:"Mtwara Region",country:"tz"},{region:"Mwanza Region",country:"tz"},{region:"Njombe Region",country:"tz"},{region:"Pemba North Region",country:"tz"},{region:"Pemba South Region",country:"tz"},{region:"Rukwa Region",country:"tz"},{region:"Ruvuma Region",country:"tz"},{region:"Shinyanga Region",country:"tz"},{region:"Simiyu Region",country:"tz"},{region:"Singida Region",country:"tz"},{region:"Tabora Region",country:"tz"},{region:"Tanga Region",country:"tz"},{region:"Zanzibar Central/South Region",country:"tz"},{region:"Zanzibar North Region",country:"tz"},{region:"Zanzibar Urban/West Region",country:"tz"},{region:"Bangkok",country:"th"},{region:"Changwat Amnat Charoen",country:"th"},{region:"Changwat Ang Thong",country:"th"},{region:"Changwat Bueng Kan",country:"th"},{region:"Changwat Buri Ram",country:"th"},{region:"Changwat Chachoengsao",country:"th"},{region:"Changwat Chai Nat",country:"th"},{region:"Changwat Chaiyaphum",country:"th"},{region:"Changwat Chanthaburi",country:"th"},{region:"Changwat Chiang Rai",country:"th"},{region:"Changwat Chon Buri",country:"th"},{region:"Changwat Chumphon",country:"th"},{region:"Changwat Kalasin",country:"th"},{region:"Changwat Kamphaeng Phet",country:"th"},{region:"Changwat Kanchanaburi",country:"th"},{region:"Changwat Khon Kaen",country:"th"},{region:"Changwat Krabi",country:"th"},{region:"Changwat Lampang",country:"th"},{region:"Changwat Lamphun",country:"th"},{region:"Changwat Loei",country:"th"},{region:"Changwat Lop Buri",country:"th"},{region:"Changwat Mae Hong Son",country:"th"},{region:"Changwat Maha Sarakham",country:"th"},{region:"Changwat Mukdahan",country:"th"},{region:"Changwat Nakhon Nayok",country:"th"},{region:"Changwat Nakhon Pathom",country:"th"},{region:"Changwat Nakhon Phanom",country:"th"},{region:"Changwat Nakhon Ratchasima",country:"th"},{region:"Changwat Nakhon Sawan",country:"th"},{region:"Changwat Nakhon Si Thammarat",country:"th"},{region:"Changwat Nan",country:"th"},{region:"Changwat Narathiwat",country:"th"},{region:"Changwat Nong Bua Lamphu",country:"th"},{region:"Changwat Nong Khai",country:"th"},{region:"Changwat Nonthaburi",country:"th"},{region:"Changwat Pathum Thani",country:"th"},{region:"Changwat Pattani",country:"th"},{region:"Changwat Phangnga",country:"th"},{region:"Changwat Phatthalung",country:"th"},{region:"Changwat Phayao",country:"th"},{region:"Changwat Phetchabun",country:"th"},{region:"Changwat Phetchaburi",country:"th"},{region:"Changwat Phichit",country:"th"},{region:"Changwat Phitsanulok",country:"th"},{region:"Changwat Phra Nakhon Si Ayutthaya",country:"th"},{region:"Changwat Phrae",country:"th"},{region:"Changwat Prachin Buri",country:"th"},{region:"Changwat Prachuap Khiri Khan",country:"th"},{region:"Changwat Ranong",country:"th"},{region:"Changwat Ratchaburi",country:"th"},{region:"Changwat Rayong",country:"th"},{region:"Changwat Roi Et",country:"th"},{region:"Changwat Sa Kaeo",country:"th"},{region:"Changwat Sakon Nakhon",country:"th"},{region:"Changwat Samut Prakan",country:"th"},{region:"Changwat Samut Sakhon",country:"th"},{region:"Changwat Samut Songkhram",country:"th"},{region:"Changwat Saraburi",country:"th"},{region:"Changwat Satun",country:"th"},{region:"Changwat Si Sa Ket",country:"th"},{region:"Changwat Sing Buri",country:"th"},{region:"Changwat Songkhla",country:"th"},{region:"Changwat Sukhothai",country:"th"},{region:"Changwat Suphan Buri",country:"th"},{region:"Changwat Surat Thani",country:"th"},{region:"Changwat Surin",country:"th"},{region:"Changwat Tak",country:"th"},{region:"Changwat Trang",country:"th"},{region:"Changwat Trat",country:"th"},{region:"Changwat Ubon Ratchathani",country:"th"},{region:"Changwat Udon Thani",country:"th"},{region:"Changwat Uthai Thani",country:"th"},{region:"Changwat Uttaradit",country:"th"},{region:"Changwat Yala",country:"th"},{region:"Changwat Yasothon",country:"th"},{region:"Chiang Mai Province",country:"th"},{region:"Phuket Province",country:"th"},{region:"Atafu",country:"tk"},{region:"Fakaofo",country:"tk"},{region:"Nukunonu",country:"tk"},{region:"Al-Hasakah Governorate",country:"sy"},{region:"Aleppo Governorate",country:"sy"},{region:"Ar-Raqqah Governorate",country:"sy"},{region:"As-Suwayda Governorate",country:"sy"},{region:"Damascus Governorate",country:"sy"},{region:"Daraa Governorate",country:"sy"},{region:"Deir ez-Zor Governorate",country:"sy"},{region:"Hama Governorate",country:"sy"},{region:"Homs Governorate",country:"sy"},{region:"Idlib Governorate",country:"sy"},{region:"Latakia Governorate",country:"sy"},{region:"Muhafazat Rif Dimashq",country:"sy"},{region:"Quneitra Governorate",country:"sy"},{region:"Tartus Governorate",country:"sy"},{region:"Fukien",country:"tw"},{region:"Kaohsiung",country:"tw"},{region:"Taipei",country:"tw"},{region:"Taiwan",country:"tw"},{region:"Centrale",country:"tg"},{region:"Kara",country:"tg"},{region:"Maritime",country:"tg"},{region:"Plateaux",country:"tg"},{region:"Savanes",country:"tg"},{region:"Arima",country:"tt"},{region:"Chaguanas",country:"tt"},{region:"City of Port of Spain",country:"tt"},{region:"Couva-Tabaquite-Talparo",country:"tt"},{region:"Diego Martin",country:"tt"},{region:"Mayaro",country:"tt"},{region:"Penal/Debe",country:"tt"},{region:"Point Fortin",country:"tt"},{region:"Princes Town",country:"tt"},{region:"San Fernando",country:"tt"},{region:"San Juan/Laventille",country:"tt"},{region:"Sangre Grande",country:"tt"},{region:"Siparia",country:"tt"},{region:"Tobago",country:"tt"},{region:"Tunapuna/Piarco",country:"tt"},{region:"Departamento de Artigas",country:"uy"},{region:"Departamento de Canelones",country:"uy"},{region:"Departamento de Cerro Largo",country:"uy"},{region:"Departamento de Colonia",country:"uy"},{region:"Departamento de Durazno",country:"uy"},{region:"Departamento de Flores",country:"uy"},{region:"Departamento de Florida",country:"uy"},{region:"Departamento de Lavalleja",country:"uy"},{region:"Departamento de Maldonado",country:"uy"},{region:"Departamento de Montevideo",country:"uy"},{region:"Departamento de Paysandu",country:"uy"},{region:"Departamento de Rio Negro",country:"uy"},{region:"Departamento de Rivera",country:"uy"},{region:"Departamento de Rocha",country:"uy"},{region:"Departamento de Salto",country:"uy"},{region:"Departamento de San Jose",country:"uy"},{region:"Departamento de Soriano",country:"uy"},{region:"Departamento de Tacuarembo",country:"uy"},{region:"Departamento de Treinta y Tres",country:"uy"},{region:"Eua",country:"to"},{region:"Ha`apai",country:"to"},{region:"Niuas",country:"to"},{region:"Tongatapu",country:"to"},{region:"Vava'u",country:"to"},{region:"`Ajman",country:"ae"},{region:"Abu Zaby",country:"ae"},{region:"Al Fujayrah",country:"ae"},{region:"Ash Shariqah",country:"ae"},{region:"Dubai",country:"ae"},{region:"Ra's al Khaymah",country:"ae"},{region:"Umm al Qaywayn",country:"ae"},{region:"An Giang",country:"vn"},{region:"Dak Nong",country:"vn"},{region:"Gia Lai",country:"vn"},{region:"Hau Giang",country:"vn"},{region:"Ho Chi Minh City",country:"vn"},{region:"Kon Tum",country:"vn"},{region:"Long An",country:"vn"},{region:"Thanh Pho Can Tho",country:"vn"},{region:"Thanh Pho GJa Nang",country:"vn"},{region:"Thanh Pho Ha Noi",country:"vn"},{region:"Thanh Pho Hai Phong",country:"vn"},{region:"Tinh Ba Ria-Vung Tau",country:"vn"},{region:"Tinh Bac Giang",country:"vn"},{region:"Tinh Bac Kan",country:"vn"},{region:"Tinh Bac Lieu",country:"vn"},{region:"Tinh Bac Ninh",country:"vn"},{region:"Tinh Ben Tre",country:"vn"},{region:"Tinh Binh Duong",country:"vn"},{region:"Tinh Binh GJinh",country:"vn"},{region:"Tinh Binh Phuoc",country:"vn"},{region:"Tinh Binh Thuan",country:"vn"},{region:"Tinh Ca Mau",country:"vn"},{region:"Tinh Cao Bang",country:"vn"},{region:"Tinh Dien Bien",country:"vn"},{region:"Tinh GJak Lak",country:"vn"},{region:"Tinh GJong Nai",country:"vn"},{region:"Tinh GJong Thap",country:"vn"},{region:"Tinh Ha Giang",country:"vn"},{region:"Tinh Ha Nam",country:"vn"},{region:"Tinh Ha Tinh",country:"vn"},{region:"Tinh Hai Duong",country:"vn"},{region:"Tinh Hoa Binh",country:"vn"},{region:"Tinh Hung Yen",country:"vn"},{region:"Tinh Khanh Hoa",country:"vn"},{region:"Tinh Kien Giang",country:"vn"},{region:"Tinh Lai Chau",country:"vn"},{region:"Tinh Lam GJong",country:"vn"},{region:"Tinh Lang Son",country:"vn"},{region:"Tinh Lao Cai",country:"vn"},{region:"Tinh Nam GJinh",country:"vn"},{region:"Tinh Nghe An",country:"vn"},{region:"Tinh Ninh Binh",country:"vn"},{region:"Tinh Ninh Thuan",country:"vn"},{region:"Tinh Phu Tho",country:"vn"},{region:"Tinh Phu Yen",country:"vn"},{region:"Tinh Quang Binh",country:"vn"},{region:"Tinh Quang Nam",country:"vn"},{region:"Tinh Quang Ngai",country:"vn"},{region:"Tinh Quang Ninh",country:"vn"},{region:"Tinh Quang Tri",country:"vn"},{region:"Tinh Soc Trang",country:"vn"},{region:"Tinh Son La",country:"vn"},{region:"Tinh Tay Ninh",country:"vn"},{region:"Tinh Thai Binh",country:"vn"},{region:"Tinh Thai Nguyen",country:"vn"},{region:"Tinh Thanh Hoa",country:"vn"},{region:"Tinh Thua Thien-Hue",country:"vn"},{region:"Tinh Tien Giang",country:"vn"},{region:"Tinh Tra Vinh",country:"vn"},{region:"Tinh Tuyen Quang",country:"vn"},{region:"Tinh Vinh Long",country:"vn"},{region:"Tinh Vinh Phuc",country:"vn"},{region:"Tinh Yen Bai",country:"vn"},{region:"Andijan",country:"uz"},{region:"Bukhara Province",country:"uz"},{region:"Fergana",country:"uz"},{region:"Jizzakh Province",country:"uz"},{region:"Karakalpakstan",country:"uz"},{region:"Namangan Province",country:"uz"},{region:"Navoiy Province",country:"uz"},{region:"Qashqadaryo Province",country:"uz"},{region:"Samarqand Viloyati",country:"uz"},{region:"Sirdaryo",country:"uz"},{region:"Surxondaryo Viloyati",country:"uz"},{region:"Toshkent Shahri",country:"uz"},{region:"Toshkent Viloyati",country:"uz"},{region:"Xorazm Viloyati",country:"uz"},{region:"Delta Amacuro",country:"ve"},{region:"Dependencias Federales",country:"ve"},{region:"Distrito Capital",country:"ve"},{region:"Estado Amazonas",country:"ve"},{region:"Estado Anzoategui",country:"ve"},{region:"Estado Apure",country:"ve"},{region:"Estado Aragua",country:"ve"},{region:"Estado Barinas",country:"ve"},{region:"Estado Bolivar",country:"ve"},{region:"Estado Carabobo",country:"ve"},{region:"Estado Cojedes",country:"ve"},{region:"Estado Falcon",country:"ve"},{region:"Estado Guarico",country:"ve"},{region:"Estado Lara",country:"ve"},{region:"Estado Merida",country:"ve"},{region:"Estado Monagas",country:"ve"},{region:"Estado Nueva Esparta",country:"ve"},{region:"Estado Portuguesa",country:"ve"},{region:"Estado Sucre",country:"ve"},{region:"Estado Tachira",country:"ve"},{region:"Estado Trujillo",country:"ve"},{region:"Estado Vargas",country:"ve"},{region:"Estado Yaracuy",country:"ve"},{region:"Estado Zulia",country:"ve"},{region:"Miranda",country:"ve"},{region:"Malampa Province",country:"vu"},{region:"Penama Province",country:"vu"},{region:"Sanma Province",country:"vu"},{region:"Shefa Province",country:"vu"},{region:"Tafea Province",country:"vu"},{region:"Torba Province",country:"vu"},{region:"Saint Croix Island",country:"vi"},{region:"Saint John Island",country:"vi"},{region:"Saint Thomas Island",country:"vi"},{region:"Alo",country:"wf"},{region:"Sigave",country:"wf"},{region:"Uvea",country:"wf"},{region:"Al Bayda Governorate",country:"ye"},{region:"Al Mahrah",country:"ye"},{region:"Al Mahwit",country:"ye"},{region:"Amanat Al Asimah",country:"ye"},{region:"Ibb",country:"ye"},{region:"Muhafazat `Amran",country:"ye"},{region:"Muhafazat 'Adan",country:"ye"},{region:"Muhafazat Abyan",country:"ye"},{region:"Muhafazat ad Dali'",country:"ye"},{region:"Muhafazat al Hudaydah",country:"ye"},{region:"Muhafazat al Jawf",country:"ye"},{region:"Muhafazat Dhamar",country:"ye"},{region:"Muhafazat Hadramawt",country:"ye"},{region:"Muhafazat Hajjah",country:"ye"},{region:"Muhafazat Lahij",country:"ye"},{region:"Muhafazat Ma'rib",country:"ye"},{region:"Muhafazat Raymah",country:"ye"},{region:"Muhafazat Sa'dah",country:"ye"},{region:"Muhafazat Ta`izz",country:"ye"},{region:"Sanaa",country:"ye"},{region:"Shabwah",country:"ye"},{region:"Socotra",country:"ye"},{region:"Embera-Wounaan",country:"pa"},{region:"Guna Yala",country:"pa"},{region:"Ngoebe-Bugle",country:"pa"},{region:"Panama Oeste",country:"pa"},{region:"Provincia de Bocas del Toro",country:"pa"},{region:"Provincia de Chiriqui",country:"pa"},{region:"Provincia de Cocle",country:"pa"},{region:"Provincia de Colon",country:"pa"},{region:"Provincia de Herrera",country:"pa"},{region:"Provincia de Los Santos",country:"pa"},{region:"Provincia de Panama",country:"pa"},{region:"Provincia de Veraguas",country:"pa"},{region:"Provincia del Darien",country:"pa"},{region:"Gaza Strip",country:"ps"},{region:"West Bank",country:"ps"},{region:"Central Province",country:"zm"},{region:"Copperbelt Province",country:"zm"},{region:"Eastern Province",country:"zm"},{region:"Luapula Province",country:"zm"},{region:"Lusaka Province",country:"zm"},{region:"Muchinga Province",country:"zm"},{region:"North-Western Province",country:"zm"},{region:"Northern Province",country:"zm"},{region:"Southern Province",country:"zm"},{region:"Western Province",country:"zm"},{region:"State of Aimeliik",country:"pw"},{region:"State of Airai",country:"pw"},{region:"State of Angaur",country:"pw"},{region:"State of Hatohobei",country:"pw"},{region:"State of Kayangel",country:"pw"},{region:"State of Koror",country:"pw"},{region:"State of Melekeok",country:"pw"},{region:"State of Ngaraard",country:"pw"},{region:"State of Ngarchelong",country:"pw"},{region:"State of Ngardmau",country:"pw"},{region:"State of Ngatpang",country:"pw"},{region:"State of Ngchesar",country:"pw"},{region:"State of Ngeremlengui",country:"pw"},{region:"State of Ngiwal",country:"pw"},{region:"State of Peleliu",country:"pw"},{region:"State of Sonsorol",country:"pw"},{region:"Bulawayo Province",country:"zw"},{region:"Harare Province",country:"zw"},{region:"Manicaland Province",country:"zw"},{region:"Mashonaland Central Province",country:"zw"},{region:"Mashonaland East Province",country:"zw"},{region:"Mashonaland West Province",country:"zw"},{region:"Masvingo Province",country:"zw"},{region:"Matabeleland North Province",country:"zw"},{region:"Matabeleland South Province",country:"zw"},{region:"Midlands Province",country:"zw"},{region:"Azad Kashmir",country:"pk"},{region:"Balochistan",country:"pk"},{region:"Federally Administered Tribal Areas",country:"pk"},{region:"Gilgit-Baltistan",country:"pk"},{region:"Islamabad",country:"pk"},{region:"Khyber Pakhtunkhwa Province",country:"pk"},{region:"Punjab Province",country:"pk"},{region:"Sindh",country:"pk"}]},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return l}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return f}),n.d(e,"__spread",function(){return g}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return m}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return _}),n.d(e,"__makeTemplateObject",function(){return b}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return C});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{!function(t){t.value instanceof y?Promise.resolve(t.value.v).then(u,l):c(o[0][2],t)}(i[t](e))}catch(t){c(o[0][3],t)}}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e})}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):p(t)}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return u}),n.d(e,"Logger",function(){return s}),n.d(e,"LogLevel",function(){return i});var r=[],i=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),o=i.INFO,a=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function u(t){r.forEach(function(e){e.logLevel=t})}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("zVF4"),i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o="[DEFAULT]",a=[],s=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==o?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},t}();function u(t,e){throw l.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var l=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),c=function t(){var e={},n={},a={},l={__esModule:!0,initializeApp:function(t,n){void 0===n&&(n={}),("object"!=typeof n||null===n)&&(n={name:n});var r=n;void 0===r.name&&(r.name=o);var a=r.name;"string"==typeof a&&a||u("bad-app-name",{name:a+""}),i(e,a)&&u("duplicate-app",{name:a});var c=new s(t,r,l);return e[a]=c,d(c,"create"),c},app:c,apps:null,Promise,SDK_VERSION:"5.0.4",INTERNAL:{registerService:function(t,e,i,o,d){n[t]&&u("duplicate-service",{name:t}),n[t]=e,o&&(a[t]=o,h().forEach(function(t){o("create",t)}));var p=function(e){return void 0===e&&(e=c()),"function"!=typeof e[t]&&u("invalid-app-argument",{name:t}),e[t]()};return void 0!==i&&r.deepExtend(p,i),l[t]=p,s.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,d?e:[])},p},createFirebaseNamespace:t,extendNamespace:function(t){r.deepExtend(l,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){d(e[t],"delete"),delete e[t]},factories:n,useAsService:p,Promise,deepExtend:r.deepExtend}};function c(t){return i(e,t=t||o)||u("no-app",{name:t}),e[t]}function h(){return Object.keys(e).map(function(t){return e[t]})}function d(t,e){Object.keys(n).forEach(function(n){var r=p(0,n);null!==r&&a[r]&&a[r](e,t)})}function p(t,e){return"serverAuth"===e?null:e}return r.patchProperty(l,"default",l),Object.defineProperty(l,"apps",{get:h}),r.patchProperty(c,"App",s),l}();e.firebase=c,e.default=c},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function a(t){setTimeout(()=>{throw t})}const s={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t},complete(){}},u=Array.isArray||(t=>t&&"number"==typeof t.length);function l(t){return null!=t&&"object"==typeof t}const c={e:{}};let h;function d(){try{return h.apply(this,arguments)}catch(t){return c.e=t,c}}function p(t){return h=t,d}class f extends Error{constructor(t){super(t?`${t.length} errors occurred during unsubscription:\n  ${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:""),this.errors=t,this.name="UnsubscriptionError",Object.setPrototypeOf(this,f.prototype)}}class g{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:o,_subscriptions:a}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let s=-1,h=i?i.length:0;for(;n;)n.remove(this),n=++s<h&&i[s]||null;if(r(o)&&p(o).call(this)===c&&(e=!0,t=t||(c.e instanceof f?y(c.e.errors):[c.e])),u(a))for(s=-1,h=a.length;++s<h;){const n=a[s];if(l(n)&&p(n.unsubscribe).call(n)===c){e=!0,t=t||[];let n=c.e;n instanceof f?t=t.concat(y(n.errors)):t.push(n)}}if(e)throw new f(t)}add(t){if(!t||t===g.EMPTY)return g.EMPTY;if(t===this)return this;let e=t;switch(typeof t){case"function":e=new g(t);case"object":if(e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if("function"!=typeof e._addParent){const t=e;(e=new g)._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(e),e._addParent(this),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t}}function y(t){return t.reduce((t,e)=>t.concat(e instanceof f?e.errors:e),[])}g.EMPTY=function(t){return t.closed=!0,t}(new g);const m="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber";class v extends g{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s;break;case 1:if(!t){this.destination=s;break}if("object"==typeof t){if(t instanceof v||"syncErrorThrowable"in t&&t[m]){const e=t[m]();this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)}else this.syncErrorThrowable=!0,this.destination=new _(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new _(this,t,e,n)}}[m](){return this}static create(t,e,n){const r=new v(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class _ extends v{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let a=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==s&&(r((a=Object.create(e)).unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw t;a(t)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(a(e),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const b="function"==typeof Symbol&&Symbol.observable||"@@observable";function w(){}function C(...t){return E(t)}function E(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:w}class S{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const e=new S;return e.source=this,e.operator=t,e}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof v)return t;if(t[m])return t[m]()}return t||e||n?new v(t,e,n):new v(s)}(t,e,n);if(r?r.call(i,this.source):i.add(this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}}forEach(t,e){return new(e=k(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(t){n(t),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[b](){return this}pipe(...t){return 0===t.length?this:E(t)(this)}toPromise(t){return new(t=k(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}function k(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}S.create=(t=>new S(t));class A extends Error{constructor(){super("object unsubscribed"),this.name="ObjectUnsubscribedError",Object.setPrototypeOf(this,A.prototype)}}class T extends g{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class I extends v{constructor(t){super(t),this.destination=t}}class R extends S{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[m](){return new I(this)}lift(t){const e=new O(this,this);return e.operator=t,e}next(t){if(this.closed)throw new A;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new A;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new A;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new A;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new A;return this.hasError?(t.error(this.thrownError),g.EMPTY):this.isStopped?(t.complete(),g.EMPTY):(this.observers.push(t),new T(this,t))}asObservable(){const t=new S;return t.source=this,t}}R.create=((t,e)=>new O(t,e));class O extends R{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):g.EMPTY}}function P(t){return t&&"function"==typeof t.schedule}class D extends v{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const N=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},x=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,a),e),M=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),L=t=>e=>{const n=t[M]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},F=t=>e=>{const n=t[b]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},B=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function j(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const U=t=>{if(t instanceof S)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[b])return F(t);if(B(t))return N(t);if(j(t))return x(t);if(t&&"function"==typeof t[M])return L(t);{const e=`You provided ${l(t)?"an invalid object":`'${t}'`} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(e)}};function V(t,e,n,r){const i=new D(t,n,r);return U(e)(i)}class z extends v{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function q(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new H(t,e))}}class H{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new G(t,this.project,this.thisArg))}}class G extends v{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}function K(t,e){return new S(e?n=>{const r=new g;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:N(t))}function W(t,e){if(!e)return t instanceof S?t:new S(U(t));if(null!=t){if(function(t){return t&&"function"==typeof t[b]}(t))return function(t,e){return new S(e?n=>{const r=new g;return r.add(e.schedule(()=>{const i=t[b]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:F(t))}(t,e);if(j(t))return function(t,e){return new S(e?n=>{const r=new g;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:x(t))}(t,e);if(B(t))return K(t,e);if(function(t){return t&&"function"==typeof t[M]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new S(e?n=>{const r=new g;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[M](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const r=i.next();t=r.value,e=r.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}))})),r}:L(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(Q((n,r)=>W(t(n,r)).pipe(q((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new $(t,n)))}class ${constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Y(t,this.project,this.concurrent))}}class Y extends z{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){this.add(V(this,t,e,n))}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function X(t){return t}function J(t=Number.POSITIVE_INFINITY){return Q(X,t)}function Z(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return P(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof S?t[0]:J(e)(K(t,n))}function tt(){return function(t){return t.lift(new et(t))}}class et{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new nt(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class nt extends v{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const rt=class extends S{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new g).add(this.source.subscribe(new class extends I{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}(this.getSubject(),this))),t.closed?(this._connection=null,t=g.EMPTY):this._connection=t),t}refCount(){return tt()(this)}}.prototype,it={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:rt._subscribe},_isComplete:{value:rt._isComplete,writable:!0},getSubject:{value:rt.getSubject},connect:{value:rt.connect},refCount:{value:rt.refCount}};function ot(){return new R}function at(){return t=>tt()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,it);return r.source=e,r.subjectFactory=n,r}}(ot)(t))}function st(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}class ut{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?st({providedIn:e.providedIn||"root",factory:e.factory}):void 0}toString(){return`InjectionToken ${this._desc}`}}const lt="__parameters__";function ct(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(lt)?t[lt]:Object.defineProperty(t,lt,{value:[]})[lt];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const ht=new ut("AnalyzeForEntryComponents"),dt=Function;function pt(t){return"function"==typeof t}const ft="undefined"!=typeof window&&window,gt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,yt="undefined"!=typeof global&&global||ft||gt,mt=Promise.resolve(0);let vt=null;function _t(){if(!vt){const t=yt.Symbol;if(t&&t.iterator)vt=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(vt=n)}}}return vt}function bt(t){"undefined"==typeof Zone?mt.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function wt(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ct(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Ct).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const Et=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,St=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{/,kt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{[\s\S]*constructor\s*\(/;function At(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Tt(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}function It(t){return t.__forward_ref__=It,t.toString=function(){return Ct(this())},t}function Rt(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===It?t():t}const Ot=ct("Inject",t=>({token:t})),Pt=ct("Optional"),Dt=ct("Self"),Nt=ct("SkipSelf"),xt="__source",Mt=new Object,Lt=Mt,Ft=new ut("INJECTOR");class Bt{static create(t,e){return Array.isArray(t)?new Yt(t,e):new Yt(t.providers,t.parent,t.name||null)}}Bt.THROW_IF_NOT_FOUND=Mt,Bt.NULL=new class{get(t,e=Mt){if(e===Mt)throw new Error(`NullInjectorError: No provider for ${Ct(t)}!`);return e}},Bt.ngInjectableDef=st({providedIn:"any",factory:()=>ne(Ft)});const jt=function(t){return t},Ut=[],Vt=jt,zt=function(){return Array.prototype.slice.call(arguments)},qt={},Ht=function(t){for(let e in t)if(t[e]===qt)return e;throw Error("!prop")}({provide:String,useValue:qt}),Gt="ngTokenPath",Kt="ngTempTokenPath",Wt=Bt.NULL,Qt=/\n/gm,$t="\u0275";class Yt{constructor(t,e=Wt,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Bt,{token:Bt,fn:jt,deps:Ut,value:this,useNew:!1}),r.set(Ft,{token:Ft,fn:jt,deps:Ut,value:this,useNew:!1}),function t(e,n){if(n)if((n=Rt(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Zt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Zt("Unexpected provider",n);{let t=Rt(n.provide);const r=function(t){const e=function(t){let e=Ut;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=Rt(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof Pt||n==Pt?r|=1:n instanceof Nt||n==Nt?r&=-3:n instanceof Dt||n==Dt?r&=-5:i=n instanceof Ot?n.token:Rt(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:Rt(t.useExisting),options:6}];else if(!(n||Ht in t))throw Zt("'deps' required",t);return e}(t);let n=jt,r=Ut,i=!1,o=Rt(t.provide);if(Ht in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=Rt(t.useClass);else{if("function"!=typeof o)throw Zt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==zt)throw Xt(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:zt,value:Ut});r.deps.push({token:t=n,options:6})}const i=e.get(t);if(i&&i.fn==zt)throw Xt(t);e.set(t,r)}}}(r,t)}get(t,e,n=0){const r=this._records.get(t);try{return function t(e,n,r,i,o,a){try{return function(e,n,r,i,o,a){let s;if(!n||4&a)2&a||(s=i.get(e,o,0));else{if((s=n.value)==Vt)throw Error($t+"Circular dependency");if(s===Ut){n.value=Vt;let e=void 0,o=n.useNew,a=n.fn,u=n.deps,l=Ut;if(u.length){l=[];for(let e=0;e<u.length;e++){const n=u[e],o=n.options,a=2&o?r.get(n.token):void 0;l.push(t(n.token,a,r,a||4&o?i:Wt,1&o?null:Bt.THROW_IF_NOT_FOUND,0))}}n.value=s=o?new a(...l):a.apply(e,l)}}return s}(e,n,r,i,o,a)}catch(t){throw t instanceof Error||(t=new Error(t)),(t[Kt]=t[Kt]||[]).unshift(e),n&&n.value==Vt&&(n.value=Ut),t}}(t,r,this._records,this.parent,e,n)}catch(e){const n=e[Kt];throw t[xt]&&n.unshift(t[xt]),e.message=Jt("\n"+e.message,n,this.source),e[Gt]=n,e[Kt]=null,e}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(Ct(n))),`StaticInjector[${t.join(", ")}]`}}function Xt(t){return Zt("Cannot mix multi providers and regular providers",t)}function Jt(t,e,n=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==$t?t.substr(2):t;let r=Ct(e);if(e instanceof Array)r=e.map(Ct).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):Ct(r)))}r=`{${t.join(", ")}}`}return`StaticInjectorError${n?"("+n+")":""}[${r}]: ${t.replace(Qt,"\n  ")}`}function Zt(t,e){return new Error(Jt(t,e))}let te=void 0;function ee(t){const e=te;return te=t,e}function ne(t,e=0){if(void 0===te)throw new Error("inject() must be called from an injection context");if(null===te){const n=t.ngInjectableDef;if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(8&e)return null;throw new Error(`Injector: NOT_FOUND [${Ct(t)}]`)}return te.get(t,8&e?null:void 0,e)}String;const re=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),ie=new class{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}("6.1.2"),oe="ngDebugContext",ae="ngOriginalError",se="ngErrorLogger";function ue(t){return t[oe]}function le(t){return t[ae]}function ce(t,...e){t.error(...e)}class he{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[se]||ce}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ue(t)?ue(t):this._findContext(le(t)):null}_findOriginalError(t){let e=le(t);for(;e&&le(e);)e=le(e);return e}}function de(t){return t.length>1?" ("+function(t){const e=[];for(let n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(t=>Ct(t.token)).join(" -> ")+")":""}function pe(t,e,n,r){const i=[e],o=n(i),a=r?function(t,e){const n=`${o} caused by: ${e instanceof Error?e.message:e}`,r=Error(n);return r[ae]=e,r}(0,r):Error(o);return a.addKey=fe,a.keys=i,a.injectors=[t],a.constructResolvingMessage=n,a[ae]=r,a}function fe(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function ge(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const t=e[r];n.push(t&&0!=t.length?t.map(Ct).join(" "):"?")}return Error("Cannot resolve all parameters for '"+Ct(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+Ct(t)+"' is decorated with Injectable.")}function ye(t,e){return Error(`Cannot mix multi providers and regular providers, got: ${t} ${e}`)}class me{constructor(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=Ct(this.token)}static get(t){return ve.get(Rt(t))}static get numberOfKeys(){return ve.numberOfKeys}}const ve=new class{constructor(){this._allKeys=new Map}get(t){if(t instanceof me)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const e=new me(t,me.numberOfKeys);return this._allKeys.set(t,e),e}get numberOfKeys(){return this._allKeys.size}},_e=new class{constructor(t){this.reflectionCapabilities=t}updateCapabilities(t){this.reflectionCapabilities=t}factory(t){return this.reflectionCapabilities.factory(t)}parameters(t){return this.reflectionCapabilities.parameters(t)}annotations(t){return this.reflectionCapabilities.annotations(t)}propMetadata(t){return this.reflectionCapabilities.propMetadata(t)}hasLifecycleHook(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)}getter(t){return this.reflectionCapabilities.getter(t)}setter(t){return this.reflectionCapabilities.setter(t)}method(t){return this.reflectionCapabilities.method(t)}importUri(t){return this.reflectionCapabilities.importUri(t)}resourceUri(t){return this.reflectionCapabilities.resourceUri(t)}resolveIdentifier(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)}resolveEnum(t,e){return this.reflectionCapabilities.resolveEnum(t,e)}}(new class{constructor(t){this._reflect=t||yt.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=void 0===t?new Array(e.length):new Array(t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){const n=t.toString();if(Et.exec(n)||St.exec(n)&&!kt.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&At(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(lt)&&t[lt],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||i?this._zipTypesAndAnnotations(o,i):new Array(t.length).fill(void 0)}parameters(t){if(!pt(t))return[];const e=Tt(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?At(t.decorators):t.hasOwnProperty("__annotations__")?t.__annotations__:null}annotations(t){if(!pt(t))return[];const e=Tt(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=At(e[t])}),n}return t.hasOwnProperty("__prop__metadata__")?t.__prop__metadata__:null}propMetadata(t){if(!pt(t))return{};const e=Tt(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}hasLifecycleHook(t,e){return t instanceof dt&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){const e=`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`;return new Function("o","args",e)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${Ct(t)}`}resourceUri(t){return`./${Ct(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}});class be{constructor(t,e,n){this.key=t,this.optional=e,this.visibility=n}static fromKey(t){return new be(t,!1,null)}}const we=[];class Ce{constructor(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class Ee{constructor(t,e){this.factory=t,this.dependencies=e}}function Se(t){return new Ce(me.get(t.provide),[function(t){let e,n;if(t.useClass){const r=Rt(t.useClass);e=_e.factory(r),n=ke(r)}else t.useExisting?(e=(t=>t),n=[be.fromKey(me.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){const n=e.map(t=>[t]);return e.map(e=>Ae(t,e,n))}return ke(t)}(t.useFactory,t.deps)):(e=(()=>t.useValue),n=we);return new Ee(e,n)}(t)],t.multi||!1)}function ke(t){const e=_e.parameters(t);if(!e)return[];if(e.some(t=>null==t))throw ge(t,e);return e.map(n=>Ae(t,n,e))}function Ae(t,e,n){let r=null,i=!1;if(!Array.isArray(e))return Te(e instanceof Ot?e.token:e,i,null);let o=null;for(let a=0;a<e.length;++a){const t=e[a];t instanceof dt?r=t:t instanceof Ot?r=t.token:t instanceof Pt?i=!0:t instanceof Dt||t instanceof Nt?o=t:t instanceof ut&&(r=t)}if(null!=(r=Rt(r)))return Te(r,i,o);throw ge(t,n)}function Te(t,e,n){return new be(me.get(t),e,n)}const Ie=new Object;class Re{static resolve(t){return function(t){const e=function(t,e){for(let n=0;n<t.length;n++){const r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw ye(i,r);if(r.multiProvider)for(let t=0;t<r.resolvedFactories.length;t++)i.resolvedFactories.push(r.resolvedFactories[t]);else e.set(r.key.id,r)}else{let t;t=r.multiProvider?new Ce(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,t)}}return e}(function t(e,n){return e.forEach(e=>{if(e instanceof dt)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`);t(e,n)}}),n}(t,[]).map(Se),new Map);return Array.from(e.values())}(t)}static resolveAndCreate(t,e){const n=Re.resolve(t);return Re.fromResolvedProviders(n,e)}static fromResolvedProviders(t,e){return new Oe(t,e)}}class Oe{constructor(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;const n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Ie}get(t,e=Lt){return this._getByKey(me.get(t),null,e)}resolveAndCreateChild(t){const e=Re.resolve(t);return this.createChildFromResolved(e)}createChildFromResolved(t){const e=new Oe(t);return e.parent=this,e}resolveAndInstantiate(t){return this.instantiateResolved(Re.resolve([t])[0])}instantiateResolved(t){return this._instantiateProvider(t)}getProviderAtIndex(t){if(t<0||t>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(t);return this._providers[t]}_new(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(e,n){return pe(e,t.key,function(t){return`Cannot instantiate cyclic dependency!${de(t)}`})}(this);return this._instantiateProvider(t)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(t){if(t.multiProvider){const e=new Array(t.resolvedFactories.length);for(let n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])}_instantiate(t,e){const n=e.factory;let r,i;try{r=e.dependencies.map(t=>this._getByReflectiveDependency(t))}catch(e){throw e.addKey&&e.addKey(this,t.key),e}try{i=n(...r)}catch(e){throw function(e,n,r,i){return pe(e,t.key,function(t){const e=Ct(t[0].token);return`${n.message}: Error during instantiation of ${e}!${de(t)}.`},n)}(this,e)}return i}_getByReflectiveDependency(t){return this._getByKey(t.key,t.visibility,t.optional?null:Lt)}_getByKey(t,e,n){return t===Oe.INJECTOR_KEY?this:e instanceof Dt?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)}_getObjByKeyId(t){for(let e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Ie&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Ie}_throwOrNull(t,e){if(e!==Lt)return e;throw function(t,e){return pe(t,e,function(t){return`No provider for ${Ct(t[0].token)}!${de(t)}`})}(this,t)}_getByKeySelf(t,e){const n=this._getObjByKeyId(t.id);return n!==Ie?n:this._throwOrNull(t,e)}_getByKeyDefault(t,e,n){let r;for(r=n instanceof Nt?this.parent:this;r instanceof Oe;){const e=r,n=e._getObjByKeyId(t.id);if(n!==Ie)return n;r=e.parent}return null!==r?r.get(t.token,e):this._throwOrNull(t,e)}get displayName(){return`ReflectiveInjector(providers: [${function(t,e){const n=new Array(t._providers.length);for(let r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}(this,t=>' "'+t.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}Oe.INJECTOR_KEY=me.get(Bt);const Pe=new ut("The presence of this token marks an injector as being the root injector.");function De(t){return!!t&&"function"==typeof t.then}function Ne(t){return!!t&&"function"==typeof t.subscribe}const xe=new ut("Application Initializer");class Me{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();De(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Le=new ut("AppId");function Fe(){return`${Be()}${Be()}${Be()}`}function Be(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const je=new ut("Platform Initializer"),Ue=new ut("Platform ID"),Ve=new ut("appBootstrapListener");class ze{log(t){console.log(t)}warn(t){console.warn(t)}}function qe(){throw new Error("Runtime compiler is not loaded")}class He{compileModuleSync(t){throw qe()}compileModuleAsync(t){throw qe()}compileModuleAndAllComponentsSync(t){throw qe()}compileModuleAndAllComponentsAsync(t){throw qe()}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class Ge{}class Ke{}class We{}function Qe(t){const e=Error(`No component factory found for ${Ct(t)}. Did you add it to @NgModule.entryComponents?`);return e[$e]=t,e}const $e="ngComponent";class Ye{}Ye.NULL=new class{resolveComponentFactory(t){throw Qe(t)}};class Xe{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Qe(t);return new Je(e,this._ngModule)}}class Je extends We{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}class Ze{}class tn{}let en,nn;const rn=function(){const t=yt.wtf;return!(!t||!(en=t.trace)||(nn=en.events,0))}(),on=rn?function(t,e=null){return nn.createScope(t,e)}:(t,e)=>(function(t,e){return null}),an=rn?function(t,e){return en.leaveScope(t,e),e}:(t,e)=>e;class sn extends R{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,i,o);return t instanceof g&&t.add(a),a}}class un{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sn(!1),this.onMicrotaskEmpty=new sn(!1),this.onStable=new sn(!1),this.onError=new sn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),function(t){t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,i,o,a)=>{try{return dn(t),e.invokeTask(r,i,o,a)}finally{pn(t)}},onInvoke:(e,n,r,i,o,a,s)=>{try{return dn(t),e.invoke(r,i,o,a,s)}finally{pn(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,hn(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!un.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(un.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,cn,ln,ln);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function ln(){}const cn={};function hn(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dn(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pn(t){t._nesting--,hn(t)}class fn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sn,this.onMicrotaskEmpty=new sn,this.onStable=new sn,this.onError=new sn}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class gn{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{un.assertNotInAngularZone(),bt(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bt(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,isPeriodic:t.data.isPeriodic,delay:t.data.delay,creationLocation:t.creationLocation,xhr:t.data.target})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class yn{constructor(){this._applications=new Map,vn.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return vn.findTestabilityInTree(this,t,e)}}yn.ctorParameters=(()=>[]);let mn,vn=new class{addToWindow(t){}findTestabilityInTree(t,e,n){return null}},_n=!0,bn=!1;const wn=new ut("AllowMultipleToken");function Cn(){return bn=!0,_n}class En{constructor(t,e){this.name=t,this.token=e}}function Sn(t,e,n=[]){const r=`Platform: ${e}`,i=new ut(r);return(e=[])=>{let o=kn();if(!o||o.injector.get(wn,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(mn&&!mn.destroyed&&!mn.injector.get(wn,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");mn=t.get(An);const e=t.get(je,null);e&&e.forEach(t=>t())}(Bt.create({providers:t,name:r}))}return function(t){const e=kn();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function kn(){return mn&&!mn.destroyed?mn:null}class An{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t){return"noop"===t?new fn:("zone.js"===t?void 0:t)||new un({enableLongStackTrace:Cn()})}(e?e.ngZone:void 0),r=[{provide:un,useValue:n}];return n.run(()=>{const e=Bt.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(he,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Rn(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return De(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}(o,n,()=>{const t=i.injector.get(Me);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=this.injector.get(Ge),r=Tn({},e);return n.createCompiler([r]).compileModuleAsync(t).then(t=>this.bootstrapModuleFactory(t,r))}_moduleDoBootstrap(t){const e=t.injector.get(In);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Ct(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Tn(t,e){return Array.isArray(e)?e.reduce(Tn,t):Object.assign({},t,e)}class In{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Cn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new S(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new S(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{un.assertNotInAngularZone(),bt(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{un.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Z(a,s.pipe(at()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof We?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n instanceof Je?null:this._injector.get(Ze),i=n.create(Bt.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(gn,null);return o&&i.injector.get(yn).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Cn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=In._tickScope();try{this._runningTick=!0,this._views.forEach(t=>t.detectChanges()),this._enforceNoNewChanges&&this._views.forEach(t=>t.checkNoChanges())}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1,an(t)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Rn(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ve,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Rn(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}function Rn(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}In._tickScope=on("ApplicationRef#tick()");class On{}const Pn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();class Dn{}class Nn{constructor(t){this.nativeElement=t}}class xn{}class Mn{constructor(){this.dirty=!0,this._results=[],this.changes=new sn,this.length=0}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}[_t()](){return this._results[_t()]()}toString(){return this._results.toString()}reset(t){this._results=function t(e){return e.reduce((e,n)=>{const r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Ln="#",Fn="NgFactory";class Bn{}const jn={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Un{constructor(t,e){this._compiler=t,this._config=e||jn}load(t){return this._compiler instanceof He?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split(Ln);return void 0===r&&(r="default"),n("crnd")(e).then(t=>t[r]).then(t=>Vn(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split(Ln),i=Fn;return void 0===r&&(r="default",i=""),n("crnd")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Vn(t,e,r))}}function Vn(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class zn{}class qn{}class Hn{}class Gn{constructor(t,e){this.name=t,this.callback=e}}class Kn{constructor(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Wn?e.addChild(this):this.parent=null,this.listeners=[]}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Wn extends Kn{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(t=>{t.parent&&t.parent.removeChild(t),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof Wn&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof Wn&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof Wn&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Wn)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Qn=new Map;function $n(t){return Qn.get(t)||null}function Yn(t){Qn.set(t.nativeNode,t)}function Xn(t,e){const n=tr(t),r=tr(e);return n&&r?function(t,e,n){const r=t[_t()](),i=e[_t()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Xn):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||wt(t,e)}class Jn{constructor(t){this.wrapped=t}static wrap(t){return new Jn(t)}static unwrap(t){return Jn.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Jn}}class Zn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function tr(t){return!!er(t)&&(Array.isArray(t)||!(t instanceof Map)&&_t()in t)}function er(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class nr{constructor(){}supports(t){return tr(t)}create(t){return new ir(t)}}const rr=(t,e)=>e;class ir{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||rr}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ur(n,r,i)?e:n,a=ur(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=a-r,e=s-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}a!==s&&t(o,a,s)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!tr(t))throw new Error(`Error trying to diff '${Ct(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)r=this._trackByFn(e,n=t[e]),null!==i&&wt(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),wt(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[_t()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&wt(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),wt(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(wt(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(wt(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new or(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new sr),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sr),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class or{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ar{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&wt(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class sr{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ar,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ur(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class lr{constructor(t){this.factories=t}static create(t,e){if(null!=e){const n=e.factories.slice();t=t.concat(n)}return new lr(t)}static extend(t){return{provide:lr,useFactory:e=>{if(!e)throw new Error("Cannot extend IterableDiffers without a parent injector");return lr.create(t,e)},deps:[[lr,new Nt,new Pt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${t.name||typeof t}'`)}}lr.ngInjectableDef=st({providedIn:"root",factory:()=>new lr([new nr])});class cr{constructor(t){this.factories=t}static create(t,e){if(e){const n=e.factories.slice();t=t.concat(n)}return new cr(t)}static extend(t){return{provide:cr,useFactory:e=>{if(!e)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return cr.create(t,e)},deps:[[cr,new Nt,new Pt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}const hr=[new class{constructor(){}supports(t){return t instanceof Map||er(t)}create(){return new class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||er(t)))throw new Error(`Error trying to diff '${Ct(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){wt(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}}}],dr=new lr([new nr]),pr=new cr(hr),fr=Sn(null,"core",[{provide:Ue,useValue:"unknown"},{provide:An,deps:[Bt]},{provide:yn,deps:[]},{provide:ze,deps:[]}]),gr=new ut("LocaleId");function yr(){return dr}function mr(){return pr}function vr(t){return t||"en-US"}class _r{constructor(t){}}class br{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const wr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Cr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Er(t){return(t=String(t)).match(wr)||t.match(Cr)?t:(Cn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Sr(t){return(t=String(t)).split(",").map(t=>Er(t.trim())).join(", ")}function kr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Ar(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Tr=kr("area,br,col,hr,img,wbr"),Ir=kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rr=kr("rp,rt"),Or=Ar(Rr,Ir),Pr=Ar(Tr,Ar(Ir,kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ar(Rr,kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Or),Dr=kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nr=kr("srcset"),xr=Ar(Dr,Nr,kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"));class Mr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Pr.hasOwnProperty(e))return void(this.sanitizedSomething=!0);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!xr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;Dr[i]&&(o=Er(o)),Nr[i]&&(o=Sr(o)),this.buf.push(" ",e,'="',Br(o),'"')}this.buf.push(">")}endElement(t){const e=t.nodeName.toLowerCase();Pr.hasOwnProperty(e)&&!Tr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Br(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Lr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fr=/([^\#-~ |!])/g;function Br(t){return t.replace(/&/g,"&amp;").replace(Lr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Fr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jr;function Ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Vr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),zr=/^url\(([^)]+)\)$/,qr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Hr{}function Gr(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Kr(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Wr(t,e){return t.nodes[e]}function Qr(t,e){return t.nodes[e]}function $r(t,e){return t.nodes[e]}function Yr(t,e){return t.nodes[e]}function Xr(t,e){return t.nodes[e]}const Jr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Zr(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return ti(n,e),n}(i,t)}function ti(t,e){t[oe]=e,t[se]=e.logError.bind(e)}function ei(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}const ni=()=>{},ri=new Map;function ii(t){let e=ri.get(t);return e||(e=Ct(t)+"_"+ri.size,ri.set(t,e)),e}function oi(t,e,n,r){if(Jn.isWrapped(r)){r=Jn.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,o=Jn.unwrap(t.oldValues[i]);t.oldValues[i]=new Jn(o)}return r}const ai="$$undefined",si="$$empty";function ui(t){return{id:ai,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let li=0;function ci(t,e,n,r){return!(!(2&t.state)&&wt(t.oldValues[e.bindingIndex+n],r))}function hi(t,e,n,r){return!!ci(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function di(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Xn(i,r)){const o=e.bindings[n].name;throw Zr(Jr.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function pi(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function fi(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function gi(t,e,n,r){try{return pi(33554432&t.def.nodes[e].flags?Qr(t,e).componentView:t),Jr.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function yi(t){return t.parent?Qr(t.parent,t.parentNodeDef.nodeIndex):null}function mi(t){return t.parent?t.parentNodeDef.parent:null}function vi(t,e){switch(201347067&e.flags){case 1:return Qr(t,e.nodeIndex).renderElement;case 2:return Wr(t,e.nodeIndex).renderText}}function _i(t,e){return t?`${t}:${e}`:e}function bi(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function wi(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Ci(t){return 1<<t%32}function Ei(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=Ci(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Si(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,xt,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:ii(n)}})}function ki(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===re.Native?Qr(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Ai=new WeakMap;function Ti(t){let e=Ai.get(t);return e||((e=t(()=>ni)).factory=t,Ai.set(t,e)),e}function Ii(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(vi(t,t.def.lastRenderRootNode))),Ri(t,e,0,t.def.nodes.length-1,n,r,i)}function Ri(t,e,n,r,i,o,a){for(let s=n;s<=r;s++){const n=t.def.nodes[s];11&n.flags&&Pi(t,n,e,i,o,a),s+=n.childCount}}function Oi(t,e,n,r,i,o){let a=t;for(;a&&!bi(a);)a=a.parent;const s=a.parent,u=mi(a),l=u.nodeIndex+u.childCount;for(let c=u.nodeIndex+1;c<=l;c++){const t=s.def.nodes[c];t.ngContentIndex===e&&Pi(s,t,n,r,i,o),c+=t.childCount}if(!s.parent){const a=t.root.projectableNodes[e];if(a)for(let e=0;e<a.length;e++)Di(t,a[e],n,r,i,o)}}function Pi(t,e,n,r,i,o){if(8&e.flags)Oi(t,e.ngContent.index,n,r,i,o);else{const a=vi(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Di(t,a,n,r,i,o),32&e.bindingFlags&&Di(Qr(t,e.nodeIndex).componentView,a,n,r,i,o)):Di(t,a,n,r,i,o),16777216&e.flags){const a=Qr(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<a.length;t++)Ii(a[t],n,r,i,o)}1&e.flags&&!e.element.name&&Ri(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Di(t,e,n,r,i,o){const a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}const Ni=/^:([^:]+):(.+)$/;function xi(t){if(":"===t[0]){const e=t.match(Ni);return[e[1],e[2]]}return["",t]}function Mi(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function Li(t,e,n,r,i,o,a,s,u,l,c,h,d,p,f,g,y,m,v,_){switch(t){case 1:return e+Fi(n)+r;case 2:return e+Fi(n)+r+Fi(i)+o;case 3:return e+Fi(n)+r+Fi(i)+o+Fi(a)+s;case 4:return e+Fi(n)+r+Fi(i)+o+Fi(a)+s+Fi(u)+l;case 5:return e+Fi(n)+r+Fi(i)+o+Fi(a)+s+Fi(u)+l+Fi(c)+h;case 6:return e+Fi(n)+r+Fi(i)+o+Fi(a)+s+Fi(u)+l+Fi(c)+h+Fi(d)+p;case 7:return e+Fi(n)+r+Fi(i)+o+Fi(a)+s+Fi(u)+l+Fi(c)+h+Fi(d)+p+Fi(f)+g;case 8:return e+Fi(n)+r+Fi(i)+o+Fi(a)+s+Fi(u)+l+Fi(c)+h+Fi(d)+p+Fi(f)+g+Fi(y)+m;case 9:return e+Fi(n)+r+Fi(i)+o+Fi(a)+s+Fi(u)+l+Fi(c)+h+Fi(d)+p+Fi(f)+g+Fi(y)+m+Fi(v)+_;default:throw new Error("Does not support more than 9 expressions")}}function Fi(t){return null!=t?t.toString():""}function Bi(t,e,n,r,i,o){t|=1;const{matchedQueries:a,references:s,matchedQueryIds:u}=Ei(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:u,references:s,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Ti(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||ni},provider:null,text:null,query:null,ngContent:null}}function ji(t,e,n,r,i,o,a=[],s,u,l,c,h){l||(l=ni);const{matchedQueries:d,references:p,matchedQueryIds:f}=Ei(n);let g=null,y=null;o&&([g,y]=xi(o)),s=s||[];const m=new Array(s.length);for(let b=0;b<s.length;b++){const[t,e,n]=s[b],[r,i]=xi(e);let o=void 0,a=void 0;switch(15&t){case 4:a=n;break;case 1:case 8:o=n}m[b]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:a}}u=u||[];const v=new Array(u.length);for(let b=0;b<u.length;b++){const[t,e]=u[b];v[b]={type:0,target:t,eventName:e,propName:null}}const _=(a=a||[]).map(([t,e])=>{const[n,r]=xi(t);return[n,r,e]});return h=function(t){if(t&&t.id===ai){const e=null!=t.encapsulation&&t.encapsulation!==re.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${li++}`:si}return t&&t.id===si&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:r,childCount:i,bindings:m,bindingFlags:Mi(m),outputs:v,element:{ns:g,name:y,attrs:_,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:l||ni},provider:null,text:null,query:null,ngContent:null}}function Ui(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let a;if(t.parent||!i){a=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=ki(t,e,n);i&&o.appendChild(i,a)}else a=o.selectRootElement(i);if(r.attrs)for(let s=0;s<r.attrs.length;s++){const[t,e,n]=r.attrs[s];o.setAttribute(a,e,n,t)}return a}function Vi(t,e,n,r){for(let i=0;i<n.outputs.length;i++){const o=n.outputs[i],a=zi(t,n.nodeIndex,_i(o.target,o.eventName));let s=o.target,u=t;"component"===o.target&&(s=null,u=e);const l=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}}function zi(t,e,n){return r=>gi(t,e,n,r)}function qi(t,e,n,r){if(!hi(t,e,n,r))return!1;const i=e.bindings[n],o=Qr(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const a=e.securityContext;let s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;const u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(qr.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const a=t.renderer;null!=o?a.setStyle(n,r,o):a.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}const Hi=new Object,Gi=ii(Bt),Ki=ii(Ft),Wi=ii(Ze);function Qi(t,e,n,r){return n=Rt(n),{index:-1,deps:Si(r,Ct(e)),flags:t,token:e,value:n}}function $i(t,e,n=Bt.THROW_IF_NOT_FOUND){const r=ee(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const i=e.tokenKey;switch(i){case Gi:case Ki:case Wi:return t}const o=t._def.providersByKey[i];if(o){let e=t._providers[o.index];return void 0===e&&(e=t._providers[o.index]=Yi(t,o)),e===Hi?void 0:e}if(e.token.ngInjectableDef&&function(t,e){return null!=e.providedIn&&(function(t,n){return t._def.modules.indexOf(e.providedIn)>-1}(t)||"root"===e.providedIn&&t._def.isRoot)}(t,e.token.ngInjectableDef)){const n=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:e.token.ngInjectableDef.factory,deps:[],index:n,token:e.token},t._providers[n]=Hi,t._providers[n]=Yi(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{ee(r)}}function Yi(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e($i(t,n[0]));case 2:return new e($i(t,n[0]),$i(t,n[1]));case 3:return new e($i(t,n[0]),$i(t,n[1]),$i(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=$i(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e($i(t,n[0]));case 2:return e($i(t,n[0]),$i(t,n[1]));case 3:return e($i(t,n[0]),$i(t,n[1]),$i(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=$i(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=$i(t,e.deps[0]);break;case 256:n=e.value}return n===Hi||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Hi:n}function Xi(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,eo(n,e),Jr.dirtyParentQueries(r),Zi(r),r}function Ji(t,e,n){const r=e?vi(e,e.def.lastRenderRootNode):t.renderElement;Ii(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function Zi(t){Ii(t,3,null,null,void 0)}function to(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function eo(t,e){e>=t.length-1?t.pop():t.splice(e,1)}const no=new Object;function ro(t,e,n,r,i,o){return new io(t,e,n,r,i,o)}class io extends We{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Ti(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=Jr.createRootView(t,e||[],n,i,r,no),s=$r(a,o).instance;return n&&a.renderer.setAttribute(Qr(a,0).renderElement,"ng-version",ie.full),new oo(a,new lo(a),s)}}class oo extends Ke{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Nn(Qr(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new fo(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function ao(t,e,n){return new so(t,e,n)}class so{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Nn(this._data.renderElement)}get injector(){return new fo(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=mi(t),t=t.parent;return t?new fo(t,e):new fo(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Xi(this._data,t);Jr.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new lo(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof Je||(i=o.get(Ze));const a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=i.length),r.viewContainerParent=t,to(i,n,r),function(t,e){const n=yi(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),Jr.dirtyParentQueries(r),Ji(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,r){const i=t.viewContainer._embeddedViews,o=i[n];eo(i,n),null==r&&(r=i.length),to(i,r,o),Jr.dirtyParentQueries(o),Zi(o),Ji(t,r>0?i[r-1]:null,o)}(this._data,0,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Xi(this._data,t);e&&Jr.destroyView(e)}detach(t){const e=Xi(this._data,t);return e?new lo(e):null}}function uo(t){return new lo(t)}class lo{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Ii(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){pi(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Jr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Jr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Jr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Zi(this._view),Jr.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function co(t,e){return new ho(t,e)}class ho extends zn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new lo(Jr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Nn(Qr(this._parentView,this._def.nodeIndex).renderElement)}}function po(t,e){return new fo(t,e)}class fo{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Bt.THROW_IF_NOT_FOUND){return Jr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:ii(t)},e)}}function go(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Qr(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Wr(t,n.nodeIndex).renderText;if(20240&n.flags)return $r(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function yo(t){return new mo(t.renderer)}class mo{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=xi(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=xi(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function vo(t,e,n,r){return new _o(t,e,n,r)}class _o{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Yi(t,i))}}(this)}get(t,e=Bt.THROW_IF_NOT_FOUND,n=0){let r=0;return 4&n?r|=1:2&n&&(r|=4),$i(this,{token:t,tokenKey:ii(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Ye)}destroy(){if(this._destroyed)throw new Error(`The ng module ${Ct(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Hi){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const bo=ii(class{}),wo=ii(Dn),Co=ii(Nn),Eo=ii(qn),So=ii(zn),ko=ii(Hn),Ao=ii(Bt),To=ii(Ft);function Io(t,e,n,r,i,o,a,s){const u=[];if(a)for(let c in a){const[t,e]=a[c];u[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const l=[];if(s)for(let c in s)l.push({type:1,propName:c,target:null,eventName:s[c]});return Po(t,e|=16384,n,r,i,i,o,u,l)}function Ro(t,e,n){return Po(-1,t|=16,null,0,e,e,n)}function Oo(t,e,n,r,i){return Po(-1,t,e,0,n,r,i)}function Po(t,e,n,r,i,o,a,s,u){const{matchedQueries:l,references:c,matchedQueryIds:h}=Ei(n);u||(u=[]),s||(s=[]),o=Rt(o);const d=Si(a,Ct(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Mi(s),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Do(t,e){return Lo(t,e)}function No(t,e){let n=t;for(;n.parent&&!bi(n);)n=n.parent;return Fo(n.parent,mi(n),!0,e.provider.value,e.provider.deps)}function xo(t,e){const n=Fo(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName].subscribe(Mo(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}function Mo(t,e,n){return r=>gi(t,e,n,r)}function Lo(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Fo(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(jo(t,e,n,i[0]));case 2:return r(jo(t,e,n,i[0]),jo(t,e,n,i[1]));case 3:return r(jo(t,e,n,i[0]),jo(t,e,n,i[1]),jo(t,e,n,i[2]));default:const a=Array(o);for(let r=0;r<o;r++)a[r]=jo(t,e,n,i[r]);return r(...a)}}(t,e.parent,n,r.value,r.deps);case 2048:return jo(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Fo(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(jo(t,e,n,i[0]));case 2:return new r(jo(t,e,n,i[0]),jo(t,e,n,i[1]));case 3:return new r(jo(t,e,n,i[0]),jo(t,e,n,i[1]),jo(t,e,n,i[2]));default:const a=new Array(o);for(let r=0;r<o;r++)a[r]=jo(t,e,n,i[r]);return new r(...a)}}const Bo={};function jo(t,e,n,r,i=Bt.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const a=r.tokenKey;a===ko&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let s=t;for(;s;){if(e)switch(a){case bo:return yo(Uo(s,e,n));case wo:return Uo(s,e,n).renderer;case Co:return new Nn(Qr(s,e.nodeIndex).renderElement);case Eo:return Qr(s,e.nodeIndex).viewContainer;case So:if(e.element.template)return Qr(s,e.nodeIndex).template;break;case ko:return uo(Uo(s,e,n));case Ao:case To:return po(s,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[a];if(t){let e=$r(s,t.nodeIndex);return e||(e={instance:Lo(s,t)},s.nodes[t.nodeIndex]=e),e.instance}}n=bi(s),e=mi(s),s=s.parent,4&r.flags&&(s=null)}const u=o.root.injector.get(r.token,Bo);return u!==Bo||i===Bo?u:o.root.ngModule.injector.get(r.token,i)}function Uo(t,e,n){let r;if(n)r=Qr(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!bi(r);)r=r.parent;return r}function Vo(t,e,n,r,i,o){if(32768&n.flags){const e=Qr(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=Jn.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Zn(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function zo(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let a=o.parent;for(!a&&o.flags&e&&Ho(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=qo(t,a,e,r)),a=a.parent}}function qo(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Ho(t,i,e.flags&n,r++),i+=e.childCount}return r}function Ho(t,e,n,r){const i=$r(t,e);if(!i)return;const o=i.instance;o&&(Jr.setCurrentNode(t,e),1048576&n&&Kr(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Kr(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}function Go(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Ci(e),bindings:r},ngContent:null}}function Ko(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&wi(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Xr(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Xr(t,n).setDirty(),n+=e.childCount}}function Wo(t,e){const n=Xr(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Qo(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=$r(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Qo(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let a=!1;for(let s=0;s<o.length;s++){const t=o[s];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,a=!0}r[t.propName]=e}a&&n.notifyOnChanges()}function Qo(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push($o(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Qr(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Qo(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],a=yi(o);a&&a===n&&Qo(o,0,o.def.nodes.length-1,r,i)}}const a=n.template._projectedViews;if(a)for(let t=0;t<a.length;t++){const e=a[t];Qo(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function $o(t,e,n){if(null!=n)switch(n){case 1:return Qr(t,e.nodeIndex).renderElement;case 0:return new Nn(Qr(t,e.nodeIndex).renderElement);case 2:return Qr(t,e.nodeIndex).template;case 3:return Qr(t,e.nodeIndex).viewContainer;case 4:return $r(t,e.nodeIndex).instance}}function Yo(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Xo(t,e,n){const r=ki(t,e,n);r&&Oi(t,n.ngContent.index,1,r,null,void 0)}function Jo(t,e){return ea(128,t,new Array(e+1))}function Zo(t,e){return ea(32,t,new Array(e))}function ta(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const t=n[o];i[e[t]]=t}return ea(64,t,i)}function ea(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Mi(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function na(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function ra(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=ki(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function ia(t,e){return(null!=t?t.toString():"")+e.suffix}function oa(t,e,n,r){let i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=l,t.bindingIndex=i,t.outputIndex=o,t.renderParent=c,a|=t.flags,u|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=l?l.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(u|=t.element.template.nodeMatchedQueries)}if(sa(l,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?l.element.publicProviders[ii(t.provider.token)]=t:(d||(d=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[ii(t.provider.token)]=t),e&&(l.element.componentProvider=t)}if(l?(l.childFlags|=t.flags,l.directChildFlags|=t.flags,l.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(l.childMatchedQueries|=t.element.template.nodeMatchedQueries)):s|=t.flags,t.childCount>0)l=t,aa(t)||(c=t);else for(;l&&f===l.nodeIndex+l.childCount;){const t=l.parent;t&&(t.childFlags|=l.childFlags,t.childMatchedQueries|=l.childMatchedQueries),c=(l=t)&&aa(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||ni,updateRenderer:r||ni,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:p}}function aa(t){return 0!=(1&t.flags)&&null===t.element.name}function sa(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function ua(t,e,n,r){const i=ha(t.root,t.renderer,t,e,n);return da(i,t.component,r),pa(i),i}function la(t,e,n){const r=ha(t,t.renderer,null,null,e);return da(r,n,n),pa(r),r}function ca(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,ha(t.root,o,t,e.element.componentProvider,n)}function ha(t,e,n,r,i){const o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function da(t,e,n){t.component=e,t.context=n}function pa(t){let e;bi(t)&&(e=Qr(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let a;switch(Jr.setCurrentNode(t,i),201347067&o.flags){case 1:const n=Ui(t,e,o);let s=void 0;if(33554432&o.flags){const e=Ti(o.element.componentView);s=Jr.createComponentView(t,o,e,n)}Vi(t,s,o,n),a={renderElement:n,componentView:s,viewContainer:null,template:o.element.template?co(t,o):void 0},16777216&o.flags&&(a.viewContainer=ao(t,o,a));break;case 2:a=ra(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Do(t,o)});break;case 16:a={instance:No(t,o)};break;case 16384:(a=r[i])||(a={instance:xo(t,o)}),32768&o.flags&&da(Qr(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Mn;break;case 8:Xo(t,e,o),a=void 0}r[i]=a}Ca(t,wa.CreateViewNodes),Aa(t,201326592,268435456,0)}function fa(t){ma(t),Jr.updateDirectives(t,1),Ea(t,wa.CheckNoChanges),Jr.updateRenderer(t,1),Ca(t,wa.CheckNoChanges),t.state&=-97}function ga(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Gr(t,0,256),ma(t),Jr.updateDirectives(t,0),Ea(t,wa.CheckAndUpdate),Aa(t,67108864,536870912,0);let e=Gr(t,256,512);zo(t,2097152|(e?1048576:0)),Jr.updateRenderer(t,0),Ca(t,wa.CheckAndUpdate),Aa(t,134217728,536870912,0),zo(t,8388608|((e=Gr(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Gr(t,768,1024)}function ya(t,e,n,r,i,o,a,s,u,l,c,h,d){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,l,c,h){const d=e.bindings.length;let p=!1;return d>0&&qi(t,e,0,n)&&(p=!0),d>1&&qi(t,e,1,r)&&(p=!0),d>2&&qi(t,e,2,i)&&(p=!0),d>3&&qi(t,e,3,o)&&(p=!0),d>4&&qi(t,e,4,a)&&(p=!0),d>5&&qi(t,e,5,s)&&(p=!0),d>6&&qi(t,e,6,u)&&(p=!0),d>7&&qi(t,e,7,l)&&(p=!0),d>8&&qi(t,e,8,c)&&(p=!0),d>9&&qi(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,o,a,s,u,l,c,h);case 2:return function(t,e,n,r,i,o,a,s,u,l,c,h){let d=!1;const p=e.bindings,f=p.length;if(f>0&&hi(t,e,0,n)&&(d=!0),f>1&&hi(t,e,1,r)&&(d=!0),f>2&&hi(t,e,2,i)&&(d=!0),f>3&&hi(t,e,3,o)&&(d=!0),f>4&&hi(t,e,4,a)&&(d=!0),f>5&&hi(t,e,5,s)&&(d=!0),f>6&&hi(t,e,6,u)&&(d=!0),f>7&&hi(t,e,7,l)&&(d=!0),f>8&&hi(t,e,8,c)&&(d=!0),f>9&&hi(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=ia(n,p[0])),f>1&&(d+=ia(r,p[1])),f>2&&(d+=ia(i,p[2])),f>3&&(d+=ia(o,p[3])),f>4&&(d+=ia(a,p[4])),f>5&&(d+=ia(s,p[5])),f>6&&(d+=ia(u,p[6])),f>7&&(d+=ia(l,p[7])),f>8&&(d+=ia(c,p[8])),f>9&&(d+=ia(h,p[9]));const g=Wr(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,r,i,o,a,s,u,l,c,h);case 16384:return function(t,e,n,r,i,o,a,s,u,l,c,h){const d=$r(t,e.nodeIndex),p=d.instance;let f=!1,g=void 0;const y=e.bindings.length;return y>0&&ci(t,e,0,n)&&(f=!0,g=Vo(t,d,e,0,n,g)),y>1&&ci(t,e,1,r)&&(f=!0,g=Vo(t,d,e,1,r,g)),y>2&&ci(t,e,2,i)&&(f=!0,g=Vo(t,d,e,2,i,g)),y>3&&ci(t,e,3,o)&&(f=!0,g=Vo(t,d,e,3,o,g)),y>4&&ci(t,e,4,a)&&(f=!0,g=Vo(t,d,e,4,a,g)),y>5&&ci(t,e,5,s)&&(f=!0,g=Vo(t,d,e,5,s,g)),y>6&&ci(t,e,6,u)&&(f=!0,g=Vo(t,d,e,6,u,g)),y>7&&ci(t,e,7,l)&&(f=!0,g=Vo(t,d,e,7,l,g)),y>8&&ci(t,e,8,c)&&(f=!0,g=Vo(t,d,e,8,c,g)),y>9&&ci(t,e,9,h)&&(f=!0,g=Vo(t,d,e,9,h,g)),g&&p.ngOnChanges(g),65536&e.flags&&Kr(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,l,c,h){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&hi(t,e,0,n)&&(p=!0),f>1&&hi(t,e,1,r)&&(p=!0),f>2&&hi(t,e,2,i)&&(p=!0),f>3&&hi(t,e,3,o)&&(p=!0),f>4&&hi(t,e,4,a)&&(p=!0),f>5&&hi(t,e,5,s)&&(p=!0),f>6&&hi(t,e,6,u)&&(p=!0),f>7&&hi(t,e,7,l)&&(p=!0),f>8&&hi(t,e,8,c)&&(p=!0),f>9&&hi(t,e,9,h)&&(p=!0),p){const p=Yr(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=i),f>3&&(g[3]=o),f>4&&(g[4]=a),f>5&&(g[5]=s),f>6&&(g[6]=u),f>7&&(g[7]=l),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=r),f>2&&(g[d[2].name]=i),f>3&&(g[d[3].name]=o),f>4&&(g[d[4].name]=a),f>5&&(g[d[5].name]=s),f>6&&(g[d[6].name]=u),f>7&&(g[d[7].name]=l),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(f){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,o);break;case 5:g=t.transform(r,i,o,a);break;case 6:g=t.transform(r,i,o,a,s);break;case 7:g=t.transform(r,i,o,a,s,u);break;case 8:g=t.transform(r,i,o,a,s,u,l);break;case 9:g=t.transform(r,i,o,a,s,u,l,c);break;case 10:g=t.transform(r,i,o,a,s,u,l,c,h)}}p.value=g}return p}(t,e,n,r,i,o,a,s,u,l,c,h);default:throw"unreachable"}}(t,e,r,i,o,a,s,u,l,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)qi(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)hi(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=ia(n[t],r[t]);i=e.text.prefix+i;const o=Wr(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=$r(t,e.nodeIndex),i=r.instance;let o=!1,a=void 0;for(let s=0;s<n.length;s++)ci(t,e,s,n[s])&&(o=!0,a=Vo(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&Kr(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)hi(t,e,o,n[o])&&(i=!0);if(i){const i=Yr(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let e=0;e<n.length;e++)o[r[e].name]=n[e];break;case 128:const t=n[0],i=n.slice(1);o=t.transform(...i)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function ma(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=Qr(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,fi(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function va(t,e,n,r,i,o,a,s,u,l,c,h,d){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){const d=e.bindings.length;d>0&&di(t,e,0,n),d>1&&di(t,e,1,r),d>2&&di(t,e,2,i),d>3&&di(t,e,3,o),d>4&&di(t,e,4,a),d>5&&di(t,e,5,s),d>6&&di(t,e,6,u),d>7&&di(t,e,7,l),d>8&&di(t,e,8,c),d>9&&di(t,e,9,h)}(t,e,r,i,o,a,s,u,l,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)di(t,e,r,n[r])}(t,e,r),!1}function _a(t,e){if(Xr(t,e.nodeIndex).dirty)throw Zr(Jr.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function ba(t){if(!(128&t.state)){if(Ea(t,wa.Destroy),Ca(t,wa.Destroy),zo(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=yi(t);if(e){const n=e.template._projectedViews;n&&(eo(n,n.indexOf(t)),Jr.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Qr(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Wr(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Xr(t,n).destroy()}}(t),bi(t)&&t.renderer.destroy(),t.state|=128}}const wa=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function Ca(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Sa(Qr(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Ea(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Qr(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)Sa(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Sa(t,e){const n=t.state;switch(e){case wa.CheckNoChanges:0==(128&n)&&(12==(12&n)?fa(t):64&n&&ka(t,wa.CheckNoChangesProjectedViews));break;case wa.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?fa(t):64&n&&ka(t,e));break;case wa.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ga(t):64&n&&ka(t,wa.CheckAndUpdateProjectedViews));break;case wa.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ga(t):64&n&&ka(t,e));break;case wa.Destroy:ba(t);break;case wa.CreateViewNodes:pa(t)}}function ka(t,e){Ea(t,e),Ca(t,e)}function Aa(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(Jr.setCurrentNode(t,i.nodeIndex),r){case 0:Wo(t,i);break;case 1:_a(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let Ta=!1;function Ia(t,e,n,r,i,o){return la(Oa(t,i,i.injector.get(On),e,n),r,o)}function Ra(t,e,n,r,i,o){const a=i.injector.get(On),s=Oa(t,i,new hs(a),e,n),u=Ua(r);return ls(Ka.create,la,null,[s,u,o])}function Oa(t,e,n,r,i){const o=e.injector.get(Hr),a=e.injector.get(he);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function Pa(t,e,n,r){const i=Ua(n);return ls(Ka.create,ua,null,[t,e,i,r])}function Da(t,e,n,r){return n=La.get(e.element.componentProvider.provider.token)||Ua(n),ls(Ka.create,ca,null,[t,e,n,r])}function Na(t,e,n,r){return vo(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===xa.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=xa.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{Ma.forEach((r,i)=>{i.ngInjectableDef.providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=xa.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Si(i.deps),r.value=i.value)}if(Ma.size>0){let e=new Set(t.modules);Ma.forEach((r,i)=>{if(e.has(i.ngInjectableDef.providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:Si(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[ii(i)]=e}})}}(t=t.factory(()=>ni)),t):t}(r))}const xa=new Map,Ma=new Map,La=new Map;function Fa(t){xa.set(t.token,t),"function"==typeof t.token&&t.token.ngInjectableDef&&"function"==typeof t.token.ngInjectableDef.providedIn&&Ma.set(t.token,t)}function Ba(t,e){const n=Ti(Ti(e.viewDefFactory).nodes[0].element.componentView);La.set(t,n)}function ja(){xa.clear(),Ma.clear(),La.clear()}function Ua(t){if(0===xa.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&xa.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>ni);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=xa.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Si(n.deps),t.value=n.value)}}}}function Va(t,e,n,r,i,o,a,s,u,l,c,h,d){const p=t.def.nodes[e];return ya(t,p,n,r,i,o,a,s,u,l,c,h,d),224&p.flags?Yr(t,e).value:void 0}function za(t,e,n,r,i,o,a,s,u,l,c,h,d){const p=t.def.nodes[e];return va(t,p,n,r,i,o,a,s,u,l,c,h,d),224&p.flags?Yr(t,e).value:void 0}function qa(t){return ls(Ka.detectChanges,ga,null,[t])}function Ha(t){return ls(Ka.checkNoChanges,fa,null,[t])}function Ga(t){return ls(Ka.destroy,ba,null,[t])}const Ka=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Wa,Qa,$a;function Ya(t,e){Qa=t,$a=e}function Xa(t,e,n,r){return Ya(t,e),ls(Ka.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Ja(t,e){if(128&t.state)throw ei(Ka[Wa]);return Ya(t,os(t,0)),t.def.updateDirectives(function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?ts(t,o,r,i):es(t,o,r,i),16384&o.flags&&Ya(t,os(t,n)),224&o.flags?Yr(t,o.nodeIndex).value:void 0},t)}function Za(t,e){if(128&t.state)throw ei(Ka[Wa]);return Ya(t,as(t,0)),t.def.updateRenderer(function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?ts(t,o,r,i):es(t,o,r,i),3&o.flags&&Ya(t,as(t,n)),224&o.flags?Yr(t,o.nodeIndex).value:void 0},t)}function ts(t,e,n,r){if(ya(t,e,n,...r)){const i=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],o=i[t];8&r.flags&&(n[ns(r.nonMinifiedName)]=is(o))}const r=e.parent,o=Qr(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(o,e,r):t.renderer.removeAttribute(o,e)}else t.renderer.setValue(o,`bindings=${JSON.stringify(n,null,2)}`)}}}function es(t,e,n,r){va(t,e,n,...r)}function ns(t){return`ng-reflect-${t=t.replace(/[$@]/g,"_").replace(rs,(...t)=>"-"+t[1].toLowerCase())}`}const rs=/([A-Z])/g;function is(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function os(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function as(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class ss{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=mi(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Qr(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return po(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){us(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&us(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!bi(t);)t=t.parent;return t.parent?Qr(t.parent,mi(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?vi(this.view,this.nodeDef):vi(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>++o===i?t.error.bind(t,...e):ni),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function us(t,e,n){for(let r in e.references)n[r]=$o(t,e,e.references[r])}function ls(t,e,n,r){const i=Wa,o=Qa,a=$a;try{Wa=t;const s=e.apply(n,r);return Qa=o,$a=a,Wa=i,s}catch(t){if(ue(t)||!Qa)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),ti(t,e),t}(t,cs())}}function cs(){return Qa?new ss(Qa,$a):null}class hs{constructor(t){this.delegate=t}createRenderer(t,e){return new ds(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class ds{constructor(t){this.delegate=t,this.data=this.delegate.data}destroyNode(t){!function(t){Qn.delete(t.nativeNode)}($n(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=cs();if(r){const e=new Wn(n,null,r);e.name=t,Yn(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=cs();return n&&Yn(new Kn(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=cs();return n&&Yn(new Kn(e,null,n)),e}appendChild(t,e){const n=$n(t),r=$n(e);n&&r&&n instanceof Wn&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=$n(t),i=$n(e),o=$n(n);r&&i&&r instanceof Wn&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=$n(t),r=$n(e);n&&r&&n instanceof Wn&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t){const e=this.delegate.selectRootElement(t),n=cs();return n&&Yn(new Wn(e,null,n)),e}setAttribute(t,e,n,r){const i=$n(t);i&&i instanceof Wn&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=$n(t);r&&r instanceof Wn&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=$n(t);n&&n instanceof Wn&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=$n(t);n&&n instanceof Wn&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=$n(t);i&&i instanceof Wn&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=$n(t);r&&r instanceof Wn&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=$n(t);r&&r instanceof Wn&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=$n(t);r&&r.listeners.push(new Gn(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function ps(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function fs(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global);var gs={simple:"simple",success:"success",error:"error",warning:"warning",info:"info",async:"async",confirm:"confirm",prompt:"prompt"},ys=function(){function t(t,e,n,r){var i=this;this.id=t,this.title=e,this.body=n,this.config=r,this.eventEmitter=new R,this._eventsHolder=[],this.config.type===gs.prompt&&(this.value=""),this.on("hidden",function(){i._eventsHolder.forEach(function(t){t.unsubscribe()})})}return t.prototype.on=function(t,e){var n=this;return this._eventsHolder.push(this.eventEmitter.subscribe(function(r){r===t&&e(n)})),this},t}();function ms(t,e,n){return e===gs.async?{value:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.value.apply(this,[2===t.length?{title:null,body:t[0],config:null,action:t[1]}:3===t.length?"string"==typeof t[1]?{title:t[1],body:t[0],config:null,action:t[2]}:{title:null,body:t[0],config:t[2],action:t[1]}:{title:t[1],body:t[0],config:t[3],action:t[2]}])}}:{value:function(){for(var t,e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return 1===r.length?t={title:null,body:r[0],config:null}:3===r.length?t={title:r[1],body:r[0],config:r[2]}:((e={title:null,config:null,body:r[0]})["string"==typeof r[1]?"title":"config"]=r[1],t=e),n.value.apply(this,[t])}}}function vs(t){return t&&"object"==typeof t&&!Array.isArray(t)&&null!==t}function _s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r={};if(!t.length)return r;for(;t.length>0;){var i=t.shift();if(vs(i))for(var o in i)vs(i[o])?r[o]=_s(r[o],i[o]):Object.assign(r,((n={})[o]=i[o],n))}return r}var bs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function ws(t,e,n){return{value:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t[0].config=bs({},t[0].config,{type:e}),n.value.apply(this,t)}}}var Cs,Es=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ss=function(){function t(t){this.config=t,this.emitter=new R,this.toastChanged=new R,this.toastDeleted=new R,this.notifications=[]}return t.prototype.emit=function(){this.emitter.next(this.notifications.slice())},t.prototype.get=function(t){return this.notifications.find(function(e){return e.id===t})},t.prototype.add=function(t){this.config.global.newOnTop?this.notifications.unshift(t):this.notifications.push(t),this.emit()},t.prototype.remove=function(t,e){return t?e?(this.notifications=this.notifications.filter(function(e){return e.id!==t}),this.emit()):void this.toastDeleted.next(t):this.clear()},t.prototype.clear=function(){this.notifications=[],this.emit()},t.prototype.create=function(t){var e=_s(this.config.toast,this.config.type[t.config.type],t.config),n=new ys(Math.floor(Math.random()*(Date.now()-1))+1,t.title,t.body,e);return this.add(n),n},t.prototype.setDefaults=function(t){return this.config=_s(this.config,t)},t.prototype.simple=function(t){return this.create(t)},t.prototype.success=function(t){return this.create(t)},t.prototype.error=function(t){return this.create(t)},t.prototype.info=function(t){return this.create(t)},t.prototype.warning=function(t){return this.create(t)},t.prototype.confirm=function(t){return this.create(t)},t.prototype.prompt=function(t){return this.create(t)},t.prototype.async=function(t){var e,n=this;e=t.action instanceof Promise?W(t.action):t.action;var r=this.create(t);return r.on("mounted",function(){var t=e.subscribe(function(t){n.mergeToast(r,t)},function(e){n.mergeToast(r,e,gs.error),t.unsubscribe()},function(){n.mergeToast(r,{},gs.success),t.unsubscribe()})}),r},t.prototype.mergeToast=function(t,e,n){e.body&&(t.body=e.body),e.title&&(t.title=e.title),t.config=n?_s(t.config,this.config.global,this.config.toast[n],{type:n},e.config):_s(t.config,e.config),e.html&&(t.config.html=e.html),this.emit(),this.toastChanged.next(t)},t.prototype.html=function(t,e){return this.create({title:null,body:null,config:Es({},e,{html:t})})},ps([ms,ws,fs("design:type",Function),fs("design:paramtypes",[Object]),fs("design:returntype",ys)],t.prototype,"simple",null),ps([ms,ws,fs("design:type",Function),fs("design:paramtypes",[Object]),fs("design:returntype",ys)],t.prototype,"success",null),ps([ms,ws,fs("design:type",Function),fs("design:paramtypes",[Object]),fs("design:returntype",ys)],t.prototype,"error",null),ps([ms,ws,fs("design:type",Function),fs("design:paramtypes",[Object]),fs("design:returntype",ys)],t.prototype,"info",null),ps([ms,ws,fs("design:type",Function),fs("design:paramtypes",[Object]),fs("design:returntype",ys)],t.prototype,"warning",null),ps([ms,ws,fs("design:type",Function),fs("design:paramtypes",[Object]),fs("design:returntype",ys)],t.prototype,"confirm",null),ps([ms,ws,fs("design:type",Function),fs("design:paramtypes",[Object]),fs("design:returntype",ys)],t.prototype,"prompt",null),ps([ms,ws,fs("design:type",Function),fs("design:paramtypes",[Object]),fs("design:returntype",ys)],t.prototype,"async",null),t}(),ks=function(){function t(){}return t.leftTop="leftTop",t.leftCenter="leftCenter",t.leftBottom="leftBottom",t.rightTop="rightTop",t.rightCenter="rightCenter",t.rightBottom="rightBottom",t.centerTop="centerTop",t.centerCenter="centerCenter",t.centerBottom="centerBottom",t}(),As=function(){function t(t){this.service=t,this.backdrop=-1}return t.prototype.ngOnInit=function(){var t=this;this.emitter=this.service.emitter.subscribe(function(e){t.service.config.global.newOnTop?(t.dockSize_a=-t.service.config.global.maxOnScreen,t.dockSize_b=void 0,t.blockSize_a=-t.service.config.global.maxAtPosition,t.blockSize_b=void 0,t.withBackdrop=e.filter(function(t){return t.config.backdrop>=0})):(t.dockSize_a=0,t.dockSize_b=t.service.config.global.maxOnScreen,t.blockSize_a=0,t.blockSize_b=t.service.config.global.maxAtPosition,t.withBackdrop=e.filter(function(t){return t.config.backdrop>=0}).reverse()),t.notifications=t.splitToasts(e.slice(t.dockSize_a,t.dockSize_b)),t.stateChanged("mounted")})},t.prototype.stateChanged=function(t){if(this.withBackdrop.length)switch(t){case"mounted":this.backdrop<0&&(this.backdrop=0);break;case"beforeShow":this.backdrop=this.withBackdrop[this.withBackdrop.length-1].config.backdrop;break;case"beforeHide":1===this.withBackdrop.length&&(this.backdrop=0);break;case"hidden":1===this.withBackdrop.length&&(this.backdrop=-1)}else this.backdrop>=0&&(this.backdrop=-1)},t.prototype.splitToasts=function(t){var e={};for(var n in ks)ks.hasOwnProperty(n)&&(e[ks[n]]=[]);return t.forEach(function(t){e[t.config.position].push(t)}),e},t.prototype.ngOnDestroy=function(){this.emitter.unsubscribe()},t}(),Ts=function(){function t(t){this.service=t,this.stateChanged=new sn,this.state={paused:!1,progress:0,animation:"",isDestroying:!1,promptType:gs.prompt}}return t.prototype.ngOnInit=function(){var t=this;this.toastChangedSubscription=this.service.toastChanged.subscribe(function(e){t.toast.id===e.id&&t.initToast()}),this.toastDeletedSubscription=this.service.toastDeleted.subscribe(function(e){t.toast.id===e&&t.onRemove()}),this.toast.config.timeout||(this.toast.config.showProgressBar=!1),this.toast.eventEmitter.next("mounted"),this.state.animation="snotifyToast--in"},t.prototype.ngAfterContentInit=function(){var t=this;setTimeout(function(){t.stateChanged.emit("beforeShow"),t.toast.eventEmitter.next("beforeShow"),t.state.animation=t.toast.config.animation.enter},this.service.config.toast.animation.time/5)},t.prototype.ngOnDestroy=function(){cancelAnimationFrame(this.animationFrame),this.toast.eventEmitter.next("destroyed"),this.toastChangedSubscription.unsubscribe(),this.toastDeletedSubscription.unsubscribe()},t.prototype.onClick=function(){this.toast.eventEmitter.next("click"),this.toast.config.closeOnClick&&this.service.remove(this.toast.id)},t.prototype.onRemove=function(){var t=this;this.state.isDestroying=!0,this.toast.eventEmitter.next("beforeHide"),this.stateChanged.emit("beforeHide"),this.state.animation=this.toast.config.animation.exit,setTimeout(function(){t.stateChanged.emit("hidden"),t.state.animation="snotifyToast--out",t.toast.eventEmitter.next("hidden"),setTimeout(function(){return t.service.remove(t.toast.id,!0)},t.toast.config.animation.time/2)},this.toast.config.animation.time/2)},t.prototype.onMouseEnter=function(){this.toast.eventEmitter.next("mouseenter"),this.toast.config.pauseOnHover&&(this.state.paused=!0)},t.prototype.onMouseLeave=function(){this.toast.config.pauseOnHover&&this.toast.config.timeout&&(this.state.paused=!1,this.startTimeout(this.toast.config.timeout*this.state.progress)),this.toast.eventEmitter.next("mouseleave")},t.prototype.onExitTransitionEnd=function(){this.state.isDestroying||(this.initToast(),this.toast.eventEmitter.next("shown"))},t.prototype.initToast=function(){this.toast.config.timeout>0&&this.startTimeout(0)},t.prototype.startTimeout=function(t){var e=this;void 0===t&&(t=0);var n=performance.now(),r=function(){e.animationFrame=requestAnimationFrame(function(i){var o=i+t-n,a=Math.min(o/e.toast.config.timeout,1);e.state.paused?cancelAnimationFrame(e.animationFrame):o<e.toast.config.timeout?(e.state.progress=a,r()):(e.state.progress=1,cancelAnimationFrame(e.animationFrame),e.service.remove(e.toast.id))})};r()},t}(),Is=function(){function t(){}return t.prototype.transform=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=40,i="...";return e.length>0&&(r=e.length>0?parseInt(e[0],10):r,i=e.length>1?e[1]:i),t.length>r?t.substring(0,r)+i:t},t}(),Rs=function(){function t(t){this.service=t}return t.prototype.remove=function(){this.service.remove(this.toast.id)},t}(),Os=function(){this.isPromptFocused=!1},Ps=function(){function t(){}return t.prototype.transform=function(t,e){return void 0===e&&(e=null),t?Object.keys(t):t},t}(),Ds={global:{newOnTop:!0,maxOnScreen:8,maxAtPosition:8},toast:{type:gs.simple,showProgressBar:!0,timeout:2e3,closeOnClick:!0,pauseOnHover:!0,bodyMaxLength:150,titleMaxLength:16,backdrop:-1,icon:null,iconClass:null,html:null,position:ks.rightBottom,animation:{enter:"fadeIn",exit:"fadeOut",time:400}},type:(Cs={},Cs[gs.prompt]={timeout:0,closeOnClick:!1,buttons:[{text:"Ok",action:null,bold:!0},{text:"Cancel",action:null,bold:!1}],placeholder:"Enter answer here...",type:gs.prompt},Cs[gs.confirm]={timeout:0,closeOnClick:!1,buttons:[{text:"Ok",action:null,bold:!0},{text:"Cancel",action:null,bold:!1}],type:gs.confirm},Cs[gs.simple]={type:gs.simple},Cs[gs.success]={type:gs.success},Cs[gs.error]={type:gs.error},Cs[gs.warning]={type:gs.warning},Cs[gs.info]={type:gs.info},Cs[gs.async]={pauseOnHover:!1,closeOnClick:!1,timeout:0,showProgressBar:!1,type:gs.async},Cs)},Ns=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Ss]}},t}();class xs extends Error{constructor(){super("argument out of range"),this.name="ArgumentOutOfRangeError",Object.setPrototypeOf(this,xs.prototype)}}const Ms=new S(t=>t.complete());function Ls(t){return t?function(t){return new S(e=>t.schedule(()=>e.complete()))}(t):Ms}function Fs(t){return e=>0===t?Ls():e.lift(new Bs(t))}class Bs{constructor(t){if(this.total=t,this.total<0)throw new xs}call(t,e){return e.subscribe(new js(t,this.total))}}class js extends v{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Us(t,e,n){return function(r){return r.lift(new Vs(t,e,n))}}class Vs{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new zs(t,this.nextOrObserver,this.error,this.complete))}}class zs extends v{constructor(t,e,n,i){super(t),this._tapNext=w,this._tapError=w,this._tapComplete=w,this._tapError=n||w,this._tapComplete=i||w,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||w,this._tapError=e.error||w,this._tapComplete=e.complete||w)}_next(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function qs(t){const e=new S(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function Hs(...t){let e=t[t.length-1];switch(P(e)?t.pop():e=void 0,t.length){case 0:return Ls(e);case 1:return e?K(t,e):qs(t[0]);default:return K(t,e)}}function Gs(t,e){return"function"==typeof e?n=>n.pipe(Gs((n,r)=>W(t(n,r)).pipe(q((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ks(t))}class Ks{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ws(t,this.project))}}class Ws extends z{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=V(this,t,e,n))}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}class Qs{}const $s=new ut("Location Initialized");class Ys{}const Xs=new ut("appBaseHref");class Js{constructor(t){this._subject=new sn,this._platformStrategy=t;const e=this._platformStrategy.getBaseHref();this._baseHref=Js.stripTrailingSlash(Zs(e)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Js.normalizeQueryParams(e))}normalize(t){return Js.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Zs(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function Zs(t){return t.replace(/\/index.html$/,"")}class tu extends Ys{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Js.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Js.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Js.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class eu extends Ys{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Js.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Js.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Js.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Js.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}var nu=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];const ru={},iu={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},ou=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),au=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),su=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function uu(t,e){const n=lu(t),r=n[13][e];if(void 0===r){if(e===su.CurrencyDecimal)return n[13][su.Decimal];if(e===su.CurrencyGroup)return n[13][su.Group]}return r}function lu(t){const e=t.toLowerCase().replace(/_/g,"-");let n=ru[e];if(n)return n;const r=e.split("-")[0];if(n=ru[r])return n;if("en"===r)return nu;throw new Error(`Missing locale data for the locale "${t}".`)}const cu=2,hu=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,du=/^(\d+)?\.((\d+)(-(\d+))?)?$/,pu=22,fu=".",gu="0",yu=";",mu=",",vu="#",_u="\xa4";function bu(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const wu=new ut("UseV4Plurals");class Cu{}class Eu extends Cu{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return lu(t)[18]}(e||this.locale)(t)){case au.Zero:return"zero";case au.One:return"one";case au.Two:return"two";case au.Few:return"few";case au.Many:return"many";default:return"other"}}}class Su{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(tr(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ct(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}class ku{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Au{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Cn()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${t}' of type '${t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ku(null,this._ngForOf,-1,-1),r),i=new Tu(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(n);else{const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Tu(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}}class Tu{constructor(t,e){this.record=t,this.view=e}}class Iu{constructor(t,e){this._viewContainer=t,this._context=new Ru,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ou("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ou("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class Ru{constructor(){this.$implicit=null,this.ngIf=null}}function Ou(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ct(e)}'.`)}class Pu{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class Du{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}class Nu{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Pu(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class xu{constructor(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}function Mu(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Ct(t)}'`)}const Lu=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,Fu={yMMMdjms:Wu(Ku([Hu("year",1),Gu("month",3),Hu("day",1),Hu("hour",1),Hu("minute",1),Hu("second",1)])),yMdjm:Wu(Ku([Hu("year",1),Hu("month",1),Hu("day",1),Hu("hour",1),Hu("minute",1)])),yMMMMEEEEd:Wu(Ku([Hu("year",1),Gu("month",4),Gu("weekday",4),Hu("day",1)])),yMMMMd:Wu(Ku([Hu("year",1),Gu("month",4),Hu("day",1)])),yMMMd:Wu(Ku([Hu("year",1),Gu("month",3),Hu("day",1)])),yMd:Wu(Ku([Hu("year",1),Hu("month",1),Hu("day",1)])),jms:Wu(Ku([Hu("hour",1),Hu("second",1),Hu("minute",1)])),jm:Wu(Ku([Hu("hour",1),Hu("minute",1)]))},Bu={yyyy:Wu(Hu("year",4)),yy:Wu(Hu("year",2)),y:Wu(Hu("year",1)),MMMM:Wu(Gu("month",4)),MMM:Wu(Gu("month",3)),MM:Wu(Hu("month",2)),M:Wu(Hu("month",1)),LLLL:Wu(Gu("month",4)),L:Wu(Gu("month",1)),dd:Wu(Hu("day",2)),d:Wu(Hu("day",1)),HH:ju(Uu(Wu(qu(Hu("hour",2),!1)))),H:Uu(Wu(qu(Hu("hour",1),!1))),hh:ju(Uu(Wu(qu(Hu("hour",2),!0)))),h:Uu(Wu(qu(Hu("hour",1),!0))),jj:Wu(Hu("hour",2)),j:Wu(Hu("hour",1)),mm:ju(Wu(Hu("minute",2))),m:Wu(Hu("minute",1)),ss:ju(Wu(Hu("second",2))),s:Wu(Hu("second",1)),sss:Wu(Hu("second",3)),EEEE:Wu(Gu("weekday",4)),EEE:Wu(Gu("weekday",3)),EE:Wu(Gu("weekday",2)),E:Wu(Gu("weekday",1)),a:function(t){return function(e,n){return t(e,n).split(" ")[1]}}(Wu(qu(Hu("hour",1),!0))),Z:zu("short"),z:zu("long"),ww:Wu({}),w:Wu({}),G:Wu(Gu("era",1)),GG:Wu(Gu("era",2)),GGG:Wu(Gu("era",3)),GGGG:Wu(Gu("era",4))};function ju(t){return function(e,n){const r=t(e,n);return 1==r.length?"0"+r:r}}function Uu(t){return function(e,n){return t(e,n).split(" ")[0]}}function Vu(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function zu(t){const e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){const r=Vu(t,n,e);return r?r.substring(3):""}}function qu(t,e){return t.hour12=e,t}function Hu(t,e){const n={};return n[t]=2===e?"2-digit":"numeric",n}function Gu(t,e){const n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function Ku(t){return t.reduce((t,e)=>Object.assign({},t,e),{})}function Wu(t){return(e,n)=>Vu(e,n,t)}const Qu=new Map;class $u{static format(t,e,n){return function(t,e,n){const r=Fu[t];if(r)return r(e,n);const i=t;let o=Qu.get(i);if(!o){let e;o=[],Lu.exec(t);let n=t;for(;n;)(e=Lu.exec(n))?n=(o=o.concat(e.slice(1))).pop():(o.push(n),n=null);Qu.set(i,o)}return o.reduce((t,r)=>{const i=Bu[r];return t+(i?i(e,n):function(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,t,e)}}class Yu{constructor(t){this._locale=t}transform(t,e="mediumDate"){if(null==t||""===t||t!=t)return null;let n;if("string"==typeof t&&(t=t.trim()),Xu(t))n=t;else if(isNaN(t-parseFloat(t)))if("string"==typeof t&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,r,i]=t.split("-").map(t=>parseInt(t,10));n=new Date(e,r-1,i)}else n=new Date(t);else n=new Date(parseFloat(t));if(!Xu(n)){let e;if("string"!=typeof t||!(e=t.match(hu)))throw Mu(Yu,t);n=function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,l),e}(e)}return $u.format(n,this._locale,Yu._ALIASES[e]||e)}}function Xu(t){return t instanceof Date&&!isNaN(t.valueOf())}Yu._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"};const Ju=new class{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}},Zu=new class{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}};class tl{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Jn.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(De(t))return Ju;if(Ne(t))return Zu;throw Mu(tl,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class el{constructor(t){this._locale=t}transform(t,e,n="symbol",r,i){if(function(t){return null==t||""===t||t!=t}(t))return null;i=i||this._locale,"boolean"==typeof n&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),n=n?"symbol":"code");let o=e||"USD";"code"!==n&&(o="symbol"===n||"symbol-narrow"===n?function(t,e,n="en"){const r=function(t){return lu(t)[17]}(n)[t]||iu[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(o,"symbol"===n?"wide":"narrow",i):n);try{return function(t,e,n,r,i){const o=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(yu),i=r[0],o=r[1],a=-1!==i.indexOf(fu)?i.split(fu):[i.substring(0,i.lastIndexOf(gu)+1),i.substring(i.lastIndexOf(gu)+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf(vu));for(let c=0;c<u.length;c++){const t=u.charAt(c);t===gu?n.minFrac=n.maxFrac=c+1:t===vu?n.maxFrac=c+1:n.posSuf+=t}const l=s.split(mu);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf(vu);n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return lu(t)[14][e]}(e,ou.Currency),uu(e,su.MinusSign));return o.minFrac=function(t){let e;const n=iu[r];return n&&(e=n[2]),"number"==typeof e?e:cu}(),o.maxFrac=o.minFrac,function(t,e,n,r,i,o,a=!1){let s="",u=!1;if(isFinite(t)){let l=function(e){let n,r,i,o,a,s=Math.abs(t)+"",u=0;for((r=s.indexOf(fu))>-1&&(s=s.replace(fu,"")),(i=s.search(/e/i))>0?(r<0&&(r=i),r+=+s.slice(i+1),s=s.substring(0,i)):r<0&&(r=s.length),i=0;s.charAt(i)===gu;i++);if(i===(a=s.length))n=[0],r=1;else{for(a--;s.charAt(a)===gu;)a--;for(r-=i,n=[],o=0;i<=a;i++,o++)n[o]=Number(s.charAt(i))}return r>pu&&(n=n.splice(0,pu-1),u=r-1,r=1),{digits:n,exponent:u,integerLen:r}}();a&&(l=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let c=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){const t=o.match(du);if(null===t)throw new Error(`${o} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(c=bu(e)),null!=n&&(h=bu(n)),null!=r?d=bu(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(let t=a;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(let t=1;t<a;t++)r[t]=0}if(s>=5)if(a-1<0){for(let e=0;e>a;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const l=e+t.integerLen,c=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=l?r.pop():u=!1),e>=10?1:0},0);c&&(r.unshift(c),t.integerLen++)}(l,h,d);let p=l.digits,f=l.integerLen;const g=l.exponent;let y=[];for(u=p.every(t=>!t);f<c;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?y=p.splice(f,p.length):(y=p,p=[0]);const m=[];for(p.length>=e.lgSize&&m.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)m.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&m.unshift(p.join("")),s=m.join(uu(n,r)),y.length&&(s+=uu(n,i)+y.join("")),g&&(s+=uu(n,su.Exponential)+"+"+g)}else s=uu(n,su.Infinity);return t<0&&!u?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}(t,o,e,su.CurrencyGroup,su.CurrencyDecimal,i).replace(_u,n).replace(_u,"")}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(t),i,o,e,r)}catch(t){throw Mu(el,t.message)}}}class nl{transform(t,e,n){if(null==t)return t;if(!this.supports(t))throw Mu(nl,t);return t.slice(e,n)}supports(t){return"string"==typeof t||Array.isArray(t)}}class rl{}const il=new ut("DocumentToken"),ol="browser",al="server";function sl(t){return t===al}class ul{}ul.ngInjectableDef=st({providedIn:"root",factory:()=>new class{constructor(t,e){this.document=t,this.window=e,this.offset=(()=>[0,0])}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}(ne(il),window)});class ll extends g{constructor(t,e){super()}schedule(t,e=0){return this}}class cl extends ll{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class hl{constructor(t,e=hl.now){this.SchedulerAction=t,this.now=e}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}hl.now=(()=>Date.now());class dl extends hl{constructor(t,e=hl.now){super(t,()=>dl.delegate&&dl.delegate!==this?dl.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return dl.delegate&&dl.delegate!==this?dl.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const pl=new class extends dl{}(class extends cl{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}});class fl extends Error{constructor(){super("no elements in sequence"),this.name="EmptyError",Object.setPrototypeOf(this,fl.prototype)}}function gl(t,e){return function(n){return n.lift(new yl(t,e))}}class yl{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ml(t,this.predicate,this.thisArg))}}class ml extends v{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)}}function vl(t=null){return e=>e.lift(new _l(t))}class _l{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new bl(t,this.defaultValue))}}class bl extends v{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}const wl=(t=function(){return new fl})=>Us({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function Cl(t,e){const n=arguments.length>=2;return r=>r.pipe(t?gl((e,n)=>t(e,n,r)):X,Fs(1),n?vl(e):wl(()=>new fl))}const El=new ut("angularfire2.realtimeDatabaseURL");class Sl{constructor(t,e){this.zone=t,this.platformId=e}schedule(...t){return this.zone.runGuarded(function(){return pl.schedule.apply(pl,t)})}keepUnstableUntilFirst(t){return sl(this.platformId)?new S(e=>{const n=()=>{},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);return t.pipe(Cl()).subscribe(()=>this.zone.runOutsideAngular(()=>r.invoke())),t.subscribe(e)}):t}runOutsideAngular(t){return new S(e=>this.zone.runOutsideAngular(()=>t.subscribe(t=>this.zone.run(()=>e.next(t)),t=>this.zone.run(()=>e.error(t)),()=>this.zone.run(()=>e.complete()))))}}var kl=n("Wcq6");const Al=new ut("angularfire2.app.options"),Tl=new ut("angularfire2.app.nameOrConfig");class Il{}function Rl(t,e){const n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",kl.apps.filter(t=>t&&t.name===n.name)[0]||kl.initializeApp(t,n)}new Pt;class Ol{static initializeApp(t,e){return{ngModule:Ol,providers:[{provide:Al,useValue:t},{provide:Tl,useValue:e}]}}}class Pl{constructor(t,e,n,r){this.zone=r;const i=new Sl(r,n);this.auth=r.runOutsideAngular(()=>Rl(t,e).auth()),this.authState=i.keepUnstableUntilFirst(i.runOutsideAngular(new S(t=>({unsubscribe:this.auth.onAuthStateChanged(t)})))),this.user=i.keepUnstableUntilFirst(i.runOutsideAngular(new S(t=>({unsubscribe:this.auth.onIdTokenChanged(t)})))),this.idToken=this.user.pipe(Gs(t=>t?W(t.getIdToken()):Hs(null))),this.idTokenResult=this.user.pipe(Gs(t=>t?W(t.getIdTokenResult()):Hs(null)))}}var Dl=n("wj3C"),Nl=n.n(Dl);(function(){var t,e=e||{},n=this;function r(t){return"string"==typeof t}function i(t){return"boolean"==typeof t}function o(){}function a(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function s(t){return null===t}function u(t){return"array"==a(t)}function l(t){var e=a(t);return"array"==e||"object"==e&&"number"==typeof t.length}function c(t){return"function"==a(t)}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function f(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:g).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var v=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.nb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ed=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function b(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function w(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function E(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");C.call(this,n+t[r])}function S(t,e){throw new E("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function k(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function A(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function T(){this.b=this.a=null}_(C,Error),C.prototype.name="CustomError",_(E,C),E.prototype.name="AssertionError",k.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var I=new k(function(){return new O},function(t){t.reset()});function R(){var t=dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function O(){this.next=this.b=this.a=null}T.prototype.add=function(t,e){var n=I.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},O.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},O.prototype.reset=function(){this.next=this.b=this.a=null};var P=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(r(t))return r(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},D=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=r(t)?t.split(""):t,a=0;a<i;a++)a in o&&e.call(n,o[a],a,t)},N=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),o=r(t)?t.split(""):t,a=0;a<n;a++)a in o&&(i[a]=e.call(void 0,o[a],a,t));return i},x=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t))return!0;return!1};function M(t,e){return 0<=P(t,e)}function L(t,e){var n;return(n=0<=(e=P(t,e)))&&Array.prototype.splice.call(t,e,1),n}function F(t,e){!function(t,e){var n=t.length,i=r(t)?t.split(""):t;for(--n;0<=n;--n)n in i&&e.call(void 0,i[n],n,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function B(t){return Array.prototype.concat.apply([],arguments)}function j(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function U(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}var V=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function z(t){return Y.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(H,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(G,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(K,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(W,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Q,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace($,"&#0;")),t):t}var q,H=/&/g,G=/</g,K=/>/g,W=/"/g,Q=/'/g,$=/\x00/g,Y=/[\x00&<>"']/;function X(t,e){return-1!=t.indexOf(e)}function J(t,e){return t<e?-1:t>e?1:0}t:{var Z=n.navigator;if(Z){var tt=Z.userAgent;if(tt){q=tt;break t}}q=""}function et(t){return X(q,t)}function nt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function rt(t){for(var e in t)return!1;return!0}function it(t){var e,n={};for(e in t)n[e]=t[e];return n}var ot,at,st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<st.length;o++)n=st[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lt(t){n.setTimeout(function(){throw t},0)}function ct(t,e){at||function(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);at=function(){t.then(pt)}}else at=function(){var t=pt;!c(n.setImmediate)||n.Window&&n.Window.prototype&&!et("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(ot||(ot=function(){var t=n.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!et("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=y(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!et("Trident")&&!et("MSIE")){var e=new t,r={},i=r;return e.port1.onmessage=function(){if(void 0!==r.next){var t=(r=r.next).vb;r.vb=null,t()}},function(t){i.next={vb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}()),ot(t)):n.setImmediate(t)}}(),ht||(at(),ht=!0),dt.add(t,e)}var ht=!1,dt=new T;function pt(){for(var t;t=R();){try{t.a.call(t.b)}catch(t){lt(t)}A(I,t)}ht=!1}function ft(t,e){if(this.a=gt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=o)try{var n=this;t.call(e,function(t){Tt(n,yt,t)},function(t){if(!(t instanceof xt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Tt(n,mt,t)})}catch(t){Tt(this,mt,t)}}var gt=0,yt=2,mt=3;function vt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}vt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _t=new k(function(){return new vt},function(t){t.reset()});function bt(t,e,n){var r=_t.get();return r.g=t,r.b=e,r.f=n,r}function wt(t){if(t instanceof ft)return t;var e=new ft(o);return Tt(e,yt,t),e}function Ct(t){return new ft(function(e,n){n(t)})}function Et(t,e,n){It(t,e,n,null)||ct(m(e,t))}function St(t){return new ft(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Cb:!0,value:o}:{Cb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Et(t[o],m(i,o,!0),m(i,o,!1));else e(r)})}function kt(t,e){t.b||t.a!=yt&&t.a!=mt||Rt(t),t.f?t.f.next=e:t.b=e,t.f=e}function At(t,e,n,r){var i=bt(null,null,null);return i.a=new ft(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof xt?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,kt(t,i),i.a}function Tt(t,e,n){t.a==gt&&(t===n&&(e=mt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,It(n,t.Nc,t.Oc,t)||(t.i=n,t.a=e,t.c=null,Rt(t),e!=mt||n instanceof xt||function(t,e){t.g=!0,ct(function(){t.g&&Nt.call(null,e)})}(t,n)))}function It(t,e,n,r){if(t instanceof ft)return kt(t,bt(e||o,n||null,r)),!0;if(w(t))return t.then(e,n,r),!0;if(h(t))try{var i=t.then;if(c(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Rt(t){t.h||(t.h=!0,ct(t.Yb,t))}function Ot(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Pt(t,e,n,r){if(n==mt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Dt(e,n,r);else try{e.c?e.g.call(e.f):Dt(e,n,r)}catch(t){Nt.call(null,t)}A(_t,e)}function Dt(t,e,n){e==yt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ft.prototype.then=function(t,e,n){return At(this,c(t)?t:null,c(e)?e:null,n)},b(ft),(t=ft.prototype).ia=function(t,e){return(t=bt(t,t,e)).c=!0,kt(this,t),this},t.s=function(t,e){return At(this,null,t,e)},t.cancel=function(t){this.a==gt&&ct(function(){!function t(e,n){if(e.a==gt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==gt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Ot(r),Pt(r,o,mt,n)))}e.c=null}else Tt(e,mt,n)}(this,new xt(t))},this)},t.Nc=function(t){this.a=gt,Tt(this,yt,t)},t.Oc=function(t){this.a=gt,Tt(this,mt,t)},t.Yb=function(){for(var t;t=Ot(this);)Pt(this,t,this.a,this.i);this.h=!1};var Nt=lt;function xt(t){C.call(this,t)}function Mt(){0!=Lt&&(Ft[this[d]||(this[d]=++p)]=this),this.pa=this.pa,this.ja=this.ja}_(xt,C),xt.prototype.name="cancel";var Lt=0,Ft={};function Bt(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=Lt)){var e=t[d]||(t[d]=++p);if(0!=Lt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ft[e]}}function jt(t){return jt[" "](t),t}Mt.prototype.pa=!1,Mt.prototype.ua=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},jt[" "]=o;var Ut,Vt=et("Opera"),zt=et("Trident")||et("MSIE"),qt=et("Edge"),Ht=qt||zt,Gt=et("Gecko")&&!(X(q.toLowerCase(),"webkit")&&!et("Edge"))&&!(et("Trident")||et("MSIE"))&&!et("Edge"),Kt=X(q.toLowerCase(),"webkit")&&!et("Edge");function Wt(){var t=n.document;return t?t.documentMode:void 0}t:{var Qt="",$t=function(){var t=q;return Gt?/rv:([^\);]+)(\)|;)/.exec(t):qt?/Edge\/([\d\.]+)/.exec(t):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Kt?/WebKit\/(\S+)/.exec(t):Vt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if($t&&(Qt=$t?$t[1]:""),zt){var Yt=Wt();if(null!=Yt&&Yt>parseFloat(Qt)){Ut=String(Yt);break t}}Ut=Qt}var Xt,Jt={};function Zt(t){return function(t,e){var n=Jt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=V(String(Ut)).split("."),r=V(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=J(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||J(0==a[2].length,0==s[2].length)||J(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var te=n.document;Xt=te&&zt?Wt()||("CSS1Compat"==te.compatMode?parseInt(Ut,10):5):void 0;var ee=Object.freeze||function(t){return t},ne=!zt||9<=Number(Xt),re=zt&&!Zt("9"),ie=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return n.addEventListener("test",o,e),n.removeEventListener("test",o,e),t}();function oe(t,e){this.type=t,this.b=this.target=e,this.Jb=!0}function ae(t,e){if(oe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Gt){t:{try{jt(e.nodeName);var o=!0;break t}catch(t){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===i?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=r(t.pointerType)?t.pointerType:se[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}oe.prototype.preventDefault=function(){this.Jb=!1},_(ae,oe);var se=ee({2:"touch",3:"pen",4:"mouse"});ae.prototype.preventDefault=function(){ae.nb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,re)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},ae.prototype.f=function(){return this.a};var ue="closure_listenable_"+(1e6*Math.random()|0),le=0;function ce(t){t.na=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function he(t){this.src=t,this.a={},this.b=0}function de(t,e){var n=e.type;n in t.a&&L(t.a[n],e)&&(ce(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function pe(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.na&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}he.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=pe(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new function(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++le,this.na=this.Ia=!1}(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var fe="closure_lm_"+(1e6*Math.random()|0),ge={};function ye(t,e,n,r,i){if(r&&r.once)ve(t,e,n,r,i);else if(u(e))for(var o=0;o<e.length;o++)ye(t,e[o],n,r,i);else n=Te(n),t&&t[ue]?Re(t,e,n,h(r)?!!r.capture:!!r,i):me(t,e,n,!1,r,i)}function me(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i,s=ke(t);if(s||(t[fe]=s=new he(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=Se,e=ne?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ie||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(we(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function ve(t,e,n,r,i){if(u(e))for(var o=0;o<e.length;o++)ve(t,e[o],n,r,i);else n=Te(n),t&&t[ue]?Oe(t,e,n,h(r)?!!r.capture:!!r,i):me(t,e,n,!0,r,i)}function _e(t,e,n,r,i){if(u(e))for(var o=0;o<e.length;o++)_e(t,e[o],n,r,i);else r=h(r)?!!r.capture:!!r,n=Te(n),t&&t[ue]?(t=t.m,(e=String(e).toString())in t.a&&-1<(n=pe(o=t.a[e],n,r,i))&&(ce(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=ke(t))&&(e=t.a[e.toString()],t=-1,e&&(t=pe(e,n,r,i)),(n=-1<t?e[t]:null)&&be(n))}function be(t){if("number"!=typeof t&&t&&!t.na){var e=t.src;if(e&&e[ue])de(e.m,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(we(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ke(e))?(de(n,t),0==n.b&&(n.src=null,e[fe]=null)):ce(t)}}}function we(t){return t in ge?ge[t]:ge[t]="on"+t}function Ce(t,e,n,r){var i=!0;if((t=ke(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.na&&(o=Ee(o,r),i=i&&!1!==o)}return i}function Ee(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&be(t),n.call(r,e)}function Se(t,e){if(t.na)return!0;if(!ne){if(!e)t:{e=["window","event"];for(var r=n,i=0;i<e.length;i++)if(null==(r=r[e[i]])){e=null;break t}e=r}if(e=new ae(i=e,this),r=!0,!(0>i.keyCode||void 0!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.b;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;0<=o;o--){e.b=i[o];var a=Ce(i[o],t,!0,e);r=r&&a}for(o=0;o<i.length;o++)e.b=i[o],a=Ce(i[o],t,!1,e),r=r&&a}return r}return Ee(t,new ae(e,this))}function ke(t){return(t=t[fe])instanceof he?t:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(t){return c(t)?t:(t[Ae]||(t[Ae]=function(e){return t.handleEvent(e)}),t[Ae])}function Ie(){Mt.call(this),this.m=new he(this),this.Rb=this,this.Ua=null}function Re(t,e,n,r,i){t.m.add(String(e),n,!1,r,i)}function Oe(t,e,n,r,i){t.m.add(String(e),n,!0,r,i)}function Pe(t,e,n,r){if(!(e=t.m.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.na&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&de(t.m,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Jb}function De(t,e,r){if(c(t))r&&(t=y(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function Ne(t){var e=null;return new ft(function(n,r){-1==(e=De(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw n.clearTimeout(e),t})}function xe(t){if(t.S&&"function"==typeof t.S)return t.S();if(r(t))return t.split("");if(l(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function Me(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(l(t)||r(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function Le(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Le)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Fe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Be(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Be(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Be(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(Ie,Mt),Ie.prototype[ue]=!0,Ie.prototype.addEventListener=function(t,e,n,r){ye(this,t,e,n,r)},Ie.prototype.removeEventListener=function(t,e,n,r){_e(this,t,e,n,r)},Ie.prototype.dispatchEvent=function(t){var e,n=this.Ua;if(n)for(e=[];n;n=n.Ua)e.push(n);n=this.Rb;var i=t.type||t;if(r(t))t=new oe(t,n);else if(t instanceof oe)t.target=t.target||n;else{var o=t;ut(t=new oe(i,n),o)}if(o=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];o=Pe(s,i,!0,t)&&o}if(o=Pe(s=t.b=n,i,!0,t)&&o,o=Pe(s,i,!1,t)&&o,e)for(a=0;a<e.length;a++)o=Pe(s=t.b=e[a],i,!1,t)&&o;return o},Ie.prototype.ua=function(){if(Ie.nb.ua.call(this),this.m){var t,e=this.m;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ce(n[r]);delete e.a[t],e.b--}}this.Ua=null},(t=Le.prototype).S=function(){Fe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return Fe(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Be(this.b,t)?this.b[t]:e},t.set=function(t,e){Be(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var je=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ue(t,e){if(this.b=this.m=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof Ue){this.f=void 0!==e?e:t.f,Ve(this,t.c),this.m=t.m,this.b=t.b,ze(this,t.i),this.g=t.g,e=t.a;var n=new nn;n.c=e.c,e.a&&(n.a=new Le(e.a),n.b=e.b),qe(this,n),this.h=t.h}else t&&(n=String(t).match(je))?(this.f=!!e,Ve(this,n[1]||"",!0),this.m=Qe(n[2]||""),this.b=Qe(n[3]||"",!0),ze(this,n[4]),this.g=Qe(n[5]||"",!0),qe(this,n[6]||"",!0),this.h=Qe(n[7]||"")):(this.f=!!e,this.a=new nn(null,this.f))}function Ve(t,e,n){t.c=n?Qe(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function ze(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function qe(t,e,n){e instanceof nn?(t.a=e,function(t,e){e&&!t.f&&(rn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(an(this,e),un(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=$e(e,tn)),t.a=new nn(e,t.f))}function He(t,e,n){t.a.set(e,n)}function Ge(t,e){return t.a.get(e)}function Ke(t){return t instanceof Ue?new Ue(t):new Ue(t,void 0)}function We(t,e){var n=new Ue(null,void 0);return Ve(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function Qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $e(t,e,n){return r(t)?(t=encodeURI(t).replace(e,Ye),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ye(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ue.prototype.toString=function(){var t=[],e=this.c;e&&t.push($e(e,Xe,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.m)&&t.push($e(e,Xe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push($e(n,"/"==n.charAt(0)?Ze:Je,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",$e(n,en)),t.join("")};var Xe=/[#\/\?@]/g,Je=/[#\?:]/g,Ze=/[#\?]/g,tn=/[#\?@]/g,en=/#/g;function nn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function rn(t){t.a||(t.a=new Le,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function on(t){var e=Me(t);if(void 0===e)throw Error("Keys are undefined");var n=new nn(null,void 0);t=xe(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];u(o)?un(n,i,o):n.add(i,o)}return n}function an(t,e){rn(t),e=ln(t,e),Be(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Be((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Fe(t)))}function sn(t,e){return rn(t),e=ln(t,e),Be(t.a.b,e)}function un(t,e,n){an(t,e),0<n.length&&(t.c=null,t.a.set(ln(t,e),j(n)),t.b+=n.length)}function ln(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=nn.prototype).add=function(t,e){rn(this),this.c=null,t=ln(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){rn(this),this.a.forEach(function(n,r){D(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){rn(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.S=function(t){rn(this);var e=[];if(r(t))sn(this,t)&&(e=B(e,this.a.get(ln(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=B(e,t[n])}return e},t.set=function(t,e){return rn(this),this.c=null,sn(this,t=ln(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return 0<(t=t?this.S(t):[]).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var cn=!zt||9<=Number(Xt);function hn(){this.a="",this.b=pn}function dn(t){return t instanceof hn&&t.constructor===hn&&t.b===pn?t.a:(S("expected object of type Const, got '"+t+"'"),"type_error:Const")}hn.prototype.ma=!0,hn.prototype.la=function(){return this.a},hn.prototype.toString=function(){return"Const{"+this.a+"}"};var pn={};function fn(t){var e=new hn;return e.a=t,e}function gn(){this.a="",this.b=bn}function yn(t){return t instanceof gn&&t.constructor===gn&&t.b===bn?t.a:(S("expected object of type TrustedResourceUrl, got '"+t+"' of type "+a(t)),"type_error:TrustedResourceUrl")}function mn(t,e){var n=dn(t);if(!_n.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new gn;return e.a=t,e}(t=n.replace(vn,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof hn?dn(t):encodeURIComponent(String(t))}))}fn(""),gn.prototype.ma=!0,gn.prototype.la=function(){return this.a},gn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var vn=/%{(\w+)}/g,_n=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,bn={};function wn(){this.a="",this.b=kn}function Cn(t){return t instanceof wn&&t.constructor===wn&&t.b===kn?t.a:(S("expected object of type SafeUrl, got '"+t+"' of type "+a(t)),"type_error:SafeUrl")}wn.prototype.ma=!0,wn.prototype.la=function(){return this.a},wn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var En=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Sn(t){return t instanceof wn?t:(t=t.ma?t.la():String(t),En.test(t)||(t="about:invalid#zClosurez"),An(t))}var kn={};function An(t){var e=new wn;return e.a=t,e}function Tn(){this.a="",this.b=In}An("about:blank"),Tn.prototype.ma=!0,Tn.prototype.la=function(){return this.a},Tn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var In={};function Rn(t){var e=new Tn;return e.a=t,e}function On(t){var e=document;return r(t)?e.getElementById(t):t}function Pn(t,e){nt(e,function(e,n){e&&e.ma&&(e=e.la()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Dn.hasOwnProperty(n)?t.setAttribute(Dn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}Rn("<!DOCTYPE html>"),Rn(""),Rn("<br>");var Dn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Nn(t){if(t&&"number"==typeof t.length){if(h(t))return"function"==typeof t.item||"string"==typeof t.item;if(c(t))return"function"==typeof t.item}return!1}function xn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(u(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Fn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Fn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new function(){},t,e),e.join("")}var Mn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ln=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Fn(t,e){e.push('"',t.replace(Ln,function(t){var e=Mn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Mn[t]=e),e}),'"')}function Bn(){var t=nr();return zt&&!!Xt&&11==Xt||/Edge\/\d+/.test(t)}function jn(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function Un(t,e){e=e||n.window;var r="about:blank";t&&(r=Cn(Sn(t))),e.location.href=r}function Vn(t){return!!((t=(t||nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function zn(t){t=t||n.window;try{t.close()}catch(t){}}function qn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=nr().toLowerCase(),r&&(e.target=r,X(n,"crios/")&&(e.target="_blank")),Zn(nr())==Xn&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof wn?n:Sn(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((et("iPhone")&&!et("iPod")&&!et("iPad")||et("iPad")||et("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(s=r.document.createElement("A"),e instanceof wn||e instanceof wn||(e=e.ma?e.la():String(e),En.test(e)||(e="about:invalid#zClosurez"),e=An(e)),s.href=Cn(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Cn(e),s&&(Ht&&X(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,fn("b/12014412, meta tag with sanitized URL"),t=Rn(t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+z(t)+'">'),s.document.write(function(t){return t instanceof Tn&&t.constructor===Tn&&t.b===In?t.a:(S("expected object of type SafeHtml, got '"+t+"' of type "+a(t)),"type_error:SafeHtml")}(t)),s.document.close())):(s=r.open(Cn(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var Hn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;function Gn(){var t=null;return new ft(function(e){"complete"==n.document.readyState?e():(t=function(){e()},ve(window,"load",t))}).s(function(e){throw _e(window,"load",t),e})}function Kn(t){return t=t||nr(),!("file:"!==sr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wn(){var t=n.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Qn(){return"object"!=typeof n.window&&"function"==typeof n.importScripts}function $n(){return Nl.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Nl.a.INTERNAL.hasOwnProperty("node")?"Node":Qn()?"Worker":"Browser"}function Yn(){var t=$n();return"ReactNative"===t||"Node"===t}var Xn="Firefox",Jn="Chrome";function Zn(t){var e=t.toLowerCase();return X(e,"opera/")||X(e,"opr/")||X(e,"opios/")?"Opera":X(e,"iemobile")?"IEMobile":X(e,"msie")||X(e,"trident/")?"IE":X(e,"edge/")?"Edge":X(e,"firefox/")?Xn:X(e,"silk/")?"Silk":X(e,"blackberry")?"Blackberry":X(e,"webos")?"Webos":!X(e,"safari/")||X(e,"chrome/")||X(e,"crios/")||X(e,"android")?!X(e,"chrome/")&&!X(e,"crios/")||X(e,"edge/")?X(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Jn:"Safari"}var tr={Uc:"FirebaseCore-web",Wc:"FirebaseUI-web"};function er(t,e){e=e||[];var n,r=[],i={};for(n in tr)i[tr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=$n())?r=Zn(i=nr()):"Worker"===r&&(r=Zn(i=nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function nr(){return n.navigator&&n.navigator.userAgent||""}function rr(t,e){t=t.split("."),e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];return r!=t.length&&(e=void 0),e}function ir(){try{var t=n.localStorage,e=dr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Bn()||!!n.indexedDB}catch(t){return Qn()&&!!n.indexedDB}return!1}function or(){return(ar()||"chrome-extension:"===sr()||Kn())&&!Yn()&&ir()&&!Qn()}function ar(){return"http:"===sr()||"https:"===sr()}function sr(){return n.location&&n.location.protocol||null}function ur(t){return!Vn(t=t||nr())&&Zn(t)!=Xn}function lr(t){return void 0===t?null:xn(t)}function cr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function hr(t){if(null!==t)return JSON.parse(t)}function dr(t){return t||Math.floor(1e9*Math.random()).toString()}function pr(t){return"Safari"!=Zn(t=t||nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function fr(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null}function gr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=nr(),e=$n(),this.b=Vn(t)||"ReactNative"===e}function yr(){var t=n.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function mr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function vr(){return!(!rr("fireauth.oauthhelper",n)&&!rr("fireauth.iframe",n))}gr.prototype.get=function(){var t=n.navigator;return!t||"boolean"!=typeof t.onLine||!ar()&&"chrome-extension:"!==sr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var _r,br={};function wr(t){br[t]||(br[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Cr={};Object.defineProperty(Cr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Cr,"abcd",{configurable:!0,enumerable:!0,value:2}),_r=2==Cr.abcd}catch(t){_r=!1}function Er(t,e,n){_r?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Sr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Er(t,n,e[n])}function kr(t){var e={};return Sr(e,t),e}function Ar(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Er(e,n,Ar(t[n]));return e}function Tr(t,e){this.code=Rr+t,this.message=e||Or[t]||""}function Ir(t){var e=t&&t.code;return e?new Tr(e.substring(Rr.length),t.message):null}_(Tr,Error),Tr.prototype.D=function(){return{code:this.code,message:this.message}},Tr.prototype.toJSON=function(){return this.D()};var Rr="auth/",Or={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Pr(t){var e=t[Mr];if(void 0===e)throw new Tr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Tr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Dr];if(n&&"object"==typeof n){e=n[Br];var r=n[Lr];if(n=n[Fr],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Tr("argument-error",Lr+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Tr("argument-error",Fr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Tr("argument-error",Br+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Tr("missing-android-pkg-name")}}else if(void 0!==n)throw new Tr("argument-error",Dr+" property must be a non null object when specified.");if(this.f=null,(e=t[xr])&&"object"==typeof e){if("string"==typeof(e=e[jr])&&e.length)this.f=e;else if(void 0!==e)throw new Tr("argument-error",jr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Tr("argument-error",xr+" property must be a non null object when specified.");if(void 0!==(t=t[Nr])&&"boolean"!=typeof t)throw new Tr("argument-error",Nr+" property must be a boolean when specified.");this.c=!!t}var Dr="android",Nr="handleCodeInApp",xr="iOS",Mr="url",Lr="installApp",Fr="minimumVersion",Br="packageName",jr="bundleId";function Ur(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e)null===e[n]&&delete e[n];return e}var Vr=null,zr=null;function qr(t){this.c=t.sub,v(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Hr(t){return(t=Gr(t))&&t.sub&&t.iss&&t.aud&&t.exp?new qr(t):null}function Gr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=zr[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Vr){Vr={},zr={};for(var t=0;65>t;t++)Vr[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),zr[Vr[t]]=t,62<=t&&(zr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(t){}return null}qr.prototype.f=function(){return this.b};var Kr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wr=["client_id","response_type","scope","redirect_uri","state"],Qr={Vc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",gb:Wr},Xc:{Ma:null,Ba:500,Aa:620,Na:"github.com",gb:Wr},Yc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",gb:Wr},dd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",gb:Kr}};function $r(t){for(var e in Qr)if(Qr[e].Na==t)return Qr[e];return null}function Yr(t){var e={};e["facebook.com"]=ei,e["google.com"]=ri,e["github.com"]=ni,e["twitter.com"]=ii;var n=t&&t[Jr];try{if(n)return e[n]?new e[n](t):new ti(t);if(void 0!==t[Xr])return new Zr(t)}catch(t){}return null}var Xr="idToken",Jr="providerId";function Zr(t){var e=t[Jr];if(!e&&t[Xr]){var n=Hr(t[Xr]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Er(this,"providerId",e),Er(this,"isNewUser",n)}function ti(t){Zr.call(this,t),Er(this,"profile",Ar((t=hr(t.rawUserInfo||"{}"))||{}))}function ei(t){if(ti.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ni(t){if(ti.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Er(this,"username",this.profile&&this.profile.login||null)}function ri(t){if(ti.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ii(t){if(ti.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Er(this,"username",t.screenName||null)}function oi(t){var e=Ke(t),n=Ge(e,"link"),r=Ge(Ke(n),"link");return Ge(Ke(e=Ge(e,"deep_link_id")),"link")||e||r||n||t}function ai(t,e){return t.then(function(t){if(t[Bo]){var n=Hr(t[Bo]);if(!n||e!=n.c)throw new Tr("user-mismatch");return t}throw new Tr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==Rr+"user-not-found"?new Tr("user-mismatch"):t})}function si(t,e,n){if(e.idToken||e.accessToken)e.idToken&&Er(this,"idToken",e.idToken),e.accessToken&&Er(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Tr("internal-error","failed to construct a credential");Er(this,"accessToken",e.oauthToken),Er(this,"secret",e.oauthTokenSecret)}Er(this,"providerId",t),Er(this,"signInMethod",n)}function ui(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:on(e).toString(),requestUri:"http://localhost"}}function li(t,e){this.Dc=e||[],Sr(this,{providerId:t,isOAuthProvider:!0}),this.xb={},this.bb=($r(t)||{}).Ma||null,this.Za=null}function ci(t){li.call(this,t,Wr),this.a=[]}function hi(){ci.call(this,"facebook.com")}function di(t){if(!t)throw new Tr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return h(t)&&(e=t.accessToken),(new hi).credential(null,e)}function pi(){ci.call(this,"github.com")}function fi(t){if(!t)throw new Tr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return h(t)&&(e=t.accessToken),(new pi).credential(null,e)}function gi(){ci.call(this,"google.com"),this.ta("profile")}function yi(t,e){var n=t;return h(t)&&(n=t.idToken,e=t.accessToken),(new gi).credential(n,e)}function mi(){li.call(this,"twitter.com",Kr)}function vi(t,e){var n=t;if(h(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Tr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new si("twitter.com",n,"twitter.com")}function _i(t,e,n){this.a=t,this.b=e,Er(this,"providerId","password"),Er(this,"signInMethod",n===bi.EMAIL_LINK_SIGN_IN_METHOD?bi.EMAIL_LINK_SIGN_IN_METHOD:bi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function bi(){Sr(this,{providerId:"password",isOAuthProvider:!1})}function wi(t,e){if(!(e=Ci(e)))throw new Tr("argument-error","Invalid email link!");return new _i(t,e,bi.EMAIL_LINK_SIGN_IN_METHOD)}function Ci(t){var e=Ge((t=new function(t){this.a=Ke(t)}(t=oi(t))).a,"oobCode")||null;return"signIn"===(Ge(t.a,"mode")||null)&&e?e:null}function Ei(t){if(!(t.Sa&&t.Ra||t.Fa&&t.$))throw new Tr("internal-error");this.a=t,Er(this,"providerId","phone"),Er(this,"signInMethod","phone")}function Si(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Sa,code:t.a.Ra}}function ki(t){try{this.a=t||Nl.a.auth()}catch(t){throw new Tr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Sr(this,{providerId:"phone",isOAuthProvider:!1})}function Ai(t,e){if(!t)throw new Tr("missing-verification-id");if(!e)throw new Tr("missing-verification-code");return new Ei({Sa:t,Ra:e})}function Ti(t){if(t.temporaryProof&&t.phoneNumber)return new Ei({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return yi(t,n);case"facebook.com":return di(n);case"github.com":return fi(n);case"twitter.com":return vi(n,r);default:return new ci(e).credential(t,n)}}catch(t){return null}}function Ii(t){if(!t.isOAuthProvider)throw new Tr("invalid-oauth-provider")}function Ri(t,e,n,r,i){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new Tr("invalid-auth-event");if(this.f&&this.a)throw new Tr("invalid-auth-event");if(this.f&&!this.g)throw new Tr("invalid-auth-event")}function Oi(t){return(t=t||{}).type?new Ri(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Ir(t.error)):null}function Pi(){this.b=null,this.a=[]}_(ti,Zr),_(ei,ti),_(ni,ti),_(ri,ti),_(ii,ti),si.prototype.ya=function(t){return ea(t,ui(this))},si.prototype.c=function(t,e){var n=ui(this);return n.idToken=e,na(t,n)},si.prototype.f=function(t,e){return ai(ra(t,ui(this)),e)},si.prototype.D=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},li.prototype.Da=function(t){return this.xb=it(t),this},_(ci,li),ci.prototype.ta=function(t){return M(this.a,t)||this.a.push(t),this},ci.prototype.Db=function(){return j(this.a)},ci.prototype.credential=function(t,e){if(!t&&!e)throw new Tr("argument-error","credential failed: must provide the ID token and/or the access token.");return new si(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)},_(hi,ci),Er(hi,"PROVIDER_ID","facebook.com"),Er(hi,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(pi,ci),Er(pi,"PROVIDER_ID","github.com"),Er(pi,"GITHUB_SIGN_IN_METHOD","github.com"),_(gi,ci),Er(gi,"PROVIDER_ID","google.com"),Er(gi,"GOOGLE_SIGN_IN_METHOD","google.com"),_(mi,li),Er(mi,"PROVIDER_ID","twitter.com"),Er(mi,"TWITTER_SIGN_IN_METHOD","twitter.com"),_i.prototype.ya=function(t){return this.signInMethod==bi.EMAIL_LINK_SIGN_IN_METHOD?Da(t,ha,{email:this.a,oobCode:this.b}):Da(t,Ia,{email:this.a,password:this.b})},_i.prototype.c=function(t,e){return this.signInMethod==bi.EMAIL_LINK_SIGN_IN_METHOD?Da(t,da,{idToken:e,email:this.a,oobCode:this.b}):Da(t,Ca,{idToken:e,email:this.a,password:this.b})},_i.prototype.f=function(t,e){return ai(this.ya(t),e)},_i.prototype.D=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},Sr(bi,{PROVIDER_ID:"password"}),Sr(bi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Sr(bi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ei.prototype.ya=function(t){return t.Ta(Si(this))},Ei.prototype.c=function(t,e){var n=Si(this);return n.idToken=e,Da(t,Oa,n)},Ei.prototype.f=function(t,e){var n=Si(this);return n.operation="REAUTH",ai(t=Da(t,Pa,n),e)},Ei.prototype.D=function(){var t={providerId:"phone"};return this.a.Sa&&(t.verificationId=this.a.Sa),this.a.Ra&&(t.verificationCode=this.a.Ra),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},ki.prototype.Ta=function(t,e){var n=this.a.b;return wt(e.verify()).then(function(i){if(!r(i))throw new Tr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Da(n,ba,e)}(0,{phoneNumber:t,recaptchaToken:i}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Tr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Sr(ki,{PROVIDER_ID:"phone"}),Sr(ki,{PHONE_SIGN_IN_METHOD:"phone"}),Ri.prototype.D=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.D()}};var Di=null;function Ni(t){var e="unauthorized-domain",n=void 0,r=Ke(t);t=r.b,"chrome-extension"==(r=r.c)?n=U("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=U("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Tr.call(this,e,n)}function xi(t,e,n){Tr.call(this,t,n),(t=e||{}).yb&&Er(this,"email",t.yb),t.$&&Er(this,"phoneNumber",t.$),t.credential&&Er(this,"credential",t.credential)}function Mi(t){if(t.code){var e=t.code||"";0==e.indexOf(Rr)&&(e=e.substring(Rr.length));var n={credential:Ti(t)};if(t.email)n.yb=t.email;else{if(!t.phoneNumber)return new Tr(e,t.message||void 0);n.$=t.phoneNumber}return new xi(e,n,t.message)}return null}Pi.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=rr("universalLinks.subscribe",n))&&t(null,this.b))},Pi.prototype.unsubscribe=function(t){F(this.a,function(e){return e==t})},_(Ni,Tr),_(xi,Tr),xi.prototype.D=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.D();return e&&ut(t,e),t},xi.prototype.toJSON=function(){return this.D()};var Li,Fi=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Bi(){}function ji(){}function Ui(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Vi(){}function zi(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=y(this.ec,this),this.a.onerror=y(this.Eb,this),this.a.onprogress=y(this.fc,this),this.a.ontimeout=y(this.ic,this)}function qi(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Hi(t,e,n){this.reset(t,e,n,void 0,void 0)}function Gi(t){this.f=t,this.b=this.c=this.a=null}function Ki(t,e){this.name=t,this.value=e}Bi.prototype.c=null,_(ji,Bi),ji.prototype.a=function(){var t=Ui(this);return t?new ActiveXObject(t):new XMLHttpRequest},ji.prototype.b=function(){var t={};return Ui(this)&&(t[0]=!0,t[1]=!0),t},Li=new ji,_(Vi,Bi),Vi.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new zi;throw Error("Unsupported browser")},Vi.prototype.b=function(){return{}},(t=zi.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.ec=function(){this.status=200,this.responseText=this.a.responseText,qi(this,4)},t.Eb=function(){this.status=500,this.responseText="",qi(this,4)},t.ic=function(){this.Eb()},t.fc=function(){this.status=200,qi(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Hi.prototype.a=null,Hi.prototype.reset=function(t,e,n,r,i){r||v(),delete this.a},Ki.prototype.toString=function(){return this.name};var Wi=new Ki("SEVERE",1e3),Qi=new Ki("WARNING",900),$i=new Ki("CONFIG",700),Yi=new Ki("FINE",500);Gi.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(S("Root logger has no level set."),null)}(this).value)for(c(e)&&(e=e()),t=new Hi(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Xi={},Ji=null;function Zi(t){var e;if(Ji||(Ji=new Gi(""),Xi[""]=Ji,Ji.c=$i),!(e=Xi[t])){e=new Gi(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Zi(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,Xi[t]=e}return e}function to(t,e){t&&t.log(Yi,e,void 0)}function eo(t){this.f=t}function no(t){Ie.call(this),this.i=t,this.readyState=ro,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=Zi("goog.net.FetchXmlHttp")}_(eo,Bi),eo.prototype.a=function(){return new no(this.f)},eo.prototype.b=function(t){return function(){return t}}({}),_(no,Ie);var ro=0;function io(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function oo(t){Ie.call(this),this.headers=new Le,this.C=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=ao,this.v=this.O=!1}(t=no.prototype).open=function(t,e){if(this.readyState!=ro)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,io(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.hc.bind(this),this.Fb.bind(this))},t.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,io(this)),this.readyState=ro},t.hc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,io(this)),this.a&&(this.readyState=3,io(this),this.a&&t.text().then(this.gc.bind(this,t),this.Fb.bind(this))))},t.gc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,io(this))},t.Fb=function(t){var e=this.f;e&&e.log(Qi,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,io(this))},t.setRequestHeader=function(t,e){this.g.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(Qi,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(Qi,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(oo,Ie);var ao="";oo.prototype.b=Zi("goog.net.XhrIo");var so=/^https?$/i,uo=["POST","PUT"];function lo(t){return"content-type"==t.toLowerCase()}function co(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ho(t),fo(t)}function ho(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function po(t){if(t.c&&void 0!==e)if(t.w[1]&&4==yo(t)&&2==mo(t))to(t.b,vo(t,"Local request error detected and ignored"));else if(t.i&&4==yo(t))De(t.Ib,0,t);else if(t.dispatchEvent("readystatechange"),4==yo(t)){to(t.b,vo(t,"Request complete")),t.c=!1;try{var r,i=mo(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(r=o)){var a;if(a=0===i){var s=String(t.l).match(je)[1]||null;if(!s&&n.self&&n.self.location){var u=n.self.location.protocol;s=u.substr(0,u.length-1)}a=!so.test(s?s.toLowerCase():"")}r=a}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<yo(t)?t.a.statusText:""}catch(e){to(t.b,"Can not get status: "+e.message),l=""}t.h=l+" ["+mo(t)+"]",ho(t)}}finally{fo(t)}}}function fo(t,e){if(t.a){go(t);var n=t.a,r=t.w[0]?o:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Wi,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function go(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(n.clearTimeout(t.u),t.u=null)}function yo(t){return t.a?t.a.readyState:0}function mo(t){try{return 2<yo(t)?t.a.status:-1}catch(t){return-1}}function vo(t,e){return e+" ["+t.N+" "+t.l+" "+mo(t)+"]"}function _o(t,e){this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.l=this.w=this.i=!1,this.h=0,this.b=null,this.m=0}function bo(t,e,n){t.a=!0,t.c=n,t.f=!e,So(t)}function wo(t){if(t.a){if(!t.l)throw new ko(t);t.l=!1}}function Co(t,e,n,r){t.g.push([e,n,r]),t.a&&So(t)}function Eo(t){return x(t.g,function(t){return c(t[1])})}function So(t){if(t.h&&t.a&&Eo(t)){var e=t.h,r=Io[e];r&&(n.clearTimeout(r.a),delete Io[e]),t.h=0}t.b&&(t.b.m--,delete t.b),e=t.c;for(var i=r=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],s=o[1];if(o=o[2],a=t.f?s:a)try{var u=a.call(o||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(w(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(i=!0,t.i=!0)}catch(n){e=n,t.f=!0,Eo(t)||(r=!0)}}t.c=e,i&&(u=y(t.o,t,!0),i=y(t.o,t,!1),e instanceof _o?(Co(e,u,i),e.w=!0):e.then(u,i)),r&&(e=new To(e),Io[e.a]=e,t.h=e.a)}function ko(){C.call(this)}function Ao(){C.call(this)}function To(t){this.a=n.setTimeout(y(this.c,this),0),this.b=t}(t=oo.prototype).Ga=function(){void 0!==e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",to(this.b,vo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(to(this.b,vo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),fo(this))},t.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),fo(this,!0)),oo.nb.ua.call(this)},t.Ib=function(){this.pa||(this.I||this.i||this.f?po(this):this.wc())},t.wc=function(){po(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case ao:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Wi,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return to(this.b,"Can not get response: "+t.message),null}},_o.prototype.cancel=function(t){if(this.a)this.c instanceof _o&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.m--,0>=e.m&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new Ao(this),wo(this),bo(this,!1,t))}},_o.prototype.o=function(t,e){this.i=!1,bo(this,t,e)},_o.prototype.C=function(){wo(this),bo(this,!0,null)},_o.prototype.then=function(t,e,n){var r,i,o=new ft(function(t,e){r=t,i=e});return Co(this,r,function(t){t instanceof Ao?o.cancel():i(t)}),o.then(t,e,n)},b(_o),_(ko,C),ko.prototype.message="Deferred has already fired",ko.prototype.name="AlreadyCalledError",_(Ao,C),Ao.prototype.message="Deferred was canceled",Ao.prototype.name="CanceledError",To.prototype.c=function(){throw delete Io[this.a],this.b};var Io={};function Ro(t){var e={},n=e.document||document,r=yn(t),i=document.createElement("SCRIPT"),o={Kb:i,Ga:void 0},a=new _o(Oo,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Po(i,!0);var t=new xo(No,"Timeout reached for loading script "+r);wo(a),bo(a,!1,t)},u),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Po(i,e.fd||!1,s),a.C())},i.onerror=function(){Po(i,!0,s);var t=new xo(Do,"Error while loading script "+r);wo(a),bo(a,!1,t)},ut(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Pn(i,o),i.src=yn(t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Oo(){if(this&&this.Kb){var t=this.Kb;t&&"SCRIPT"==t.tagName&&Po(t,!0,this.Ga)}}function Po(t,e,r){null!=r&&n.clearTimeout(r),t.onload=o,t.onerror=o,t.onreadystatechange=o,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Do=0,No=1;function xo(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function Mo(t){this.f=t}function Lo(t,e,r){if(this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||jo,this.f=it(t.secureTokenHeaders||Uo),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||Vo,this.a=it(t.firebaseHeaders||zo),r&&(this.a["X-Client-Version"]=r,this.f["X-Client-Version"]=r),r="Node"==$n(),!(r=n.XMLHttpRequest||r&&Nl.a.INTERNAL.node&&Nl.a.INTERNAL.node.XMLHttpRequest)&&!Qn())throw new Tr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=Qn()?new eo(self):Yn()?new Mo(r):new Vi}_(xo,C),_(Mo,Bi),Mo.prototype.a=function(){return new this.f},Mo.prototype.b=function(){return{}};var Fo,Bo="idToken",jo=new gr(3e4,6e4),Uo={"Content-Type":"application/x-www-form-urlencoded"},Vo=new gr(3e4,6e4),zo={"Content-Type":"application/json"};function qo(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ho(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function Go(t,e,r,i,o,a,s){(function(){var t=nr();return!((t=Zn(t)!=Jn?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||zt&&Xt&&!(9<Xt))})()||Qn()?t=y(t.o,t):(Fo||(Fo=new ft(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[Wo]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var r=mn(Ko,{onload:Wo});!function(t,e){Co(Ro(r),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=y(t.l,t)),t(e,r,i,o,a,s)}Lo.prototype.o=function(t,e,i,o,a,s){if(Qn()&&(void 0===n.fetch||void 0===n.Headers||void 0===n.Request))throw new Tr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new oo(this.c);if(s){u.g=Math.max(0,s);var c=setTimeout(function(){u.dispatchEvent("timeout")},s)}Re(u,"complete",function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return to(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),Oe(u,"ready",function(){c&&clearTimeout(c),Bt(this)}),Oe(u,"timeout",function(){c&&clearTimeout(c),Bt(this),e&&e(null)}),function(t,e,i,o,a){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);i=i?i.toUpperCase():"GET",t.l=e,t.h="",t.N=i,t.G=!1,t.c=!0,t.a=t.C?t.C.a():Li.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.C?t.C:Li),t.a.onreadystatechange=y(t.Ib,t);try{to(t.b,vo(t,"Opening Xhr")),t.I=!0,t.a.open(i,String(e),!0),t.I=!1}catch(e){return to(t.b,vo(t,"Error opening Xhr: "+e.message)),void co(t,e)}e=o||"";var s=new Le(t.headers);a&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||r(t))D(t,e,void 0);else for(var n=Me(t),i=xe(t),o=i.length,a=0;a<o;a++)e.call(void 0,i[a],n&&n[a],t)}(a,function(t,e){s.set(e,t)}),a=function(t){t:{for(var e=lo,n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:r(t)?t.charAt(e):t[e]}(s.U()),o=n.FormData&&e instanceof n.FormData,!M(uo,i)||a||o||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{go(t),0<t.g&&(t.v=function(t){return zt&&Zt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),to(t.b,vo(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=y(t.Ga,t)):t.u=De(t.Ga,t.g,t)),to(t.b,vo(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){to(t.b,vo(t,"Send error: "+e.message)),co(t,e)}}(u,t,i,o,a)};var Ko=fn("https://apis.google.com/js/client.js?onload=%{onload}"),Wo="__fcb"+Math.floor(1e6*Math.random()).toString();function Qo(t){if(!Fi.test(t.email))throw new Tr("invalid-email")}function $o(t){"email"in t&&Qo(t)}function Yo(t){if(!t[Bo])throw new Tr("internal-error")}function Xo(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Tr("internal-error")}else{if(!t.sessionInfo)throw new Tr("missing-verification-id");if(!t.code)throw new Tr("missing-verification-code")}}Lo.prototype.l=function(t,e,n,r,i){var o=this;Fo.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Lo.prototype.Pa=function(){return Da(this,Ea,{})},Lo.prototype.ob=function(t,e){return Da(this,wa,{idToken:t,email:e})},Lo.prototype.pb=function(t,e){return Da(this,Ca,{idToken:t,password:e})};var Jo={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Zo(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Tr("internal-error")}function ta(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Mi(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Mi(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Mi(t)):t.errorMessage&&(e=Na(t.errorMessage)),e)throw e;if(!t[Bo])throw new Tr("internal-error")}function ea(t,e){return e.returnIdpCredential=!0,Da(t,Sa,e)}function na(t,e){return e.returnIdpCredential=!0,Da(t,Aa,e)}function ra(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Da(t,ka,e)}function ia(t){if(!t.oobCode)throw new Tr("invalid-action-code")}(t=Lo.prototype).qb=function(t,e){var n={idToken:t},r=[];return nt(Jo,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Da(this,wa,n)},t.jb=function(t,e){return ut(t={requestType:"PASSWORD_RESET",email:t},e),Da(this,ya,t)},t.kb=function(t,e){return ut(t={requestType:"EMAIL_SIGNIN",email:t},e),Da(this,fa,t)},t.ib=function(t,e){return ut(t={requestType:"VERIFY_EMAIL",idToken:t},e),Da(this,ga,t)},t.Ta=function(t){return Da(this,Ra,t)},t.Ya=function(t,e){return Da(this,_a,{oobCode:t,newPassword:e})},t.Ja=function(t){return Da(this,aa,{oobCode:t})},t.Va=function(t){return Da(this,oa,{oobCode:t})};var oa={endpoint:"setAccountInfo",B:ia,da:"email"},aa={endpoint:"resetPassword",B:ia,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Tr("internal-error")}},sa={endpoint:"signupNewUser",B:function(t){if(Qo(t),!t.password)throw new Tr("weak-password")},J:Yo,R:!0},ua={endpoint:"createAuthUri"},la={endpoint:"deleteAccount",T:["idToken"]},ca={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!u(t.deleteProvider))throw new Tr("internal-error")}},ha={endpoint:"emailLinkSignin",T:["email","oobCode"],B:Qo,J:Yo,R:!0},da={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:Qo,J:Yo,R:!0},pa={endpoint:"getAccountInfo"},fa={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Tr("internal-error");Qo(t)},da:"email"},ga={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Tr("internal-error")},da:"email"},ya={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Tr("internal-error");Qo(t)},da:"email"},ma={tb:!0,endpoint:"getProjectConfig",Hb:"GET"},va={tb:!0,endpoint:"getRecaptchaParam",Hb:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Tr("internal-error")}},_a={endpoint:"resetPassword",B:ia,da:"email"},ba={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},wa={endpoint:"setAccountInfo",T:["idToken"],B:$o,R:!0},Ca={endpoint:"setAccountInfo",T:["idToken"],B:function(t){if($o(t),!t.password)throw new Tr("weak-password")},J:Yo,R:!0},Ea={endpoint:"signupNewUser",J:Yo,R:!0},Sa={endpoint:"verifyAssertion",B:Zo,J:ta,R:!0},ka={endpoint:"verifyAssertion",B:Zo,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Tr("user-not-found");if(t.errorMessage)throw Na(t.errorMessage);if(!t[Bo])throw new Tr("internal-error")},R:!0},Aa={endpoint:"verifyAssertion",B:function(t){if(Zo(t),!t.idToken)throw new Tr("internal-error")},J:ta,R:!0},Ta={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new Tr("invalid-custom-token")},J:Yo,R:!0},Ia={endpoint:"verifyPassword",B:function(t){if(Qo(t),!t.password)throw new Tr("wrong-password")},J:Yo,R:!0},Ra={endpoint:"verifyPhoneNumber",B:Xo,J:Yo},Oa={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new Tr("internal-error");Xo(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Mi(t);Yo(t)}},Pa={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:Xo,J:Yo};function Da(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.T))return Ct(new Tr("internal-error"));var r,i=e.Hb||"POST";return wt(n).then(e.B).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var a=Ke(t.g+e);He(a,"key",t.b),o&&He(a,"cb",v().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&He(a,u,r[u]);return new ft(function(e,o){Go(t,a.toString(),function(t){t?t.error?o(xa(t,i||{})):e(t):o(new Tr("network-request-failed"))},n,s?void 0:xn(cr(r)),t.a,t.h.get())})}(t,e.endpoint,i,n,e.Xb,e.tb||!1)}).then(function(t){return r=t}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new Tr("internal-error");return r[e.da]})}function Na(t){return xa({error:{errors:[{message:t}],code:400,message:t}})}function xa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Tr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",ut(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Tr(r[i],e);return!e&&t&&(e=lr(t)),new Tr("internal-error",e)}var Ma,La={$c:{$a:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://securetoken.googleapis.com/v1/token",id:"p"},bd:{$a:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},cd:{$a:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",hb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Fa(t){for(var e in La)if(La[e].id===t)return{firebaseEndpoint:(t=La[e]).$a,secureTokenEndpoint:t.hb};return null}Ma=Fa("__EID__")?"__EID__":void 0;var Ba=fn("https://apis.google.com/js/api.js?onload=%{onload}"),ja=new gr(3e4,6e4),Ua=new gr(5e3,15e3),Va=null;function za(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=We(this.i,"/__/auth/iframe"),He(this.a,"apiKey",this.g),He(this.a,"appName",this.h),this.b=null,this.c=[]}function qa(t,e,n,r,i){this.o=t,this.l=e,this.c=n,this.m=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function Ha(t){try{return Nl.a.app(t).auth().xa()}catch(t){return[]}}function Ga(t,e,n,r,i){this.l=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function Ka(t){var e=jn();return function(t){return Da(t,ma,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Ke(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Ke(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Hn.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Ni(jn())})}function Wa(t){return t.m?t.m:(t.m=Gn().then(function(){if(!t.u){var e=t.c,r=t.h,i=Ha(t.b),o=new za(t.l,t.f,t.b);o.f=e,o.b=r,o.c=j(i||[]),t.u=o.toString()}t.i=new function(t){this.b=t,this.a=null,this.eb=function(t){return(Va||(Va=new ft(function(t,e){function r(){fr(),rr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){fr(),e(Error("Network Error"))},timeout:ja.get()})}if(rr("gapi.iframes.Iframe"))t();else if(rr("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){rr("gapi.load")?r():e(Error("Network Error"))},wt(Ro(i=mn(Ba,{onload:i}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw Va=null,t}))).then(function(){return new ft(function(e,n){rr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Ua.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.eb.then(function(){t.a.register("authEvent",e,rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Oi(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",wt(n)}return n.status="ERROR",wt(n)})}(t)}),t.m)}function Qa(t){return t.o||(t.v=t.c?er(t.c,Ha(t.b)):null,t.o=new Lo(t.f,Fa(t.h),t.v)),t.o}function $a(t,e,n,r,i,o,a,s,u,l){return(t=new qa(t,e,n,r,i)).i=o,t.g=a,t.h=s,t.b=it(u||null),t.f=l,t.toString()}function Ya(t){if(this.a=t||Nl.a.INTERNAL.reactNative&&Nl.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Tr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Xa(t){this.b=t,this.a={},this.c=y(this.f,this)}za.prototype.toString=function(){return this.f?He(this.a,"v",this.f):an(this.a.a,"v"),this.b?He(this.a,"eid",this.b):an(this.a.a,"eid"),this.c.length?He(this.a,"fw",this.c.join(",")):an(this.a.a,"fw"),this.a.toString()},qa.prototype.toString=function(){var t=We(this.o,"/__/auth/handler");if(He(t,"apiKey",this.l),He(t,"appName",this.c),He(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Nl.a.app(this.c).auth().ea()}catch(t){n=null}for(var r in e.Za=n,He(t,"providerId",this.a.providerId),n=cr((e=this.a).xb))n[r]=n[r].toString();r=e.Dc,n=it(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.bb&&e.Za&&!n[e.bb]&&(n[e.bb]=e.Za),rt(n)||He(t,"customParameters",lr(n))}if("function"==typeof this.a.Db&&(e=this.a.Db()).length&&He(t,"scopes",e.join(",")),this.i?He(t,"redirectUrl",this.i):an(t.a,"redirectUrl"),this.g?He(t,"eventId",this.g):an(t.a,"eventId"),this.h?He(t,"v",this.h):an(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ge(t,a)&&He(t,a,this.b[a]);return this.f?He(t,"eid",this.f):an(t.a,"eid"),(a=Ha(this.c)).length&&He(t,"fw",a.join(",")),t.toString()},(t=Ga.prototype).Ea=function(t,e,n){var r=new Tr("popup-closed-by-user"),i=new Tr("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return Wa(t).then(function(){return function(t,e){return t.eb.then(function(){return new ft(function(n){t.a.send(e.type,e,n,rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&zn(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new ft(function(e){return function n(){Ne(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Ne(n).then(function(){e(r)})})},t.Lb=function(){var t=nr();return!ur(t)&&!pr(t)},t.Gb=function(){return!1},t.Bb=function(t,e,n,r,i,o,a){if(!t)return Ct(new Tr("popup-blocked"));if(a&&!ur())return this.ga().s(function(e){zn(t),i(e)}),r(),wt();this.a||(this.a=Ka(Qa(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw zn(t),i(e),e});return r(),e}).then(function(){Ii(n),a||Un($a(s.l,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=Ka(Qa(this)));var r=this;return this.a.then(function(){Ii(e),Un($a(r.l,r.f,r.b,t,e,jn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return Wa(this).then(function(){return t.i.eb}).s(function(){throw t.a=null,new Tr("network-request-failed")})},t.Qb=function(){return!0},t.va=function(t){this.g.push(t)},t.Ka=function(t){F(this.g,function(e){return e==t})},(t=Ya.prototype).get=function(t){return wt(this.a.getItem(t)).then(function(t){return t&&hr(t)})},t.set=function(t,e){return wt(this.a.setItem(t,lr(e)))},t.P=function(t){return wt(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var Ja,Za=[];function ts(){this.a=navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller||null}function es(){this.f=new ts,this.a="undefined"!=typeof MessageChannel?new MessageChannel:null,this.c=!1,this.b=[]}function ns(t,e){t.a&&(F(t.b,function(t){return t==e}),t.a.port1.removeEventListener("message",e))}function rs(){if(!os())throw new Tr("web-storage-unsupported");this.f={},this.a=[],this.b=0,this.g=n.indexedDB,this.type="indexedDB",this.i=null;var t=this;Qn()&&self&&(this.i=function(){var t=Qn()?self:null;if(D(Za,function(n){n.b==t&&(e=n)}),!e){var e=new Xa(t);Za.push(e)}return e}(),this.i.subscribe("keyChanged",function(e,n){return t.Pb().then(function(e){return 0<e.length&&D(t.a,function(t){t(e)}),{keyProcessed:M(e,n.key)}})}))}function is(t){return t.h||(t.h=function t(e){return new ft(function(n,r){var i=e.g.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(t){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new ft(function(e,n){var r=t.g.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){r(t)})}})}(t)),t.h}function os(){try{return!!n.indexedDB}catch(t){return!1}}function as(t){return t.objectStore("firebaseLocalStorage")}function ss(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function us(t){return new ft(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function ls(t){return navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller?function(t,e){var n,r,i,o,a=e||{};return new ft(function(e,s){t.a?(n=Math.floor(Math.random()*Math.pow(10,20)).toString(),t.start(),i=setTimeout(function(){s(Error("unsupported_event"))},20),t.b.push(r=function(t){t.data.eventId===n&&("ack"===t.data.status?(clearTimeout(i),o=setTimeout(function(){s(Error("timeout"))},500)):"done"===t.data.status?(clearTimeout(o),void 0!==t.data.response?e(t.data.response):s(Error("unknown_error"))):(clearTimeout(i),clearTimeout(o),s(Error("invalid_response"))))}),t.a.port1.addEventListener("message",r),t.f.postMessage({eventType:"keyChanged",eventId:n,data:a},[t.a.port2])):s(Error("connection_unavailable"))}).then(function(e){return ns(t,r),e}).s(function(e){throw ns(t,r),e})}(new es,{key:t}).then(function(){}).s(function(){}):wt()}function cs(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=wt().then(function(){if(os()){var t=dr(),r="__sak"+t;return Ja||(Ja=new rs),(n=Ja).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){D(e.a,function(e){e(t)})}),t})}function hs(){this.a={},this.type="inMemory"}function ds(){if(!function(){var t="Node"==$n();if(!(t=ps()||t&&Nl.a.INTERNAL.node&&Nl.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==$n())throw new Tr("internal-error","The LocalStorage compatibility library was not found.");throw new Tr("web-storage-unsupported")}this.a=ps()||Nl.a.INTERNAL.node.localStorage,this.type="localStorage"}function ps(){try{var t=n.localStorage,e=dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function fs(){this.type="nullStorage"}function gs(){if(!function(){var t="Node"==$n();if(!(t=ys()||t&&Nl.a.INTERNAL.node&&Nl.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==$n())throw new Tr("internal-error","The SessionStorage compatibility library was not found.");throw new Tr("web-storage-unsupported")}this.a=ys()||Nl.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ys(){try{var t=n.sessionStorage,e=dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}Xa.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];D(r,function(e){i.push(wt().then(function(){return e(t.origin,t.data.data)}))}),St(i).then(function(r){var i=[];D(r,function(t){i.push({fulfilled:t.Cb,value:t.value,reason:t.reason?t.reason.message:void 0})}),D(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},Xa.prototype.subscribe=function(t,e){rt(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},Xa.prototype.unsubscribe=function(t,e){void 0!==this.a[t]&&e?(F(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],rt(this.a)&&this.b.removeEventListener("message",this.c)},ts.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},es.prototype.close=function(){if(this.a){for(;0<this.b.length;){var t=this.b.pop();this.a.port1.removeEventListener("message",t)}this.a.port1.close(),this.a=null,this.c=!1}},es.prototype.start=function(){this.a&&!this.c&&(this.a.port1.start(),this.c=!0)},(t=rs.prototype).set=function(t,e){var n,r=!1,i=this;return is(this).then(function(e){return us((e=as(ss(n=e,!0))).get(t))}).then(function(o){var a=as(ss(n,!0));return o?(o.value=e,us(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,us(a.add(o)))}).then(function(){return i.f[t]=e,ls(t)}).ia(function(){r&&i.b--})},t.get=function(t){return is(this).then(function(e){return us(as(ss(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return is(this).then(function(r){return e=!0,n.b++,us(as(ss(r,!0)).delete(t))}).then(function(){return delete n.f[t],ls(t)}).ia(function(){e&&n.b--})},t.Pb=function(){var t=this;return is(this).then(function(t){var e=as(ss(t,!1));return e.getAll?us(e.getAll()):new ft(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.f,n),t.f=n}return r})},t.Y=function(t){0==this.a.length&&function(t){t.c&&t.c.cancel("STOP_EVENT"),function e(){return t.c=Ne(800).then(y(t.Pb,t)).then(function(e){0<e.length&&D(t.a,function(t){t(e)})}).then(e).s(function(t){"STOP_EVENT"!=t.message&&e()}),t.c}()}(this),this.a.push(t)},t.ca=function(t){F(this.a,function(e){return e==t}),0==this.a.length&&this.c&&this.c.cancel("STOP_EVENT")},(t=cs.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){F(this.a,function(e){return e==t})},(t=hs.prototype).get=function(t){return wt(this.a[t])},t.set=function(t,e){return this.a[t]=e,wt()},t.P=function(t){return delete this.a[t],wt()},t.Y=function(){},t.ca=function(){},(t=ds.prototype).get=function(t){var e=this;return wt().then(function(){return hr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return wt().then(function(){var r=lr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return wt().then(function(){e.a.removeItem(t)})},t.Y=function(t){n.window&&ye(n.window,"storage",t)},t.ca=function(t){n.window&&_e(n.window,"storage",t)},(t=fs.prototype).get=function(){return wt(null)},t.set=function(){return wt()},t.P=function(){return wt()},t.Y=function(){},t.ca=function(){},(t=gs.prototype).get=function(t){var e=this;return wt().then(function(){return hr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return wt().then(function(){var r=lr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return wt().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var ms,vs,_s={A:ds,Qa:gs},bs={A:ds,Qa:gs},ws={A:Ya,Qa:fs},Cs={A:ds,Qa:fs},Es={Zc:"local",NONE:"none",ad:"session"};function Ss(){var t=!(pr(nr())||!Wn()),e=ur(),r=ir();this.o=t,this.h=e,this.m=r,this.a={},ms||(ms=new function(){var t={};t.Browser=_s,t.Node=bs,t.ReactNative=ws,t.Worker=Cs,this.a=t[$n()]}),t=ms;try{this.g=!Bn()&&vr()||!n.indexedDB?new t.a.A:new cs(Qn()?new hs:new t.a.A)}catch(t){this.g=new hs,this.h=!0}try{this.i=new t.a.Qa}catch(t){this.i=new hs}this.l=new hs,this.f=y(this.Ob,this),this.b={}}function ks(){return vs||(vs=new Ss),vs}function As(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function Ts(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Is(t,e,n){return n=Ts(e,n),"local"==e.A&&(t.b[n]=null),As(t,e.A).P(n)}function Rs(t){t.c&&(clearInterval(t.c),t.c=null)}(t=Ss.prototype).get=function(t,e){return As(this,t.A).get(Ts(t,e))},t.set=function(t,e,n){var r=Ts(t,n),i=this,o=As(this,t.A);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.A&&(i.b[r]=e)})},t.addListener=function(t,e,r){t=Ts(t,e),this.m&&(this.b[t]=n.localStorage.getItem(t)),rt(this.a)&&(As(this,"local").Y(this.f),this.h||(Bn()||!vr())&&n.indexedDB||!this.m||function(t){Rs(t),t.c=setInterval(function(){for(var e in t.a){var r=n.localStorage.getItem(e),i=t.b[e];r!=i&&(t.b[e]=r,r=new ae({type:"storage",key:e,target:window,oldValue:i,newValue:r,a:!0}),t.Ob(r))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(r)},t.removeListener=function(t,e,n){t=Ts(t,e),this.a[t]&&(F(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),rt(this.a)&&(As(this,"local").ca(this.f),Rs(this))},t.Ob=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var r in this.a){var i=this.b[r];void 0===i&&(i=null);var o=n.localStorage.getItem(r);o!==i&&(this.b[r]=o,this.Wa(r))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?As(this,"local").ca(this.f):Rs(this),this.o)if(r=n.localStorage.getItem(e),(i=t.a.newValue)!==r)null!==i?n.localStorage.setItem(e,i):n.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var a=this;r=function(){void 0===t.a.a&&a.b[e]===n.localStorage.getItem(e)||(a.b[e]=n.localStorage.getItem(e),a.Wa(e))},zt&&Xt&&10==Xt&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(r,10):r()}}else D(t,y(this.Wa,this))},t.Wa=function(t){this.a[t]&&D(this.a[t],function(t){t()})};var Os,Ps={name:"authEvent",A:"local"};function Ds(t,e){this.b=-1,this.b=Ns,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.m=n.Int32Array?new Int32Array(64):Array(64),void 0!==Os||(Os=n.Int32Array?new Int32Array(Us):Us),this.reset()}_(Ds,function(){this.b=-1});for(var Ns=64,xs=Ns-1,Ms=[],Ls=0;Ls<xs;Ls++)Ms[Ls]=0;var Fs=B(128,Ms);function Bs(t){for(var e=t.f,n=t.m,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|Os[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function js(t,e,n){void 0===n&&(n=e.length);var i=0,o=t.c;if(r(e))for(;i<n;)t.f[o++]=e.charCodeAt(i++),o==t.b&&(Bs(t),o=0);else{if(!l(e))throw Error("message must be string or array");for(;i<n;){var a=e[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[o++]=a,o==t.b&&(Bs(t),o=0)}}t.c=o,t.g+=n}Ds.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):j(this.h)};var Us=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Vs(){Ds.call(this,8,zs)}_(Vs,Ds);var zs=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function qs(t,e,n,r,i){this.l=t,this.i=e,this.m=n,this.o=r||null,this.u=i||null,this.h=e+":"+n,this.v=new function(){this.a=ks()},this.g=new function(t){this.a=t,this.b=ks()}(this.h),this.f=null,this.b=[],this.a=this.c=null}function Hs(t){return new Tr("invalid-cordova-configuration",t)}function Gs(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ks(t){return t.f||(t.f=t.ga().then(function(){return new ft(function(e){t.va(function n(r){return e(r),t.Ka(n),!1}),function(t){function e(e){i=!0,o&&o.cancel(),Ws(t).then(function(n){var i=r;if(n&&e&&e.url){var o=null;-1!=(i=oi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=hr(Ge(o=Ke(i),"firebaseError")||null))?Ir(o):null)?new Ri(n.b,n.c,null,null,o):new Ri(n.b,n.c,i,n.g)),i=o||r}Gs(t,i)})}var r=new Ri("unknown",null,null,null,new Tr("no-auth-event")),i=!1,o=Ne(500).then(function(){return Ws(t).then(function(){i||Gs(t,r)})}),a=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(rr("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},Di||(Di=new Pi),Di.subscribe(e)}(t)})})),t.f}function Ws(t){var e=null;return function(t){return t.b.get(Ps,t.a).then(function(t){return Oi(t)})}(t.g).then(function(n){return e=n,Is((n=t.g).b,Ps,n.a)}).then(function(){return e})}(t=qs.prototype).ga=function(){return this.za?this.za:this.za=(Kn(void 0)?Gn().then(function(){return new ft(function(t,e){var r=n.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):Ct(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof rr("universalLinks.subscribe",n))throw Hs("cordova-universal-links-plugin is not installed");if(void 0===rr("BuildInfo.packageName",n))throw Hs("cordova-plugin-buildinfo is not installed");if("function"!=typeof rr("cordova.plugins.browsertab.openUrl",n))throw Hs("cordova-plugin-browsertab is not installed");if("function"!=typeof rr("cordova.InAppBrowser.open",n))throw Hs("cordova-plugin-inappbrowser is not installed")},function(){throw new Tr("cordova-not-ready")})},t.Ea=function(t,e){return e(new Tr("operation-not-supported-in-this-environment")),wt()},t.Bb=function(){return Ct(new Tr("operation-not-supported-in-this-environment"))},t.Qb=function(){return!1},t.Lb=function(){return!0},t.Gb=function(){return!0},t.Ca=function(t,e,r){if(this.c)return Ct(new Tr("redirect-operation-pending"));var i=this,o=n.document,a=null,s=null,u=null,l=null;return this.c=wt().then(function(){return Ii(e),Ks(i)}).then(function(){return function(t,e,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Ri(e,i,null,o,new Tr("no-auth-event")),s=rr("BuildInfo.packageName",n);if("string"!=typeof s)throw new Tr("invalid-cordova-configuration");var u=rr("BuildInfo.displayName",n),l={};if(nr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!nr().toLowerCase().match(/android/))return Ct(new Tr("operation-not-supported-in-this-environment"));l.apn=s}u&&(l.appDisplayName=u),o=function(t){var e=new Vs;js(e,t),t=[];var n=8*e.g;js(e,Fs,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Bs(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return N(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var c=$a(t.l,t.i,t.m,e,r,null,i,t.o,l,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(Ps,a.D(),e)}).then(function(){var e=rr("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new Tr("invalid-cordova-configuration");var r=null;e(function(e){if(e){if("function"!=typeof(r=rr("cordova.plugins.browsertab.openUrl",n)))throw new Tr("invalid-cordova-configuration");r(c)}else{if("function"!=typeof(r=rr("cordova.InAppBrowser.open",n)))throw new Tr("invalid-cordova-configuration");e=!(!(e=nr()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=r(c,e?"_blank":"_system","location=yes")}})})}(i,t,e,r)}).then(function(){return new ft(function(t,e){s=function(){var e=rr("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.va(s),l=function(){yr()&&u()},o.addEventListener("resume",u=function(){a||(a=Ne(2e3).then(function(){e(new Tr("redirect-cancelled-by-user"))}))},!1),nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).s(function(t){return Ws(i).then(function(){throw t})})}).ia(function(){u&&o.removeEventListener("resume",u,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ka(s),i.c=null})},t.va=function(t){this.b.push(t),Ks(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ri("unknown",null,null,null,new Tr("no-auth-event")),t(e))})},t.Ka=function(t){F(this.b,function(e){return e==t})};var Qs={name:"pendingRedirect",A:"session"};function $s(t){return Is(t.b,Qs,t.a)}function Ys(t,e,n){this.u=t,this.m=e,this.l=n,this.h=[],this.f=!1,this.i=y(this.ab,this),this.b=new au,this.o=new cu,this.g=new function(t){this.a=t,this.b=ks()}(this.m+":"+this.l),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=Xs(this.u,this.m,this.l,Ma)}function Xs(t,e,n,r){var i=Nl.a.SDK_VERSION||null;return Kn()?new qs(t,e,n,i,r):new Ga(t,e,n,i,r)}function Js(t){t.f||(t.f=!0,t.a.va(t.i));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function Zs(t){t.a.Lb()&&Js(t).s(function(e){var n=new Ri("unknown",null,null,null,new Tr("operation-not-supported-in-this-environment"));ru(e)&&t.ab(n)}),t.a.Gb()||su(t.b)}(t=Ys.prototype).reset=function(){this.f=!1,this.a.Ka(this.i),this.a=Xs(this.u,this.m,this.l)},t.Xa=function(){this.b.Xa()},t.subscribe=function(t){if(M(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(Qs,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?$s(e.g).then(function(){Js(e).s(function(t){var n=new Ri("unknown",null,null,null,new Tr("operation-not-supported-in-this-environment"));ru(t)&&e.ab(n)})}):Zs(e)}).s(function(){Zs(e)})}},t.unsubscribe=function(t){F(this.h,function(e){return e==t})},t.ab=function(t){if(!t)throw new Tr("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.ub(t.b,t.c)){(e=this.c[t.b])&&e.h(t,r),e=!0;break}}return su(this.b),e};var tu=new gr(2e3,1e4),eu=new gr(3e4,6e4);function nu(t,e,n,r,i,o){return t.a.Bb(e,n,r,function(){t.f||(t.f=!0,t.a.va(t.i))},function(){t.reset()},i,o)}function ru(t){return!(!t||"auth/cordova-not-ready"!=t.code)}Ys.prototype.fa=function(){return this.b.fa()},Ys.prototype.Ca=function(t,e,n){var r,i=this;return function(t){return t.b.set(Qs,"pending",t.a)}(this.g).then(function(){return i.a.Ca(t,e,n).s(function(t){if(ru(t))throw new Tr("operation-not-supported-in-this-environment");return r=t,$s(i.g).then(function(){throw r})}).then(function(){return i.a.Qb()?new ft(function(){}):$s(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},Ys.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},tu.get())};var iu={};function ou(t,e,n){var r=e+":"+n;return iu[r]||(iu[r]=new Ys(t,e,n)),iu[r]}function au(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function su(t){t.g||(t.g=!0,lu(t,!1,null,null))}function uu(t,e){if(t.b=function(){return wt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function lu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ct(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):uu(t,n):uu(t,{user:null}),t.f=[],t.c=[]}function cu(){}function hu(){this.rb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.rb},set:function(t){this.rb=t},enumerable:!1})}function du(t,e){this.a=e,Er(this,"verificationId",t)}function pu(t,e,n,r){return new ki(t).Ta(e,n).then(function(t){return new du(t,r)})}function fu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function gu(t){this.f=t,this.b=this.a=null,this.c=0}function yu(t,e){var n=e[Bo],r=e.refreshToken;e=mu(e.expiresIn),t.b=n,t.c=e,t.a=r}function mu(t){return v()+1e3*parseInt(t,10)}function vu(t,e){this.a=t||null,this.b=e||null,Sr(this,{lastSignInTime:mr(e||null),creationTime:mr(t||null)})}function _u(t,e){for(var n in oe.call(this,t),e)this[n]=e[n]}function bu(t,e,n){this.G=[],this.l=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=Nl.a.SDK_VERSION?er(Nl.a.SDK_VERSION):null,this.b=new Lo(this.l,Fa(Ma),t),this.h=new gu(this.b),Tu(this,e[Bo]),yu(this.h,e),Er(this,"refreshToken",this.h.a),Ou(this,n||{}),Ie.call(this),this.I=!1,this.u&&or()&&(this.a=ou(this.u,this.l,this.o)),this.N=[],this.i=null,this.w=function(t){return new fu(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-v()-3e5;return 0<e?e:0})}(this),this.V=y(this.Ha,this);var r=this;this.ka=null,this.sa=function(t){r.oa(t.g)},this.X=null,this.O=[],this.ra=function(t){Cu(r,t.c)},this.W=null}function wu(t,e){t.X&&_e(t.X,"languageCodeChanged",t.sa),(t.X=e)&&ye(e,"languageCodeChanged",t.sa)}function Cu(t,e){t.O=e,Ho(t.b,Nl.a.SDK_VERSION?er(Nl.a.SDK_VERSION,t.O):null)}function Eu(t,e){t.W&&_e(t.W,"frameworkChanged",t.ra),(t.W=e)&&ye(e,"frameworkChanged",t.ra)}function Su(t){try{return Nl.a.app(t.o).auth()}catch(e){throw new Tr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function ku(t){t.C||t.w.b||(t.w.start(),_e(t,"tokenChanged",t.V),ye(t,"tokenChanged",t.V))}function Au(t){_e(t,"tokenChanged",t.V),t.w.stop()}function Tu(t,e){t.qa=e,Er(t,"_lat",e)}function Iu(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return St(e).then(function(){return t})}function Ru(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function Ou(t,e){Sr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new vu(e.createdAt,e.lastLoginAt),providerData:[]})}function Pu(){}function Du(t){return wt().then(function(){if(t.C)throw new Tr("app-deleted")})}function Nu(t){return N(t.providerData,function(t){return t.providerId})}function xu(t,e){e&&(Mu(t,e.providerId),t.providerData.push(e))}function Mu(t,e){F(t.providerData,function(t){return t.providerId==e})}function Lu(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Er(t,e,n)}function Fu(t,e){t!=e&&(Sr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Er(t,"metadata",e.metadata?function(t){return new vu(t.a,t.b)}(e.metadata):new vu),D(e.providerData,function(e){xu(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Er(t,"refreshToken",t.h.a))}function Bu(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return Da(t.b,pa,{idToken:e}).then(y(t.xc,t))}(t,e).then(function(){return n||Lu(t,"isAnonymous",!1),e})})}function ju(t,e){e[Bo]&&t.qa!=e[Bo]&&(yu(t.h,e),t.dispatchEvent(new _u("tokenChanged")),Tu(t,e[Bo]),Lu(t,"refreshToken",t.h.a))}function Uu(t,e){return Bu(t).then(function(){if(M(Nu(t),e))return Iu(t).then(function(){throw new Tr("provider-already-linked")})})}function Vu(t,e,n){return kr({user:t,credential:Ti(e),additionalUserInfo:e=Yr(e),operationType:n})}function zu(t,e){return ju(t,e),t.reload().then(function(){return t})}function qu(t,e,n,r,i){if(!or())return Ct(new Tr("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ct(t.i);var o=$r(n.providerId),a=dr(t.uid+":::"),s=null;(!ur()||Wn())&&t.u&&n.isOAuthProvider&&(s=$a(t.u,t.l,t.o,e,n,null,a,Nl.a.SDK_VERSION||null));var u=qn(s,o&&o.Ba,o&&o.Aa);return r=r().then(function(){if(Gu(t),!i)return t.F().then(function(){})}).then(function(){return nu(t.a,u,e,n,a,!!s)}).then(function(){return new ft(function(n,r){t.ha(e,null,new Tr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.c=t.a.Ea(t,e,u,a)})}).then(function(t){return u&&zn(u),t?kr(t):null}).s(function(t){throw u&&zn(u),t}),Ku(t,r,i)}function Hu(t,e,n,r,i){if(!or())return Ct(new Tr("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ct(t.i);var o=null,a=dr(t.uid+":::");return r=r().then(function(){if(Gu(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=a,Iu(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(Qu,t.D(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(o=e,t.ba)return $u(t.ba);throw o}).then(function(){if(o)throw o}),Ku(t,r,i)}function Gu(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Tr("internal-error");throw new Tr("auth-domain-config-required")}}function Ku(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ct(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new _u("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(r),r.ia(function(){L(t.G,r)}),r}function Wu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Bo]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-v())/1e3;var r=new bu(e,n,t);return t.providerData&&D(t.providerData,function(t){t&&xu(r,kr(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}au.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},au.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(lu(this,!0,null,t.a),wt()):e.wa(n,r)?function(t,e,n){n=n.wa(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);n(r,i).then(function(e){lu(t,o,e,null)}).s(function(e){lu(t,o,null,e)})}(this,t,e):Ct(new Tr("invalid-auth-event")):(lu(this,!1,null,null),wt())}else Ct(new Tr("invalid-auth-event"))},au.prototype.Xa=function(){this.g&&!this.i&&lu(this,!1,null,null)},au.prototype.fa=function(){var t=this;return new ft(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Tr("timeout");t.a&&t.a.cancel(),t.a=Ne(eu.get()).then(function(){t.b||(t.g=!0,lu(t,!0,null,e))})}(t))})},cu.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ha(t.b,null,t.a,t.c),wt()):e.wa(n,r)?function(t,e){var n=t.c,r=t.b;e.wa(r,n)(t.f,t.g).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}(t,e):Ct(new Tr("invalid-auth-event"))}else Ct(new Tr("invalid-auth-event"))},du.prototype.confirm=function(t){return t=Ai(this.verificationId,t),this.a(t)},fu.prototype.start=function(){this.a=this.c,function t(e,r){e.stop(),e.b=Ne(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,r)).then(function(){return function(){var t=n.document,e=null;return yr()||!t?wt():new ft(function(n){t.addEventListener("visibilitychange",e=function(){yr()&&(t.removeEventListener("visibilitychange",e,!1),n())},!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},fu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},gu.prototype.D=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},gu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ct(new Tr("user-token-expired")):t||!this.b||v()>this.c-3e4?this.a?function(t,e){return function(t,e){return new ft(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Go(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(xa(t)):t.access_token&&t.refresh_token?n(t):r(new Tr("internal-error")):r(new Tr("network-request-failed"))},"POST",on(e).toString(),t.f,t.m.get()):r(new Tr("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=mu(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):wt(null):wt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},vu.prototype.D=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(_u,oe),_(bu,Ie),bu.prototype.oa=function(t){this.ka=t,qo(this.b,t)},bu.prototype.ea=function(){return this.ka},bu.prototype.xa=function(){return j(this.O)},bu.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Er(bu.prototype,"providerId","firebase"),(t=bu.prototype).reload=function(){var t=this;return Ku(this,Du(this).then(function(){return Bu(t).then(function(){return Iu(t)}).then(Pu)}))},t.dc=function(t){return this.F(t).then(function(t){return new function(t){var e=Gr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Tr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Sr(this,{token:t,expirationTime:mr(1e3*e.exp),authTime:mr(1e3*e.auth_time),issuedAtTime:mr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}(t)})},t.F=function(t){var e=this;return Ku(this,Du(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Tr("internal-error");return t.accessToken!=e.qa&&(Tu(e,t.accessToken),e.dispatchEvent(new _u("tokenChanged"))),Lu(e,"refreshToken",t.refreshToken),t.accessToken}))},t.xc=function(t){if(!(t=t.users)||!t.length)throw new Tr("internal-error");Ou(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?N(t,function(t){return new function(t,e,n,r,i,o){Sr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)xu(this,e[n]);Lu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.fb=function(t){var e=this,n=null;return Ku(this,t.f(this.b,this.uid).then(function(t){return ju(e,t),n=Vu(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.yc=function(t){return wr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.fb(t).then(function(){})},t.cb=function(t){var e=this,n=null;return Ku(this,Uu(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){return n=Vu(e,t,"link"),zu(e,t)}).then(function(){return n}))},t.pc=function(t){return wr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.cb(t).then(function(t){return t.user})},t.qc=function(t,e){var n=this;return Ku(this,Uu(this,"phone").then(function(){return pu(Su(n),t,e,y(n.cb,n))}))},t.zc=function(t,e){var n=this;return Ku(this,wt().then(function(){return pu(Su(n),t,e,y(n.fb,n))}),!0)},t.ob=function(t){var e=this;return Ku(this,this.F().then(function(n){return e.b.ob(n,t)}).then(function(t){return ju(e,t),e.reload()}))},t.Rc=function(t){var e=this;return Ku(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){return ju(e,t),e.reload()}))},t.pb=function(t){var e=this;return Ku(this,this.F().then(function(n){return e.b.pb(n,t)}).then(function(t){return ju(e,t),e.reload()}))},t.qb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Du(this);var e=this;return Ku(this,this.F().then(function(n){return e.b.qb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return ju(e,t),Lu(e,"displayName",t.displayName||null),Lu(e,"photoURL",t.photoUrl||null),D(e.providerData,function(t){"password"===t.providerId&&(Er(t,"displayName",e.displayName),Er(t,"photoURL",e.photoURL))}),Iu(e)}).then(Pu))},t.Pc=function(t){var e=this;return Ku(this,Bu(this).then(function(n){return M(Nu(e),t)?function(t,e,n){return Da(t,ca,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then(function(t){var n={};return D(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),D(Nu(e),function(t){n[t]||Mu(e,t)}),n[ki.PROVIDER_ID]||Er(e,"phoneNumber",null),Iu(e)}):Iu(e).then(function(){throw new Tr("no-such-provider")})}))},t.delete=function(){var t=this;return Ku(this,this.F().then(function(e){return Da(t.b,la,{idToken:e})}).then(function(){t.dispatchEvent(new _u("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");wu(t,null),Eu(t,null),t.G=[],t.C=!0,Au(t),Er(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.ub=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?y(this.zb,this):"reauthViaPopup"==t&&e==(this.g||null)?y(this.Ab,this):"linkViaRedirect"==t&&(this.aa||null)==e?y(this.zb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?y(this.Ab,this):null},t.rc=function(t){var e=this;return qu(this,"linkViaPopup",t,function(){return Uu(e,t.providerId).then(function(){return Iu(e)})},!1)},t.Ac=function(t){return qu(this,"reauthViaPopup",t,function(){return wt()},!0)},t.sc=function(t){var e=this;return Hu(this,"linkViaRedirect",t,function(){return Uu(e,t.providerId)},!1)},t.Bc=function(t){return Hu(this,"reauthViaRedirect",t,function(){return wt()},!0)},t.zb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return Ku(this,this.F().then(function(r){return na(n.b,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=Vu(n,t,"link"),zu(n,t)}).then(function(){return r}))},t.Ab=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return Ku(this,wt().then(function(){return ai(ra(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=Vu(n,t,"reauthenticate"),ju(n,t),n.i=null,n.reload()}).then(function(){return r}),!0)},t.ib=function(t){var e=this,n=null;return Ku(this,this.F().then(function(e){return n=e,void 0===t||rt(t)?{}:Ur(new Pr(t))}).then(function(t){return e.b.ib(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.D()},t.D=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.D(),redirectEventId:this.aa||null};return this.metadata&&ut(t,this.metadata.D()),D(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var Qu={name:"redirectUser",A:"session"};function $u(t){return Is(t.b,Qu,t.a)}function Yu(t){this.a=t,this.b=ks(),this.c=null,this.f=function(t){var e=Zu("local"),r=Zu("session"),i=Zu("none");return function(t,e,r){var i=Ts(e,r),o=As(t,e.A);return t.get(e,r).then(function(a){var s=null;try{s=hr(n.localStorage.getItem(i))}catch(t){}if(s&&!a)return n.localStorage.removeItem(i),t.set(e,s,r);s&&a&&"localStorage"!=o.type&&n.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(r,t.a)}).then(function(n){return n?r:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Ju,t.a).then(function(t){return t?Zu(t):e})})})}).then(function(e){return t.c=e,Xu(t,e.A)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(Zu("local"),this.a,y(this.g,this))}function Xu(t,e){var n,r=[];for(n in Es)Es[n]!==e&&r.push(Is(t.b,Zu(Es[n]),t.a));return r.push(Is(t.b,Ju,t.a)),function(t){return new ft(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Et(t[s],m(o,s),a);else e(i)})}(r)}Yu.prototype.g=function(){var t=this,e=Zu("local");rl(this,function(){return wt().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return Xu(t,"local").then(function(){t.c=e})})})};var Ju={name:"persistence",A:"session"};function Zu(t){return{name:"authUser",A:t}}function tl(t,e){return rl(t,function(){return t.b.set(t.c,e.D(),t.a)})}function el(t){return rl(t,function(){return Is(t.b,t.c,t.a)})}function nl(t,e){return rl(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Wu(t||{})})})}function rl(t,e){return t.f=t.f.then(e,e),t.f}function il(t){if(this.l=!1,Er(this,"settings",new hu),Er(this,"app",t),!hl(this).options||!hl(this).options.apiKey)throw new Tr("invalid-api-key");t=Nl.a.SDK_VERSION?er(Nl.a.SDK_VERSION):null,this.b=new Lo(hl(this).options&&hl(this).options.apiKey,Fa(Ma),t),this.N=[],this.o=[],this.I=[],this.Tb=Nl.a.INTERNAL.createSubscribe(y(this.mc,this)),this.O=void 0,this.Ub=Nl.a.INTERNAL.createSubscribe(y(this.nc,this)),ll(this,null),this.h=new Yu(hl(this).options.apiKey+":"+hl(this).name),this.w=new function(t){this.a=t,this.b=ks()}(hl(this).options.apiKey+":"+hl(this).name),this.V=gl(this,function(t){var e=hl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Qu,t.a).then(function(t){return t&&e&&(t.authDomain=e),Wu(t||{})})}(t.w,hl(t).options.authDomain).then(function(e){return(t.C=e)&&(e.ba=t.w),$u(t.w)});return gl(t,e)}(t).then(function(){return nl(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.C&&(t.C.aa||null)==(e.aa||null)?e:e.reload().then(function(){return tl(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:el(t.h)})):null}).then(function(e){ll(t,e||null)});return gl(t,n)}(this)),this.i=gl(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.l)return t.ka()}).s(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(Zu("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=y(this.Mc,this),this.Ha=y(this.Z,this),this.qa=y(this.bc,this),this.ra=y(this.jc,this),this.sa=y(this.kc,this),function(t){var e=hl(t).options.authDomain,n=hl(t).options.apiKey;e&&or()&&(t.Sb=t.V.then(function(){if(!t.l){if(t.a=ou(e,n,hl(t).name),t.a.subscribe(t),dl(t)&&Ru(dl(t)),t.C){Ru(t.C);var r=t.C;r.oa(t.ea()),wu(r,t),Cu(r=t.C,t.G),Eu(r,t),t.C=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=y(this.delete,this),this.INTERNAL.logFramework=y(this.tc,this),this.u=0,Ie.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.oa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function ol(t){oe.call(this,"languageCodeChanged"),this.g=t}function al(t){oe.call(this,"frameworkChanged"),this.c=t}function sl(t){return t.Sb||Ct(new Tr("auth-domain-config-required"))}function ul(t,e){var n={};return n.apiKey=hl(t).options.apiKey,n.authDomain=hl(t).options.authDomain,n.appName=hl(t).name,t.V.then(function(){return function(t,e,n,r){var i=new bu(t,e);return n&&(i.ba=n),r&&Cu(i,r),i.reload().then(function(){return i})}(n,e,t.w,t.xa())}).then(function(e){return dl(t)&&e.uid==dl(t).uid?(Fu(dl(t),e),t.Z(e)):(ll(t,e),Ru(e),t.Z(e))}).then(function(){fl(t)})}function ll(t,e){dl(t)&&(function(t,e){F(t.N,function(t){return t==e})}(dl(t),t.Ha),_e(dl(t),"tokenChanged",t.qa),_e(dl(t),"userDeleted",t.ra),_e(dl(t),"userInvalidated",t.sa),Au(dl(t))),e&&(e.N.push(t.Ha),ye(e,"tokenChanged",t.qa),ye(e,"userDeleted",t.ra),ye(e,"userInvalidated",t.sa),0<t.u&&ku(e)),Er(t,"currentUser",e),e&&(e.oa(t.ea()),wu(e,t),Cu(e,t.G),Eu(e,t))}function cl(t,e){var n=null,r=null;return gl(t,e.then(function(e){return n=Ti(e),r=Yr(e),ul(t,e)}).then(function(){return kr({user:dl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function hl(t){return t.app}function dl(t){return t.currentUser}function pl(t){return dl(t)&&dl(t)._lat||null}function fl(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](pl(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](pl(t))}}function gl(t,e){return t.N.push(e),e.ia(function(){L(t.N,e)}),e}function yl(){}function ml(){this.a={},this.b=1e12}Yu.prototype.lb=function(t){var e=null,n=this;return function(t){var e=new Tr("invalid-persistence-type"),n=new Tr("unsupported-persistence-type");t:{for(r in Es)if(Es[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch($n()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!ir()&&"none"!==t)throw n}}(t),rl(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(r){return e=r,Xu(n,t)}).then(function(){if(n.c=Zu(t),e)return n.b.set(n.c,e,n.a)}):wt()})},_(il,Ie),_(ol,oe),_(al,oe),(t=il.prototype).lb=function(t){return gl(this,t=this.h.lb(t))},t.oa=function(t){this.W===t||this.l||(this.W=t,qo(this.b,this.W),this.dispatchEvent(new ol(this.ea())))},t.ea=function(){return this.W},t.Sc=function(){var t=n.navigator;this.oa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.tc=function(t){this.G.push(t),Ho(this.b,Nl.a.SDK_VERSION?er(Nl.a.SDK_VERSION,this.G):null),this.dispatchEvent(new al(this.G))},t.xa=function(){return j(this.G)},t.toJSON=function(){return{apiKey:hl(this).options.apiKey,authDomain:hl(this).options.authDomain,appName:hl(this).name,currentUser:dl(this)&&dl(this).D()}},t.ub=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?y(this.ac,this):null},t.ac=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,o=ea(n.b,t).then(function(t){return r=Ti(t),i=Yr(t),t});return gl(this,t=n.V.then(function(){return o}).then(function(t){return ul(n,t)}).then(function(){return kr({user:dl(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}))},t.Kc=function(t){if(!or())return Ct(new Tr("operation-not-supported-in-this-environment"));var e=this,n=$r(t.providerId),r=dr(),i=null;(!ur()||Wn())&&hl(this).options.authDomain&&t.isOAuthProvider&&(i=$a(hl(this).options.authDomain,hl(this).options.apiKey,hl(this).name,"signInViaPopup",t,null,r,Nl.a.SDK_VERSION||null));var o=qn(i,n&&n.Ba,n&&n.Aa);return gl(this,n=sl(this).then(function(e){return nu(e,o,"signInViaPopup",t,r,!!i)}).then(function(){return new ft(function(t,n){e.ha("signInViaPopup",null,new Tr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=e.a.Ea(e,"signInViaPopup",o,r)})}).then(function(t){return o&&zn(o),t?kr(t):null}).s(function(t){throw o&&zn(o),t}))},t.Lc=function(t){if(!or())return Ct(new Tr("operation-not-supported-in-this-environment"));var e=this;return gl(this,sl(this).then(function(){return function(t){return rl(t,function(){return t.b.set(Ju,t.c.A,t.a)})}(e.h)}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!or())return Ct(new Tr("operation-not-supported-in-this-environment"));var t=this;return gl(this,sl(this).then(function(){return t.a.fa()}).then(function(t){return t?kr(t):null}))},t.Qc=function(t){if(!t)return Ct(new Tr("null-user"));var e=this,n={};n.apiKey=hl(this).options.apiKey,n.authDomain=hl(this).options.authDomain,n.appName=hl(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.u,appName:t.o};var i=t.h,o={};return o[Bo]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-v())/1e3,e=new bu(e,o),n&&(e.ba=n),r&&Cu(e,r),Fu(e,t),e}(t,n,e.w,e.xa());return gl(this,this.i.then(function(){if(hl(e).options.apiKey!=t.l)return r.reload()}).then(function(){return dl(e)&&t.uid==dl(e).uid?(Fu(dl(e),t),e.Z(t)):(ll(e,r),Ru(r),e.Z(r))}).then(function(){fl(e)}))},t.mb=function(){var t=this;return gl(this,this.i.then(function(){return dl(t)?(ll(t,null),el(t.h).then(function(){fl(t)})):wt()}))},t.Mc=function(){var t=this;return nl(this.h,hl(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=dl(t)&&e){n=dl(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Fu(dl(t),e),dl(t).F();(dl(t)||e)&&(ll(t,e),e&&(Ru(e),e.ba=t.w),t.a&&t.a.subscribe(t),fl(t))}})},t.Z=function(t){return tl(this.h,t)},t.bc=function(){fl(this),this.Z(dl(this))},t.jc=function(){this.mb()},t.kc=function(){this.mb()},t.mc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(dl(e))})},t.nc=function(t){var e=this;!function(t,e){t.I.push(e),gl(t,t.i.then(function(){!t.l&&M(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(pl(t)))}))}(this,function(){t.next(dl(e))})},t.vc=function(t,e,n){var r=this;return this.X&&Nl.a.Promise.resolve().then(function(){c(t)?t(dl(r)):c(t.next)&&t.next(dl(r))}),this.Tb(t,e,n)},t.uc=function(t,e,n){var r=this;return this.X&&Nl.a.Promise.resolve().then(function(){r.O=r.getUid(),c(t)?t(dl(r)):c(t.next)&&t.next(dl(r))}),this.Ub(t,e,n)},t.cc=function(t){var e=this;return gl(this,this.i.then(function(){return dl(e)?dl(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Mb=function(t){var e=this;return this.i.then(function(){return cl(e,Da(e.b,Ta,{token:t}))}).then(function(t){var n=t.user;return Lu(n,"isAnonymous",!1),e.Z(n),t})},t.Ec=function(t){return wr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Mb(t)},t.Fc=function(t,e){return wr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Nb(t,e)},t.Nb=function(t,e){var n=this;return this.i.then(function(){return cl(n,Da(n.b,Ia,{email:t,password:e}))})},t.wb=function(t,e){var n=this;return this.i.then(function(){return cl(n,Da(n.b,sa,{email:t,password:e}))})},t.Wb=function(t,e){return wr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.wb(t,e)},t.Hc=function(t){return wr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Oa(t).then(function(t){return t.user})},t.Oa=function(t){var e=this;return this.i.then(function(){return cl(e,t.ya(e.b))})},t.Pa=function(){var t=this;return this.i.then(function(){var e=dl(t);return e&&e.isAnonymous?kr({user:e,credential:null,additionalUserInfo:kr({providerId:null,isNewUser:!1}),operationType:"signIn"}):cl(t,t.b.Pa()).then(function(e){var n=e.user;return Lu(n,"isAnonymous",!0),t.Z(n),e})})},t.Gc=function(){return wr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Pa()},t.getUid=function(){return dl(this)&&dl(this).uid||null},t.Vb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&dl(this)&&ku(dl(this))},t.Cc=function(t){var e=this;D(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&dl(this)&&Au(dl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),gl(this,this.i.then(function(){e.l||M(e.o,t)&&t(pl(e))}))},t.removeAuthTokenListener=function(t){F(this.o,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(Zu("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Xa()),Nl.a.Promise.resolve()},t.Zb=function(t){return wr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),gl(this,function(t,e){return Da(t,ua,{identifier:e,continueUri:ar()?jn():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.$b=function(t){return gl(this,function(t,e){return Da(t,ua,{identifier:e,continueUri:ar()?jn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.oc=function(t){return!!Ci(t)},t.kb=function(t,e){var n=this;return gl(this,wt().then(function(){var t=new Pr(e);if(!t.c)throw new Tr("argument-error",Nr+" must be true when sending sign in link to email");return Ur(t)}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},t.Tc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.Ya=function(t,e){return gl(this,this.b.Ya(t,e).then(function(){}))},t.Ja=function(t){return gl(this,this.b.Ja(t).then(function(t){return new function(t){var e={},n=t.email,r=t.newEmail;if(!(t=t.requestType)||"EMAIL_SIGNIN"!=t&&!n)throw Error("Invalid provider user info!");e.fromEmail=r||null,e.email=n||null,Er(this,"operation",t),Er(this,"data",Ar(e))}(t)}))},t.Va=function(t){return gl(this,this.b.Va(t).then(function(){}))},t.jb=function(t,e){var n=this;return gl(this,wt().then(function(){return void 0===e||rt(e)?{}:Ur(new Pr(e))}).then(function(e){return n.b.jb(t,e)}).then(function(){}))},t.Jc=function(t,e){return gl(this,pu(this,t,e,y(this.Oa,this)))},t.Ic=function(t,e){var n=this;return gl(this,wt().then(function(){var r=wi(t,e||jn());return n.Oa(r)}))},yl.prototype.render=function(){},yl.prototype.reset=function(){},yl.prototype.getResponse=function(){},yl.prototype.execute=function(){};var vl=null;function _l(t,e){return(e=bl(e))&&t.a[e]||null}function bl(t){return(t=void 0===t?1e12:t)?t.toString():null}function wl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=On(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ye(this.f,"click",this.i)}function Cl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function El(){}ml.prototype.render=function(t,e){return this.a[this.b.toString()]=new wl(t,e),this.b++},ml.prototype.reset=function(t){var e=_l(this,t);t=bl(t),e&&t&&(e.delete(),delete this.a[t])},ml.prototype.getResponse=function(t){return(t=_l(this,t))?t.getResponse():null},ml.prototype.execute=function(t){(t=_l(this,t))&&t.execute()},wl.prototype.getResponse=function(){return Cl(this),this.b},wl.prototype.execute=function(){Cl(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},wl.prototype.delete=function(){Cl(this),this.g=!0,clearTimeout(this.a),this.a=null,_e(this.f,"click",this.i)},El.prototype.g=function(){return vl||(vl=new ml),wt(vl)},El.prototype.c=function(){};var Sl=null;function kl(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Al=fn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Tl=new gr(3e4,6e4);kl.prototype.g=function(t){var e=this;return new ft(function(r,i){var o=setTimeout(function(){i(new Tr("network-request-failed"))},Tl.get());!n.grecaptcha||t!==e.f&&!e.b?(n[e.a]=function(){if(n.grecaptcha){e.f=t;var a=n.grecaptcha.render;n.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(o),r(n.grecaptcha)}else clearTimeout(o),i(new Tr("internal-error"));delete n[e.a]},wt(Ro(mn(Al,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(o),i(new Tr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(o),r(n.grecaptcha))})},kl.prototype.c=function(){this.b--};var Il=null;function Rl(t,e,r,i,o,a,s){if(Er(this,"type","recaptcha"),this.c=this.f=null,this.C=!1,this.l=e,this.g=null,s?(Sl||(Sl=new El),s=Sl):(Il||(Il=new kl),s=Il),this.o=s,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[Dl])throw new Tr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[xl],!n.document)throw new Tr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!On(e)||!this.i&&On(e).hasChildNodes())throw new Tr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Lo(t,a||null,o||null),this.v=i||function(){return null};var u=this;this.m=[];var l=this.a[Ol];this.a[Ol]=function(t){if(Ml(u,t),"function"==typeof l)l(t);else if("string"==typeof l){var e=rr(l,n);"function"==typeof e&&e(t)}};var c=this.a[Pl];this.a[Pl]=function(){if(Ml(u,null),"function"==typeof c)c();else if("string"==typeof c){var t=rr(c,n);"function"==typeof t&&t()}}}var Ol="callback",Pl="expired-callback",Dl="sitekey",xl="size";function Ml(t,e){for(var n=0;n<t.m.length;n++)try{t.m[n](e)}catch(t){}}function Ll(t,e){return t.h.push(e),e.ia(function(){L(t.h,e)}),e}function Fl(t){if(t.C)throw new Tr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bl(t,e,n){var r=!1;try{this.b=n||Nl.a.app()}catch(t){throw new Tr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Tr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().xa()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Nl.a.SDK_VERSION?er(Nl.a.SDK_VERSION,o):null,Rl.call(this,n,t,e,function(){try{var t=i.b.auth().ea()}catch(e){t=null}return t},o,Fa(Ma),r)}function jl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Tr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Ul.length)throw new Tr("internal-error","Argument validator received an unsupported number of arguments.");n=Ul[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Tr("argument-error",t+" failed: "+r)}(t=Rl.prototype).za=function(){var t=this;return this.f?this.f:this.f=Ll(this,wt().then(function(){if(ar()&&!Qn())return Gn();throw new Tr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,Da(t.u,va,{})}).then(function(e){t.a[Dl]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){Fl(this);var t=this;return Ll(this,this.za().then(function(){if(null===t.c){var e=t.l;if(!t.i){var n=On(e);e=function(t,e,n){var i=arguments,o=document,a=String(i[0]),s=i[1];if(!cn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',z(s.name),'"'),s.type){a.push(' type="',z(s.type),'"');var c={};ut(c,s),delete c.type,s=c}a.push(">"),a=a.join("")}return a=o.createElement(a),s&&(r(s)?a.className=s:u(s)?a.className=s.join(" "):Pn(a,s)),2<i.length&&function(t,e,n){function i(n){n&&e.appendChild(r(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];!l(a)||h(a)&&0<a.nodeType?i(a):D(Nn(a)?j(a):a,i)}}(o,a,i),a}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Fl(this);var t=this;return Ll(this,this.render().then(function(e){return new ft(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){F(t.m,function(t){return t==e})}(t,i),n(e))};t.m.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Fl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Fl(this),this.C=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=On(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},_(Bl,Rl);var Ul="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Vl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:r}}function zl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:i}}function ql(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:h}}function Hl(t,e){return{name:t||"",K:"a function",optional:!!e,M:c}}function Gl(t,e){return{name:t||"",K:"null",optional:!!e,M:s}}function Kl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ya||t&&e.providerId!==t)}}}function Wl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&r(t.type)&&c(t.verify))}}}function Ql(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function $l(t,e){for(var n in e){var r=e[n].name;t[r]=Jl(r,t[n],e[n].j)}}function Yl(t,e){for(var n in e){var r=e[n].name;if(r!==n){var i=e[n].sb;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){jl(r,[i],[t],!0),this[n]=t},enumerable:!0})}}}function Xl(t,e,n,r){t[e]=Jl(e,n,r)}function Jl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return jl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}$l(il.prototype,{Va:{name:"applyActionCode",j:[Vl("code")]},Ja:{name:"checkActionCode",j:[Vl("code")]},Ya:{name:"confirmPasswordReset",j:[Vl("code"),Vl("newPassword")]},wb:{name:"createUserWithEmailAndPassword",j:[Vl("email"),Vl("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Vl("email"),Vl("password")]},Zb:{name:"fetchProvidersForEmail",j:[Vl("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[Vl("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[Vl("emailLink")]},uc:{name:"onAuthStateChanged",j:[Ql(ql(),Hl(),"nextOrObserver"),Hl("opt_error",!0),Hl("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[Ql(ql(),Hl(),"nextOrObserver"),Hl("opt_error",!0),Hl("opt_completed",!0)]},jb:{name:"sendPasswordResetEmail",j:[Vl("email"),Ql(ql("opt_actionCodeSettings",!0),Gl(null,!0),"opt_actionCodeSettings",!0)]},kb:{name:"sendSignInLinkToEmail",j:[Vl("email"),ql("actionCodeSettings")]},lb:{name:"setPersistence",j:[Vl("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",j:[Kl()]},Pa:{name:"signInAnonymously",j:[]},Gc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Hc:{name:"signInWithCredential",j:[Kl()]},Mb:{name:"signInWithCustomToken",j:[Vl("token")]},Ec:{name:"signInAndRetrieveDataWithCustomToken",j:[Vl("token")]},Nb:{name:"signInWithEmailAndPassword",j:[Vl("email"),Vl("password")]},Ic:{name:"signInWithEmailLink",j:[Vl("email"),Vl("emailLink",!0)]},Fc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Vl("email"),Vl("password")]},Jc:{name:"signInWithPhoneNumber",j:[Vl("phoneNumber"),Wl()]},Kc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Qc:{name:"updateCurrentUser",j:[Ql({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bu)}},Gl(),"user")]},mb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Vl(null,!0)]},Sc:{name:"useDeviceLanguage",j:[]},Tc:{name:"verifyPasswordResetCode",j:[Vl("code")]}}),Yl(il.prototype,{lc:{name:"languageCode",sb:Ql(Vl(),Gl(),"languageCode")}}),(il.Persistence=Es).LOCAL="local",il.Persistence.SESSION="session",il.Persistence.NONE="none",$l(bu.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[zl("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[zl("opt_forceRefresh",!0)]},cb:{name:"linkAndRetrieveDataWithCredential",j:[Kl()]},pc:{name:"linkWithCredential",j:[Kl()]},qc:{name:"linkWithPhoneNumber",j:[Vl("phoneNumber"),Wl()]},rc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},sc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},fb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Kl()]},yc:{name:"reauthenticateWithCredential",j:[Kl()]},zc:{name:"reauthenticateWithPhoneNumber",j:[Vl("phoneNumber"),Wl()]},Ac:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Bc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ib:{name:"sendEmailVerification",j:[Ql(ql("opt_actionCodeSettings",!0),Gl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Vl(null,!0)]},Pc:{name:"unlink",j:[Vl("provider")]},ob:{name:"updateEmail",j:[Vl("email")]},pb:{name:"updatePassword",j:[Vl("password")]},Rc:{name:"updatePhoneNumber",j:[Kl("phone")]},qb:{name:"updateProfile",j:[ql("profile")]}}),$l(ml.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$l(yl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$l(ft.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Yl(hu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",sb:zl("appVerificationDisabledForTesting")}}),$l(du.prototype,{confirm:{name:"confirm",j:[Vl("verificationCode")]}}),Xl(bi,"credential",function(t,e){return new _i(t,e)},[Vl("email"),Vl("password")]),$l(hi.prototype,{ta:{name:"addScope",j:[Vl("scope")]},Da:{name:"setCustomParameters",j:[ql("customOAuthParameters")]}}),Xl(hi,"credential",di,[Ql(Vl(),ql(),"token")]),Xl(bi,"credentialWithLink",wi,[Vl("email"),Vl("emailLink")]),$l(pi.prototype,{ta:{name:"addScope",j:[Vl("scope")]},Da:{name:"setCustomParameters",j:[ql("customOAuthParameters")]}}),Xl(pi,"credential",fi,[Ql(Vl(),ql(),"token")]),$l(gi.prototype,{ta:{name:"addScope",j:[Vl("scope")]},Da:{name:"setCustomParameters",j:[ql("customOAuthParameters")]}}),Xl(gi,"credential",yi,[Ql(Vl(),Ql(ql(),Gl()),"idToken"),Ql(Vl(),Gl(),"accessToken",!0)]),$l(mi.prototype,{Da:{name:"setCustomParameters",j:[ql("customOAuthParameters")]}}),Xl(mi,"credential",vi,[Ql(Vl(),ql(),"token"),Vl("secret",!0)]),$l(ci.prototype,{ta:{name:"addScope",j:[Vl("scope")]},credential:{name:"credential",j:[Ql(Vl(),Gl(),"idToken",!0),Ql(Vl(),Gl(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[ql("customOAuthParameters")]}}),Xl(ki,"credential",Ai,[Vl("verificationId"),Vl("verificationCode")]),$l(ki.prototype,{Ta:{name:"verifyPhoneNumber",j:[Vl("phoneNumber"),Wl()]}}),$l(Tr.prototype,{toJSON:{name:"toJSON",j:[Vl(null,!0)]}}),$l(xi.prototype,{toJSON:{name:"toJSON",j:[Vl(null,!0)]}}),$l(Ni.prototype,{toJSON:{name:"toJSON",j:[Vl(null,!0)]}}),$l(Bl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===Nl.a||!Nl.a.INTERNAL||!Nl.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:il,Error:Tr};Xl(t,"EmailAuthProvider",bi,[]),Xl(t,"FacebookAuthProvider",hi,[]),Xl(t,"GithubAuthProvider",pi,[]),Xl(t,"GoogleAuthProvider",gi,[]),Xl(t,"TwitterAuthProvider",mi,[]),Xl(t,"OAuthProvider",ci,[Vl("providerId")]),Xl(t,"PhoneAuthProvider",ki,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof il)}}]),Xl(t,"RecaptchaVerifier",Bl,[Ql(Vl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),ql("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Nl.a.app.App)}}]),Nl.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:y((t=new il(t)).getUid,t),getToken:y(t.cc,t),addAuthTokenListener:y(t.Vb,t),removeAuthTokenListener:y(t.Cc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),Nl.a.INTERNAL.extendNamespace({User:bu})}()}).call("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});class xl extends R{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new A;return this._value}next(t){super.next(this._value=t)}}function Ml(t,e){return Q(t,e,1)}function Ll(t){return function(e){return 0===t?Ls():e.lift(new Fl(t))}}class Fl{constructor(t){if(this.total=t,this.total<0)throw new xs}call(t,e){return e.subscribe(new Bl(t,this.total))}}class Bl extends v{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function jl(t,e){const n=arguments.length>=2;return r=>r.pipe(t?gl((e,n)=>t(e,n,r)):X,Ll(1),n?vl(e):wl(()=>new fl))}function Ul(t,e){return n=>n.lift(new Vl(t,e,n))}class Vl{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new zl(t,this.predicate,this.thisArg,this.source))}}class zl extends v{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function ql(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Hl(t,e,n))}}class Hl{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Gl(t,this.accumulator,this.seed,this.hasSeed))}}class Gl extends v{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(t){this.destination.error(t)}this.seed=n,this.destination.next(n)}}function Kl(t){return function(e){const n=new Wl(t),r=e.lift(n);return n.caught=r}}class Wl{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ql(t,this.selector,this.caught))}}class Ql extends z{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle(),this.add(V(this,e))}}}function $l(){return J(1)}let Yl=null;function Xl(){return Yl}class Jl{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class Zl extends Jl{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const tc={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},ec=3,nc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};let ic;yt.Node&&(ic=yt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});class oc extends Zl{parse(t){throw new Error("parse not implemented")}static makeCurrent(){!function(t){Yl||(Yl=t)}(new oc)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return tc}contains(t,e){return ic.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===ec&&rc.hasOwnProperty(e)&&(e=rc[e]))}return nc[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=sc||(sc=document.querySelector("base"))?sc.getAttribute("href"):null;return null==e?null:function(t){return ac||(ac=document.createElement("a")),ac.setAttribute("href",t),"/"===ac.pathname.charAt(0)?ac.pathname:"/"+ac.pathname}(e)}resetBaseElement(){sc=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let ac,sc=null;const uc=il;function lc(){return!!window.history.pushState}class cc extends Qs{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Xl().getLocation(),this._history=Xl().getHistory()}getBaseHrefFromDOM(){return Xl().getBaseHref(this._doc)}onPopState(t){Xl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Xl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){lc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){lc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}}cc.ctorParameters=(()=>[{type:void 0,decorators:[{type:Ot,args:[uc]}]}]);const hc=new ut("TRANSITION_ID"),dc=[{provide:xe,useFactory:function(t,e,n){return()=>{n.get(Me).donePromise.then(()=>{const n=Xl();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[hc,uc,Bt],multi:!0}];class pc{static init(){!function(t){vn=t}(new pc)}addToWindow(t){yt.getAngularTestability=((e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r}),yt.getAllAngularTestabilities=(()=>t.getAllTestabilities()),yt.getAllAngularRootElements=(()=>t.getAllRootElements()),yt.frameworkStabilizers||(yt.frameworkStabilizers=[]),yt.frameworkStabilizers.push(t=>{const e=yt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Xl().isShadowRoot(e)?this.findTestabilityInTree(t,Xl().getHost(e),!0):this.findTestabilityInTree(t,Xl().parentElement(e),!0):null}}function fc(t,e){"undefined"!=typeof COMPILED&&COMPILED||((yt.ng=yt.ng||{})[t]=e)}const gc={ApplicationRef:In,NgZone:un};function yc(t){return $n(t)}const mc=new ut("EventManagerPlugins");class vc{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class _c{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Xl().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class bc{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class wc extends bc{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Xl().remove(t))}}const Cc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ec=/%COMP%/g,Sc="_nghost-%COMP%",kc="_ngcontent-%COMP%";function Ac(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ac(t,i,n):(i=i.replace(Ec,t),n.push(i))}return n}function Tc(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class Ic{constructor(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new Rc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case re.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Dc(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case re.Native:case re.ShadowDom:return new Nc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Ac(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Rc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Cc[e],t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t){let e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error(`The selector "${t}" did not match any elements`);return e.textContent="",e}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=`${r}:${e}`;const i=Cc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Cc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Pn.DashCase?t.style.setProperty(e,n,r&Pn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Pn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){Pc(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return Pc(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Tc(n)):this.eventManager.addEventListener(t,e,Tc(n))}}const Oc="@".charCodeAt(0);function Pc(t,e){if(t.charCodeAt(0)===Oc)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Dc extends Rc{constructor(t,e,n){super(t),this.component=n;const r=Ac(n.id,n.styles,[]);e.addStyles(r),this.contentAttr=kc.replace(Ec,n.id),this.hostAttr=Sc.replace(Ec,n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Nc extends Rc{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===re.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Ac(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const xc="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Mc=xc("addEventListener"),Lc=xc("removeEventListener"),Fc={},Bc="__zone_symbol__propagationStopped";let jc;"undefined"!=typeof Zone&&Zone[xc("BLACK_LISTED_EVENTS")]&&(jc={});const Uc=function(t){return!!jc&&jc.hasOwnProperty(t)},Vc=function(t){const e=Fc[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Bc];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}},zc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},qc=new ut("HammerGestureConfig"),Hc=new ut("HammerLoader");class Gc{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}const Kc=["alt","control","meta","shift"],Wc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Qc extends _c{constructor(t){super(t)}supports(t){return null!=Qc.parseEventName(t)}addEventListener(t,e,n){const r=Qc.parseEventName(e),i=Qc.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xl().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=Qc._normalizeKey(e.pop());let i="";if(Kc.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(t){let e="",n=Xl().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Kc.forEach(r=>{r!=n&&(0,Wc[r])(t)&&(e+=r+".")}),e+=n}static eventCallback(t,e,n){return r=>{Qc.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class $c{}class Yc extends $c{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case qr.NONE:return e;case qr.HTML:return e instanceof Jc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{jr=jr||new br(t);let r=e?String(e):"";n=jr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=jr.getInertBodyElement(r)}while(r!==o);const a=new Mr,s=a.sanitizeChildren(Ur(n)||n);return Cn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),s}finally{if(n){const t=Ur(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case qr.STYLE:return e instanceof Zc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(zr);return e&&Er(e[1])===e[1]||t.match(Vr)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Cn()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case qr.SCRIPT:if(e instanceof th)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case qr.URL:return e instanceof nh||e instanceof eh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Er(String(e)));case qr.RESOURCE_URL:if(e instanceof nh)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof Xc)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new Jc(t)}bypassSecurityTrustStyle(t){return new Zc(t)}bypassSecurityTrustScript(t){return new th(t)}bypassSecurityTrustUrl(t){return new eh(t)}bypassSecurityTrustResourceUrl(t){return new nh(t)}}class Xc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Jc extends Xc{getTypeName(){return"HTML"}}class Zc extends Xc{getTypeName(){return"Style"}}class th extends Xc{getTypeName(){return"Script"}}class eh extends Xc{getTypeName(){return"URL"}}class nh extends Xc{getTypeName(){return"ResourceURL"}}const rh=Sn(fr,"browser",[{provide:Ue,useValue:ol},{provide:je,useValue:function(){oc.makeCurrent(),pc.init()},multi:!0},{provide:Qs,useClass:cc,deps:[uc]},{provide:uc,useFactory:function(){return document},deps:[]}]);function ih(){return new he}class oh{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:oh,providers:[{provide:Le,useValue:t.appId},{provide:hc,useExisting:Le},dc]}}}class ah{constructor(t){this._doc=t,this._dom=Xl()}addTag(t,e=!1){return t?this._getOrCreateElement(t,e):null}addTags(t,e=!1){return t?t.reduce((t,n)=>(n&&t.push(this._getOrCreateElement(n,e)),t),[]):[]}getTag(t){return t&&this._dom.querySelector(this._doc,`meta[${t}]`)||null}getTags(t){if(!t)return[];const e=this._dom.querySelectorAll(this._doc,`meta[${t}]`);return e?[].slice.call(e):[]}updateTag(t,e){if(!t)return null;e=e||this._parseSelector(t);const n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,e=!1){if(!e){const e=this._parseSelector(t),n=this.getTag(e);if(n&&this._containsAttributes(t,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(t,n);const r=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(r,n),n}_setMetaElementAttributes(t,e){return Object.keys(t).forEach(n=>this._dom.setAttribute(e,n,t[n])),e}_parseSelector(t){const e=t.name?"name":"property";return`${e}="${t[e]}"`}_containsAttributes(t,e){return Object.keys(t).every(n=>this._dom.getAttribute(e,n)===t[n])}}ah.ngInjectableDef=st({factory:function(){return new ah(ne(uc))},token:ah,providedIn:"root"});class sh{constructor(t){this._doc=t}getTitle(){return Xl().getTitle(this._doc)}setTitle(t){Xl().setTitle(this._doc,t)}}sh.ngInjectableDef=st({factory:function(){return new sh(ne(uc))},token:sh,providedIn:"root"}),"undefined"!=typeof window&&window;class uh{constructor(t,e){this.id=t,this.url=e}}class lh extends uh{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ch extends uh{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hh extends uh{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dh extends uh{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ph extends uh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fh extends uh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gh extends uh{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yh extends uh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mh extends uh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _h{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ch{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eh{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sh{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kh{}const Ah="primary";class Th{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ih(t){return new Th(t)}const Rh="ngNavigationCancelingError";function Oh(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Ph{constructor(t,e){this.routes=t,this.module=e}}function Dh(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Nh(r,xh(e,r))}}function Nh(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Ah)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Dh(t.children,e)}function xh(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Mh(t){const e=t.children&&t.children.map(Mh),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ah&&(n.component=kh),n}function Lh(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(t[i=n[o]]!==e[i])return!1;return!0}function Fh(t){return Array.prototype.concat.apply([],t)}function Bh(t){return t.length>0?t[t.length-1]:null}function jh(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Uh(t){return t.pipe(J(),Ul(t=>!0===t))}function Vh(t){return Ne(t)?t:De(t)?W(Promise.resolve(t)):Hs(t)}function zh(t,e,n){return n?function(t,e){return Lh(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Kh(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length){return!!Kh(n.segments.slice(0,i.length),i)&&!r.hasChildren()}if(n.segments.length===i.length){if(!Kh(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Kh(n.segments,t)&&!!n.children[Ah]&&e(n.children[Ah],r,o)}}(e,n,n.segments)}(t.root,e.root)}class qh{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ih(this.queryParams)),this._queryParamMap}toString(){return Yh.serialize(this)}}class Hh{constructor(t,e){this.segments=t,this.children=e,this.parent=null,jh(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xh(this)}}class Gh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ih(this.parameters)),this._parameterMap}toString(){return rd(this)}}function Kh(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Wh(t,e){let n=[];return jh(t.children,(t,r)=>{r===Ah&&(n=n.concat(e(t,r)))}),jh(t.children,(t,r)=>{r!==Ah&&(n=n.concat(e(t,r)))}),n}class Qh{}class $h{parse(t){const e=new ud(t);return new qh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${function t(e,n){if(!e.hasChildren())return Xh(e);if(n){const n=e.children[Ah]?t(e.children[Ah],!1):"",r=[];return jh(e.children,(e,n)=>{n!==Ah&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Wh(e,(n,r)=>r===Ah?[t(e.children[Ah],!1)]:[`${r}:${t(n,!1)}`]);return`${Xh(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Zh(e)}=${Zh(t)}`).join("&"):`${Zh(e)}=${Zh(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${encodeURI(t.fragment)}`:""}`}}const Yh=new $h;function Xh(t){return t.segments.map(t=>rd(t)).join("/")}function Jh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zh(t){return Jh(t).replace(/%3B/gi,";")}function td(t){return Jh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ed(t){return decodeURIComponent(t)}function nd(t){return ed(t.replace(/\+/g,"%20"))}function rd(t){return`${td(t.path)}${function(t){return Object.keys(t).map(e=>`;${td(e)}=${td(t[e])}`).join("")}(t.parameters)}`}const id=/^[^\/()?;=#]+/;function od(t){const e=t.match(id);return e?e[0]:""}const ad=/^[^=?&#]+/,sd=/^[^?&#]+/;class ud{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hh([],{}):new Hh([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Ah]=new Hh(t,e)),n}parseSegment(){const t=od(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Gh(ed(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=od(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=od(this.remaining);t&&this.capture(n=t)}t[ed(e)]=ed(n)}parseQueryParam(t){const e=function(t){const e=t.match(ad);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(sd);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const r=nd(e),i=nd(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(t[r]=e=[e]),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=od(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ah);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Ah]:new Hh([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ld{constructor(t){this.segmentGroup=t||null}}class cd{constructor(t){this.urlTree=t}}function hd(t){return new S(e=>e.error(new ld(t)))}function dd(t){return new S(e=>e.error(new cd(t)))}function pd(t){return new S(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class fd{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Ze)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ah).pipe(q(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Kl(t=>{if(t instanceof cd)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ld)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ah).pipe(q(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Kl(t=>{if(t instanceof ld)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Hh([],{[Ah]:t}):t;return new qh(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(q(t=>new Hh([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Hs({});const n=[],r=[],i={};return jh(t,(t,o)=>{const a=e(o,t).pipe(q(t=>i[o]=t));o===Ah?n.push(a):r.push(a)}),Hs.apply(null,n.concat(r)).pipe($l(),jl(),q(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Hs(...n).pipe(q(a=>this.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(Kl(t=>{if(t instanceof ld)return Hs(null);throw t}))),$l(),Cl(t=>!!t),Kl((t,n)=>{if(t instanceof fl||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Hs(new Hh([],{}));throw new ld(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,a){return vd(r)!==o?hd(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):hd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?dd(i):this.lineralizeSegments(n,i).pipe(Q(n=>{const i=new Hh(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:a,consumedSegments:s,lastChild:u,positionalParamSegments:l}=gd(e,r,i);if(!a)return hd(e);const c=this.applyRedirectCommands(s,r.redirectTo,l);return r.redirectTo.startsWith("/")?dd(c):this.lineralizeSegments(r,c).pipe(Q(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(q(t=>(n._loadedConfig=t,new Hh(r,{})))):Hs(new Hh(r,{}));const{matched:i,consumedSegments:o,lastChild:a}=gd(e,n,r);if(!i)return hd(e);const s=r.slice(a);return this.getChildConfig(t,n).pipe(Q(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:a}=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(n=>md(t,e,n)&&vd(n)!==Ah)}(t,n)?{segmentGroup:yd(new Hh(e,function(t,e){const n={};n[Ah]=e;for(const r of t)""===r.path&&vd(r)!==Ah&&(n[vd(r)]=new Hh([],{}));return n}(r,new Hh(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(n=>md(t,e,n))}(t,n)?{segmentGroup:yd(new Hh(t.segments,function(t,e,n,r){const i={};for(const o of n)md(t,e,o)&&!r[vd(o)]&&(i[vd(o)]=new Hh([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,s,r);return 0===a.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(q(t=>new Hh(o,t))):0===r.length&&0===a.length?Hs(new Hh(o,{})):this.expandSegment(n,i,r,a,Ah,!0).pipe(q(t=>new Hh(o.concat(t.segments),t.children)))}))}getChildConfig(t,e){return e.children?Hs(new Ph(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Hs(e._loadedConfig):function(t,e){const n=e.canLoad;return n&&0!==n.length?Uh(W(n).pipe(q(n=>{const r=t.get(n);return Vh(r.canLoad?r.canLoad(e):r(e))}))):Hs(!0)}(t.injector,e).pipe(Q(n=>n?this.configLoader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,t))):function(t){return new S(e=>e.error(function(t){const e=Error("NavigationCancelingError: "+t);return e[Rh]=!0,e}(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Hs(new Ph([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Hs(n);if(r.numberOfChildren>1||!r.children[Ah])return pd(t.redirectTo);r=r.children[Ah]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new qh(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return jh(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return jh(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Hh(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function gd(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Oh)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function yd(t){if(1===t.numberOfChildren&&t.children[Ah]){const e=t.children[Ah];return new Hh(t.segments.concat(e.segments),e.children)}return t}function md(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function vd(t){return t.outlet||Ah}class _d{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=bd(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=bd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=wd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return wd(t,this._root).map(t=>t.value)}}function bd(t,e){if(t===e.value)return e;for(const n of e.children){const e=bd(t,n);if(e)return e}return null}function wd(t,e){if(t===e.value)return[e];for(const n of e.children){const r=wd(t,n);if(r.length)return r.unshift(e),r}return[]}class Cd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ed(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Sd extends _d{constructor(t,e){super(t),this.snapshot=e,Od(this,t)}toString(){return this.snapshot.toString()}}function kd(t,e){const n=function(t,e){const n=new Id([],{},{},"",{},Ah,e,null,t.root,-1,{});return new Rd("",new Cd(n,[]))}(t,e),r=new xl([new Gh("",{})]),i=new xl({}),o=new xl({}),a=new xl({}),s=new xl(""),u=new Ad(r,i,a,s,o,Ah,e,n.root);return u.snapshot=n.root,new Sd(new Cd(u,[]),n)}class Ad{constructor(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(q(t=>Ih(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(q(t=>Ih(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Td(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Id{constructor(t,e,n,r,i,o,a,s,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ih(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ih(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rd extends _d{constructor(t,e){super(e),this.url=t,Od(this,e)}toString(){return Pd(this._root)}}function Od(t,e){e.value._routerState=t,e.children.forEach(e=>Od(t,e))}function Pd(t){const e=t.children.length>0?` { ${t.children.map(Pd).join(", ")} } `:"";return`${t.value}${e}`}function Dd(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Lh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Lh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Lh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Lh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Nd(t,e){return Lh(t.params,e.params)&&function(t,e){return Kh(t,e)&&t.every((t,n)=>Lh(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Nd(t.parent,e.parent))}function xd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Md(t,e,n,r,i){let o={};return r&&jh(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new qh(n.root===t?e:function t(e,n,r){const i={};return jh(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Hh(e.segments,i)}(n.root,t,e),o,i)}class Ld{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&xd(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Bh(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fd{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Bd(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Ah]:`${t}`}function jd(t,e,n){if(t||(t=new Hh([],{})),0===t.segments.length&&t.hasChildren())return Ud(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],a=Bd(n[r]),s=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&s&&"object"==typeof s&&void 0===s.outlets){if(!Hd(a,s,e))return o;r+=2}else{if(!Hd(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Hh(t.segments.slice(0,r.pathIndex),{});return e.children[Ah]=new Hh(t.segments.slice(r.pathIndex),t.children),Ud(e,0,i)}return r.match&&0===i.length?new Hh(t.segments,{}):r.match&&!t.hasChildren()?Vd(t,e,n):r.match?Ud(t,0,i):Vd(t,e,n)}function Ud(t,e,n){if(0===n.length)return new Hh(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[Ah]:t}:void 0===t[0].outlets?{[Ah]:t}:t[0].outlets}(n),i={};return jh(r,(n,r)=>{null!==n&&(i[r]=jd(t.children[r],e,n))}),jh(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Hh(t.segments,i)}}function Vd(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=zd(n[i].outlets);return new Hh(r,t)}if(0===i&&xd(n[0])){r.push(new Gh(t.segments[e].path,n[0])),i++;continue}const o=Bd(n[i]),a=i<n.length-1?n[i+1]:null;o&&a&&xd(a)?(r.push(new Gh(o,qd(a))),i+=2):(r.push(new Gh(o,{})),i++)}return new Hh(r,{})}function zd(t){const e={};return jh(t,(t,n)=>{null!==t&&(e[n]=Vd(new Hh([],{}),0,t))}),e}function qd(t){const e={};return jh(t,(t,n)=>e[n]=`${t}`),e}function Hd(t,e,n){return t==n.path&&Lh(e,n.parameters)}class Gd{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Kd{constructor(t,e){this.component=t,this.route=e}}class Wd{constructor(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}initialize(t){const e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])}checkGuards(){return this.isDeactivating()||this.isActivating()?this.runCanDeactivateChecks().pipe(Q(t=>t?this.runCanActivateChecks():Hs(!1))):Hs(!0)}resolveData(t){return this.isActivating()?W(this.canActivateChecks).pipe(Ml(e=>this.runResolve(e.route,t)),function(t,e){return arguments.length>=2?function(n){return C(ql(t,e),Ll(1),vl(e))(n)}:function(e){return C(ql((e,n,r)=>t(e,n,r+1)),Ll(1))(e)}}((t,e)=>t)):Hs(null)}isDeactivating(){return 0!==this.canDeactivateChecks.length}isActivating(){return 0!==this.canActivateChecks.length}setupChildRouteGuards(t,e,n,r){const i=Ed(e);t.children.forEach(t=>{this.setupRouteGuards(t,i[t.value.outlet],n,r.concat([t.value])),delete i[t.value.outlet]}),jh(i,(t,e)=>this.deactivateRouteAndItsChildren(t,n.getContext(e)))}setupRouteGuards(t,e,n,r){const i=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){const s=this.shouldRunGuardsAndResolvers(o,i,i.routeConfig.runGuardsAndResolvers);s?this.canActivateChecks.push(new Gd(r)):(i.data=o.data,i._resolvedData=o._resolvedData),this.setupChildRouteGuards(t,e,i.component?a?a.children:null:n,r),s&&this.canDeactivateChecks.push(new Kd(a.outlet.component,o))}else o&&this.deactivateRouteAndItsChildren(e,a),this.canActivateChecks.push(new Gd(r)),this.setupChildRouteGuards(t,null,i.component?a?a.children:null:n,r)}shouldRunGuardsAndResolvers(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!Nd(t,e)||!Lh(t.queryParams,e.queryParams);case"paramsChange":default:return!Nd(t,e)}}deactivateRouteAndItsChildren(t,e){const n=Ed(t),r=t.value;jh(n,(t,n)=>{this.deactivateRouteAndItsChildren(t,r.component?e?e.children.getContext(n):null:e)}),this.canDeactivateChecks.push(new Kd(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}runCanDeactivateChecks(){return W(this.canDeactivateChecks).pipe(Q(t=>this.runCanDeactivate(t.component,t.route)),Ul(t=>!0===t))}runCanActivateChecks(){return W(this.canActivateChecks).pipe(Ml(t=>Uh(W([this.fireChildActivationStart(t.route.parent),this.fireActivationStart(t.route),this.runCanActivateChild(t.path),this.runCanActivate(t.route)]))),Ul(t=>!0===t))}fireActivationStart(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new Ch(t)),Hs(!0)}fireChildActivationStart(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new bh(t)),Hs(!0)}runCanActivate(t){const e=t.routeConfig?t.routeConfig.canActivate:null;return e&&0!==e.length?Uh(W(e).pipe(q(e=>{const n=this.getToken(e,t);let r;return(r=Vh(n.canActivate?n.canActivate(t,this.future):n(t,this.future))).pipe(Cl())}))):Hs(!0)}runCanActivateChild(t){const e=t[t.length-1];return Uh(W(t.slice(0,t.length-1).reverse().map(t=>this.extractCanActivateChild(t)).filter(t=>null!==t)).pipe(q(t=>Uh(W(t.guards).pipe(q(n=>{const r=this.getToken(n,t.node);let i;return(i=Vh(r.canActivateChild?r.canActivateChild(e,this.future):r(e,this.future))).pipe(Cl())}))))))}extractCanActivateChild(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}runCanDeactivate(t,e){const n=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return n&&0!==n.length?W(n).pipe(Q(n=>{const r=this.getToken(n,e);let i;return(i=Vh(r.canDeactivate?r.canDeactivate(t,e,this.curr,this.future):r(t,e,this.curr,this.future))).pipe(Cl())})).pipe(Ul(t=>!0===t)):Hs(!0)}runResolve(t,e){return this.resolveNode(t._resolve,t).pipe(q(n=>(t._resolvedData=n,t.data=Object.assign({},t.data,Td(t,e).resolve),null)))}resolveNode(t,e){const n=Object.keys(t);if(0===n.length)return Hs({});if(1===n.length){const r=n[0];return this.getResolver(t[r],e).pipe(q(t=>({[r]:t})))}const r={};return W(n).pipe(Q(n=>this.getResolver(t[n],e).pipe(q(t=>(r[n]=t,t))))).pipe(jl(),q(()=>r))}getResolver(t,e){const n=this.getToken(t,e);return Vh(n.resolve?n.resolve(e,this.future):n(e,this.future))}getToken(t,e){const n=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)}}class Qd{}class $d{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Jd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ah),n=new Id([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ah,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Cd(n,e),i=new Rd(this.url,r);return this.inheritParamsAndData(i._root),Hs(i)}catch(t){return new S(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Td(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Wh(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};n.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(),n.sort((t,e)=>t.value.outlet===Ah?-1:e.value.outlet===Ah?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(t){if(!(t instanceof Qd))throw t}if(this.noLeftoversInUrl(e,n,r))return[];throw new Qd}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Qd;if((t.outlet||Ah)!==r)throw new Qd;let i,o=[],a=[];if("**"===t.path){const o=n.length>0?Bh(n).parameters:{};i=new Id(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ep(t),r,t.component,t,Yd(e),Xd(e)+n.length,np(t))}else{const s=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Qd;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Oh)(n,t,e);if(!r)throw new Qd;const i={};jh(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=s.consumedSegments,a=n.slice(s.lastChild),i=new Id(o,s.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ep(t),r,t.component,t,Yd(e),Xd(e)+o.length,np(t))}const s=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:l}=Jd(e,o,a,s,this.relativeLinkResolution);if(0===l.length&&u.hasChildren()){const t=this.processChildren(s,u);return[new Cd(i,t)]}if(0===s.length&&0===l.length)return[new Cd(i,[])];const c=this.processSegment(s,u,l,Ah);return[new Cd(i,c)]}}function Yd(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Xd(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Jd(t,e,n,r,i){if(n.length>0&&function(t,e,n){return r.some(n=>Zd(t,e,n)&&tp(n)!==Ah)}(t,n)){const i=new Hh(e,function(t,e,n,r){const i={};i[Ah]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&tp(o)!==Ah){const n=new Hh([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[tp(o)]=n}return i}(t,e,r,new Hh(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(n=>Zd(t,e,n))}(t,n)){const o=new Hh(t.segments,function(t,e,n,r,i,o){const a={};for(const s of r)if(Zd(t,n,s)&&!i[tp(s)]){const n=new Hh([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[tp(s)]=n}return Object.assign({},i,a)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Hh(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Zd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function tp(t){return t.outlet||Ah}function ep(t){return t.data||{}}function np(t){return t.resolve||{}}class rp{}class ip{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const op=new ut("ROUTES");class ap{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(q(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ph(Fh(r.injector.get(op)).map(Mh),r)}))}loadModuleFactory(t){return"string"==typeof t?W(this.loader.load(t)):Vh(t()).pipe(Q(t=>t instanceof tn?Hs(t):W(this.compiler.compileModuleAsync(t))))}}class sp{}class up{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function lp(t){throw t}function cp(t,e,n){return e.parse("/")}function hp(t,e){return Hs(null)}class dp{constructor(t,e,n,r,i,o,a,s){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.navigations=new xl(null),this.navigationId=0,this.events=new R,this.errorHandler=lp,this.malformedUriErrorHandler=cp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hp,afterPreactivation:hp},this.urlHandlingStrategy=new up,this.routeReuseStrategy=new ip,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Ze),this.resetConfig(s),this.currentUrlTree=new qh(new Hh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new ap(o,a,t=>this.triggerEvent(new vh(t)),t=>this.triggerEvent(new _h(t))),this.routerState=kd(this.currentUrlTree,this.rootComponentType),this.processNavigations()}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?{navigationId:t.state.navigationId}:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}triggerEvent(t){this.events.next(t)}resetConfig(t){Dh(t),this.config=t.map(Mh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:s}=e;Cn()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=s?this.currentUrlTree.fragment:i;let c=null;if(a)switch(a){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Md(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ld(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return jh(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ld(n,e,r)}(n);if(o.toRoot())return Md(e.root,new Hh([],{}),e,r,i);const a=function(t,n,r){if(t.isAbsolute)return new Fd(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Fd(r.snapshot._urlSegment,!0,0);const i=xd(t.commands[0])?0:1;return function(e,n,o){let a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;for(;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new Fd(a,!1,s-u)}()}(o,0,t),s=a.processChildren?Ud(a.segmentGroup,a.index,o.commands):jd(a.segmentGroup,a.index,o.commands);return Md(a.segmentGroup,s,e,r,i)}(u,this.currentUrlTree,t,c,l)}navigateByUrl(t,e={skipLocationChange:!1}){const n=t instanceof qh?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(t instanceof qh)return zh(this.currentUrlTree,t,e);const n=this.parseUrl(t);return zh(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})}processNavigations(){this.navigations.pipe(Ml(t=>t?(this.executeScheduledNavigation(t),t.promise.catch(()=>{})):Hs(null))).subscribe(()=>{})}scheduleNavigation(t,e,n,r){const i=this.navigations.value;if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,a=null;const s=new Promise((t,e)=>{o=t,a=e}),u=++this.navigationId;return this.navigations.next({id:u,source:e,state:n,rawUrl:t,extras:r,resolve:o,reject:a,promise:s}),s.catch(t=>Promise.reject(t))}executeScheduledNavigation({id:t,rawUrl:e,extras:n,resolve:r,reject:i,source:o,state:a}){const s=this.urlHandlingStrategy.extract(e),u=!this.navigated||s.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(e)?("eager"!==this.urlUpdateStrategy||n.skipLocationChange||this.setBrowserUrl(e,!!n.replaceUrl,t),this.events.next(new lh(t,this.serializeUrl(s),o,a)),Promise.resolve().then(r=>this.runNavigate(s,e,!!n.skipLocationChange,!!n.replaceUrl,t,null)).then(r,i)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new lh(t,this.serializeUrl(s),o,a)),Promise.resolve().then(n=>this.runNavigate(s,e,!1,!1,t,kd(s,this.rootComponentType).snapshot)).then(r,i)):(this.rawUrlTree=e,r(null))}runNavigate(t,e,n,r,i,o){return i!==this.navigationId?(this.events.next(new hh(i,this.serializeUrl(t),`Navigation ID ${i} is not equal to the current navigation id ${this.navigationId}`)),Promise.resolve(!1)):new Promise((a,s)=>{let u,l;const c=(u=o?Hs({appliedUrl:t,snapshot:o}):function(e,n,r,i,o){return new fd(e,n,r,t,o).apply()}(this.ngModule.injector,this.configLoader,this.urlSerializer,0,this.config).pipe(Q(e=>(function(t,e,n,r,i="emptyOnly",o="legacy"){return new $d(t,e,n,r,i,o).recognize()})(this.rootComponentType,this.config,e,this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution).pipe(q(n=>(this.events.next(new ph(i,this.serializeUrl(t),this.serializeUrl(e),n)),{appliedUrl:e,snapshot:n})))))).pipe(Q(o=>"boolean"==typeof o?Hs(o):this.hooks.beforePreactivation(o.snapshot,{navigationId:i,appliedUrlTree:t,rawUrlTree:e,skipLocationChange:n,replaceUrl:r}).pipe(q(()=>o)))).pipe(q(t=>{if("boolean"==typeof t)return t;const{appliedUrl:e,snapshot:n}=t;return(l=new Wd(n,this.routerState.snapshot,this.ngModule.injector,t=>this.triggerEvent(t))).initialize(this.rootContexts),{appliedUrl:e,snapshot:n}})).pipe(Q(e=>{if("boolean"==typeof e||this.navigationId!==i)return Hs(!1);const{appliedUrl:n,snapshot:r}=e;return this.triggerEvent(new fh(i,this.serializeUrl(t),this.serializeUrl(n),r)),l.checkGuards().pipe(q(e=>(this.triggerEvent(new gh(i,this.serializeUrl(t),this.serializeUrl(n),r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e})))})).pipe(Q(e=>"boolean"==typeof e||this.navigationId!==i?Hs(!1):e.shouldActivate&&l.isActivating()?(this.triggerEvent(new yh(i,this.serializeUrl(t),this.serializeUrl(e.appliedUrl),e.snapshot)),l.resolveData(this.paramsInheritanceStrategy).pipe(q(()=>(this.triggerEvent(new mh(i,this.serializeUrl(t),this.serializeUrl(e.appliedUrl),e.snapshot)),e)))):Hs(e))).pipe(Q(o=>"boolean"==typeof o||this.navigationId!==i?Hs(!1):this.hooks.afterPreactivation(o.snapshot,{navigationId:i,appliedUrlTree:t,rawUrlTree:e,skipLocationChange:n,replaceUrl:r}).pipe(q(()=>o)))).pipe(q(t=>{if("boolean"==typeof t||this.navigationId!==i)return!1;const{appliedUrl:e,snapshot:n,shouldActivate:r}=t;return r?{appliedUrl:e,state:function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Cd(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=function(t){return new Ad(new xl(t.url),new xl(t.params),new xl(t.queryParams),new xl(t.fragment),new xl(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(n=>t(e,n));return new Cd(r,i)}}}(t,e._root,n?n._root:void 0);return new Sd(r,e)}(this.routeReuseStrategy,n,this.routerState),shouldActivate:r}:{appliedUrl:e,state:null,shouldActivate:r}}));this.activateRoutes(c,this.routerState,this.currentUrlTree,i,t,e,n,r,a,s)})}activateRoutes(t,e,n,r,i,o,a,s,u,l){let c;t.forEach(t=>{if("boolean"==typeof t||!t.shouldActivate||r!==this.navigationId||!t.state)return void(c=!1);const{appliedUrl:n,state:i}=t;this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o),this.routerState=i,"deferred"!==this.urlUpdateStrategy||a||this.setBrowserUrl(this.rawUrlTree,s,r),new pp(this.routeReuseStrategy,i,e,t=>this.triggerEvent(t)).activate(this.rootContexts),c=!0}).then(()=>{c?(this.navigated=!0,this.lastSuccessfulId=r,this.events.next(new ch(r,this.serializeUrl(i),this.serializeUrl(this.currentUrlTree))),u(!0)):(this.resetUrlToCurrentUrlTree(),this.events.next(new hh(r,this.serializeUrl(i),"")),u(!1))},t=>{if(t&&t[Rh])this.navigated=!0,this.resetStateAndUrl(e,n,o),this.events.next(new hh(r,this.serializeUrl(i),t.message)),u(!1);else{this.resetStateAndUrl(e,n,o),this.events.next(new dh(r,this.serializeUrl(i),t));try{u(this.errorHandler(t))}catch(t){l(t)}}})}setBrowserUrl(t,e,n){const r=this.urlSerializer.serialize(t);this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",{navigationId:n}):this.location.go(r,"",{navigationId:n})}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class pp{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Dd(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Ed(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),jh(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Ed(t),i=t.value.component?n.children:e;jh(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Ed(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Eh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new wh(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Dd(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),fp(t.route)}else{const n=function(t){for(let e=r.snapshot.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),i=n?n.module.componentFactoryResolver:null;e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function fp(t){Dd(t.value),t.children.forEach(fp)}class gp{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof ch&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Cn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:yp(this.skipLocationChange),replaceUrl:yp(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:yp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:yp(this.preserveFragment)})}}function yp(t){return""===t||!!t}class mp{constructor(t,e,n,r){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof ch&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))}}class vp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _p,this.attachRef=null}}class _p{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new vp,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class bp{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new sn,this.deactivateEvents=new sn,this.name=r||Ah,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new wp(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class wp{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ad?this.route:t===_p?this.childContexts:this.parent.get(t,e)}}class Cp{}class Ep{preload(t,e){return e().pipe(Kl(()=>Hs(null)))}}class Sp{preload(t,e){return Hs(null)}}class kp{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ap(e,n,e=>t.triggerEvent(new vh(e)),e=>t.triggerEvent(new _h(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(gl(t=>t instanceof ch),Ml(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Ze);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return W(n).pipe(J(),q(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class Ap{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={}}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof lh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ch&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Sh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Sh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Tp=new ut("ROUTER_CONFIGURATION"),Ip=new ut("ROUTER_FORROOT_GUARD"),Rp=[Js,{provide:Qh,useClass:$h},{provide:dp,useFactory:Lp,deps:[In,Qh,_p,Js,Bt,xn,He,op,Tp,[sp,new Pt],[rp,new Pt]]},_p,{provide:Ad,useFactory:Fp,deps:[dp]},{provide:xn,useClass:Un},kp,Sp,Ep,{provide:Tp,useValue:{enableTracing:!1}}];function Op(){return new En("Router",dp)}class Pp{constructor(t,e){}static forRoot(t,e){return{ngModule:Pp,providers:[Rp,Mp(t),{provide:Ip,useFactory:xp,deps:[[dp,new Pt,new Nt]]},{provide:Tp,useValue:e||{}},{provide:Ys,useFactory:Np,deps:[Qs,[new Ot(Xs),new Pt],Tp]},{provide:Ap,useFactory:Dp,deps:[dp,ul,Tp]},{provide:Cp,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Sp},{provide:En,multi:!0,useFactory:Op},[Bp,{provide:xe,multi:!0,useFactory:jp,deps:[Bp]},{provide:Vp,useFactory:Up,deps:[Bp]},{provide:Ve,multi:!0,useExisting:Vp}]]}}static forChild(t){return{ngModule:Pp,providers:[Mp(t)]}}}function Dp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ap(t,e,n)}function Np(t,e,n={}){return n.useHash?new tu(t,e):new eu(t,e)}function xp(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Mp(t){return[{provide:ht,multi:!0,useValue:t},{provide:op,multi:!0,useValue:t}]}function Lp(t,e,n,r,i,o,a,s,u={},l,c){const h=new dp(null,e,n,r,i,o,a,Fh(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=Xl();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Fp(t){return t.routerState.root}class Bp{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new R}appInitializer(){return this.injector.get($s,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(dp),r=this.injector.get(Tp);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=(()=>this.initNavigation?Hs(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone)),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Tp),n=this.injector.get(kp),r=this.injector.get(Ap),i=this.injector.get(dp),o=this.injector.get(In);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function jp(t){return t.appInitializer.bind(t)}function Up(t){return t.bootstrapListener.bind(t)}const Vp=new ut("Router Initializer");class zp{constructor(t,e){this.auth=t,this.router=e}canActivate(t,e){return this.auth.authState.pipe(Fs(1),q(t=>!!t),Us(t=>{t||this.router.navigate(["/login"])}))}}function qp(t){return void 0===t||null===t}function Hp(t){return"function"==typeof t.set}function Gp(t,e){return Hp(e)?e:t.ref(e)}function Kp(t,e){if("string"==typeof t)return e.stringCase();if(Hp(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}zp.ngInjectableDef=st({factory:function(){return new zp(ne(Pl),ne(dp))},token:zp,providedIn:"root"});const Wp=new dl(cl);class Qp{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Hs(this.value);case"E":return function(t,e){return new S(e=>e.error(t))}(this.error);case"C":return Ls()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new Qp("N",t):Qp.undefinedValueNotification}static createError(t){return new Qp("E",void 0,t)}static createComplete(){return Qp.completeNotification}}function $p(t,e=Wp){const n=t instanceof Date&&!isNaN(+t)?+t-e.now():Math.abs(t);return t=>t.lift(new Yp(n,e))}Qp.completeNotification=new Qp("C"),Qp.undefinedValueNotification=new Qp("N",void 0);class Yp{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Xp(t,this.delay,this.scheduler))}}class Xp extends v{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.add(t.schedule(Xp.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new Jp(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Qp.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t)}_complete(){this.scheduleNotification(Qp.createComplete())}}class Jp{constructor(t,e){this.time=t,this.notification=e}}function Zp(t,e,n="on"){return new S(r=>{const i=t[n](e,(t,e)=>{r.next({snapshot:t,prevKey:e}),"once"==n&&r.complete()},r.error.bind(r));return"on"==n?{unsubscribe(){t.off(e,i)}}:{unsubscribe(){}}}).pipe(q(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),$p(0),at())}class tf{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ef(t,this.compare,this.keySelector))}}class ef extends v{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e=t;if(this.keySelector&&(e=p(this.keySelector)(t))===c)return this.destination.error(c.e);let n=!1;if(this.hasKey){if((n=p(this.compare)(this.key,e))===c)return this.destination.error(c.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))}}function nf(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function rf(t,e){const{payload:n,type:r,prevKey:i,key:o}=e,a=nf(t,o),s=function(t,e){if(qp(e))return 0;{const n=nf(t,e);return-1===n?t.length:n+1}}(t,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(a>-1){const r=t[a-1];(r&&r.key||null)!=i&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==i)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===o?e:t);case"child_moved":if(a>-1){const e=t.splice(a,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function of(t){return(qp(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function af(t,e){return function(t,e){return Zp(t,"value","once").pipe(Gs(n=>{const r=[Hs(n)];return e.forEach(e=>r.push(Zp(t,e))),Z(...r).pipe(ql(rf,[]))}),t=>t.lift(new tf(void 0,void 0)))}(t,e=of(e))}function sf(t,e){return Z(...(e=of(e)).map(e=>Zp(t,e)))}class uf{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new lf(t,this.observables,this.project))}}class lf extends z{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(V(this,t,t,i))}}notifyNext(t,e,n,r,i){this.values[n]=e;const o=this.toRespond;if(o.length>0){const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}class cf{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new hf(t,this.predicate))}}class hf extends v{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}}}function df(t,e){return function(n,r){return Kp(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function pf(t){return function(){return Zp(t,"value")}}class ff{constructor(t,e,n,r,i){this.scheduler=new Sl(i,r),this.database=i.runOutsideAngular(()=>Rl(t,e).database(n||void 0))}list(t,e){const n=Gp(this.database,t);let r=n;return e&&(r=e(n)),function(t,e){return{query:t,update:df(t.ref,"update"),set:df(t.ref,"set"),push:e=>t.ref.push(e),remove:function(t){return function(e){return e?Kp(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}(t.ref),snapshotChanges(n){const r=af(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},stateChanges(n){const r=sf(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},auditTrail(n){const r=function(t,e){return function(t,e){return function(t){return Zp(t,"value").pipe(q(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new uf(t,n))}}(e),q(([t,e])=>({actions:e,lastKeyToLoad:t.lastKeyToLoad,loadedKeys:e.map(t=>t.key)})),function(t){return e=>e.lift(new cf(t))}(t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad)),q(t=>t.actions))}(t,sf(t,e).pipe(ql((t,e)=>[...t,e],[])))}(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},valueChanges(n){const r=af(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r)).pipe(q(t=>t.map(t=>t.payload.val())))}}}(r,this)}object(t){return function(t,e){return{query:t,snapshotChanges(){const n=pf(t)();return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(n))},update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges(){const n=pf(t)();return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(n)).pipe(q(t=>t.payload.exists()?t.payload.val():null))}}}(Gp(this.database,t),this)}createPushId(){return this.database.ref().push().key}}function gf(t){const e=function(t){return new S(e=>(t.on("state_changed",t=>e.next(t),t=>e.error(t),()=>e.complete()),()=>t.cancel()))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(q(t=>t.bytesTransferred/t.totalBytes*100))}}function yf(t,e){return{getDownloadURL:()=>e.keepUnstableUntilFirst(e.runOutsideAngular(W(t.getDownloadURL()))),getMetadata:()=>e.keepUnstableUntilFirst(e.runOutsideAngular(W(t.getMetadata()))),delete:()=>W(t.delete()),child:n=>yf(t.child(n),e),updateMetatdata:e=>W(t.updateMetadata(e)),put:(e,n)=>gf(t.put(e,n)),putString:(e,n,r)=>gf(t.putString(e,n,r))}}n("NSPt");const mf=new ut("angularfire2.storageBucket");class vf{constructor(t,e,n,r,i){this.scheduler=new Sl(i,r),this.storage=i.runOutsideAngular(()=>Rl(t,e).storage(n||void 0))}ref(t){return yf(this.storage.ref(t),this.scheduler)}upload(t,e,n){return yf(this.storage.ref(t),this.scheduler).put(e,n)}}var _f="https://firebasestorage.googleapis.com",bf="https://firebasestorage.googleapis.com",wf="/v0",Cf="/v0",Ef=12e4,Sf=6e4,kf=-9007199254740991,Af=function(){function t(t,e){this.code_=If(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return If(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),Tf={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function If(t){return"storage/"+t}function Rf(){return new Af(Tf.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Of(){return new Af(Tf.CANCELED,"User canceled the upload/download.")}function Pf(){return new Af(Tf.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Df(t,e,n){return new Af(Tf.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function Nf(){return new Af(Tf.APP_DELETED,"The Firebase app was deleted.")}function xf(t,e){return new Af(Tf.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mf(t){throw new Af(Tf.INTERNAL_ERROR,"Internal error: "+t)}var Lf={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function Ff(t){switch(t){case Lf.RAW:case Lf.BASE64:case Lf.BASE64URL:case Lf.DATA_URL:return;default:throw"Expected one of the event types: ["+Lf.RAW+", "+Lf.BASE64+", "+Lf.BASE64URL+", "+Lf.DATA_URL+"]."}}var Bf=function(t,e){this.data=t,this.contentType=e||null};function jf(t,e){switch(t){case Lf.RAW:return new Bf(Uf(e));case Lf.BASE64:case Lf.BASE64URL:return new Bf(Vf(t,e));case Lf.DATA_URL:return new Bf(function(t){var e=new zf(t);return e.base64?Vf(Lf.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw xf(Lf.DATA_URL,"Malformed data URL.")}return Uf(e)}(e.rest)}(e),function(t){return new zf(t).contentType}(e))}throw Rf()}function Uf(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Vf(t,e){switch(t){case Lf.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw xf(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Lf.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw xf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw xf(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var zf=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw xf(Lf.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=function(t,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(0,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}}(),qf={STATE_CHANGED:"state_changed"},Hf={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Gf={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Kf(t){switch(t){case Hf.RUNNING:case Hf.PAUSING:case Hf.CANCELING:return Gf.RUNNING;case Hf.PAUSED:return Gf.PAUSED;case Hf.SUCCESS:return Gf.SUCCESS;case Hf.CANCELED:return Gf.CANCELED;case Hf.ERROR:default:return Gf.ERROR}}function Wf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qf(t,e){for(var n in t)Wf(t,n)&&e(n,t[n])}function $f(t){if(null==t)return{};var e={};return Qf(t,function(t,n){e[t]=n}),e}function Yf(t){return new Promise(t)}function Xf(t){return Promise.resolve(t)}function Jf(t){return null!=t}function Zf(t){return void 0!==t}function tg(t){return"function"==typeof t}function eg(t){return"object"==typeof t}function ng(t){return eg(t)&&null!==t}function rg(t){return"string"==typeof t||t instanceof String}function ig(t){return og()&&t instanceof Blob}function og(){return"undefined"!=typeof Blob}var ag=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),sg=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ag.NO_ERROR,this.sendPromise_=Yf(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=ag.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=ag.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,r){var i=this;if(this.sent_)throw Mf("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(e,t,!0),Jf(r)&&Qf(r,function(t,e){i.xhr_.setRequestHeader(t,e.toString())}),Jf(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Mf("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Mf("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Mf("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){Jf(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){Jf(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),ug=function(){function t(){}return t.prototype.createXhrIo=function(){return new sg},t}();function lg(t){var e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return eg(t)&&!Array.isArray(t)}(e)?e:null}var cg=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new Af(Tf.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,r=[{regex:new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],i=0;i<r.length;i++){var o=r[i],a=o.regex.exec(e);if(a){var s=a[o.indices.path];s||(s=""),n=new t(a[o.indices.bucket],s),o.postModify(n);break}}if(null==n)throw function(t){return new Af(Tf.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function hg(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function dg(t){return _f+wf+t}function pg(t){return _f+Cf+t}function fg(t){var e=encodeURIComponent,n="?";return Qf(t,function(t,r){var i=e(t)+"="+e(r);n=n+i+"&"}),n=n.slice(0,-1)}function gg(t,e){return e}var yg=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||gg}}(),mg=null;function vg(t,e,n){var r=lg(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new cg(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function _g(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function bg(t){if(!t||!eg(t))throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if(!eg(n))throw"Expected object for 'customMetadata' mapping."}else if(ng(n))throw"Mapping for '"+e+"' cannot be an object."}}function wg(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw function(e,o,a,s){var u,l;return r===i?(u=r,l=1===r?"argument":"arguments"):(u="between "+r+" and "+i,l="arguments"),new Af(Tf.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+u+" "+l+", received "+n.length+".")}();for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?Df(o,t,e.message):Df(o,t,e)}}var Cg=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!Zf(e)||t(e)},this.optional=!!e}}();function Eg(t,e){function n(t){if(!rg(t))throw"Expected string."}var r;return r=t?function(t,e){return function(n){t(n),e(n)}}(n,t):n,new Cg(r,e)}function Sg(t){return new Cg(bg,t)}function kg(){return new Cg(function(t){if(!(function(t){return"number"==typeof t||t instanceof Number}(t)&&t>=0))throw"Expected a number 0 or greater."})}function Ag(t,e){return new Cg(function(e){if(!(null===e||Jf(e)&&e instanceof Object))throw"Expected an Object.";void 0!==t&&null!==t&&t(e)},e)}function Tg(t){return new Cg(function(t){if(null!==t&&!tg(t))throw"Expected a Function."},t)}function Ig(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var Rg=function(){function t(t,e){var n=0,r="";ig(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(ig(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(og()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ig();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(og())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}).apply(null,r))}var i=e.map(function(t){return rg(t)?jf(Lf.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function Og(t,e){return-1!==t.indexOf(e)}var Pg=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Dg(t){if(!t)throw Rf()}function Ng(t,e){return function(n,r){var i=vg(t,r,e);return Dg(null!==i),i}}function xg(t){return function(e,n){var r;return(r=401===e.getStatus()?new Af(Tf.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Af(Tf.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Af(Tf.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function Mg(t){var e=xg(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Af(Tf.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function Lg(t,e,n){var r=dg(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new Pg(r,"GET",Ng(t,n),i);return o.errorHandler=Mg(e),o}function Fg(t,e,n){var r=$f(n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Bg=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function jg(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){Dg(!1)}return Dg(Og(e||["active"],n)),n}var Ug=function(){return function(t,e,n){if(tg(t)||Jf(e)||Jf(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}();function Vg(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Xf(!0).then(function(){t.apply(null,e)})}}var zg=function(){function t(t,e,n,r,i,o){void 0===o&&(o=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=Hf.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(Tf.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(Hf.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(Tf.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(Hf.ERROR))},this.promise_=Yf(function(t,e){a.resolve_=t,a.reject_=e,a.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,r){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===Hf.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case Hf.RUNNING:t(n);break;case Hf.CANCELING:e.transition_(Hf.CANCELED);break;case Hf.PAUSING:e.transition_(Hf.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=Fg(e,r,i),s={name:a.fullPath},u=pg(o),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=_g(a,n),h=t.maxUploadRetryTime(),d=new Pg(u,"POST",function(t,e){var n;jg(t);try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){Dg(!1)}return Dg(rg(n)),n},h);return d.urlParams=s,d.headers=l,d.body=c,d.errorHandler=xg(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=function(e,n,r,i){var o=t.authWrapper_.maxUploadRetryTime(),a=new Pg(r,"POST",function(t,e){var n,r=jg(t,["active","final"]);try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Dg(!1)}var o=parseInt(n,10);return Dg(!isNaN(o)),new Bg(o,i.size(),"final"===r)},o);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=xg(n),a}(0,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new Bg(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=function(t,e,n,r,i,o,a,s){var u=new Bg(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Af(Tf.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var h=u.current,d={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,h+c);if(null===p)throw Pf();var f=e.maxUploadRetryTime(),g=new Pg(n,"POST",function(t,n){var i,a=jg(t,["active","final"]),s=u.current+c,l=r.size();return i="final"===a?Ng(e,o)(t,n):null,new Bg(s,l,"final"===a,i)},f);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=xg(t),g}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(Hf.ERROR)}var a=t.authWrapper_.makeRequest(o,i);t.request_=a,a.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(Hf.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=Lg(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(Hf.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=Fg(e,r,i),l=_g(u,n),c=Rg.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===c)throw Pf();var h={name:u.fullPath},d=pg(o),p=t.maxUploadRetryTime(),f=new Pg(d,"POST",Ng(t,n),p);return f.urlParams=h,f.headers=a,f.body=c.uploadData(),f.errorHandler=xg(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(Hf.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case Hf.CANCELING:case Hf.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case Hf.RUNNING:var e=this.state_===Hf.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case Hf.PAUSED:this.state_=t,this.notifyObservers_();break;case Hf.CANCELED:this.error_=Of(),this.state_=t,this.notifyObservers_();break;case Hf.ERROR:case Hf.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case Hf.PAUSING:this.transition_(Hf.PAUSED);break;case Hf.CANCELING:this.transition_(Hf.CANCELED);break;case Hf.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Kf(this.state_);return new function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var i="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=Tg(!0).validator,a=Ag(null,!0).validator;function s(t){try{return void o(t)}catch(t){}try{if(a(t),!(Zf(t.next)||Zf(t.error)||Zf(t.complete)))throw"";return}catch(t){throw i}}wg("on",[Eg(function(e){if(t!==qf.STATE_CHANGED)throw"Expected one of the event types: ["+qf.STATE_CHANGED+"]."}),Ag(s,!0),Tg(!0),Tg(!0)],arguments);var u=this;function l(t){return function(e,n,i){null!==t&&wg("on",t,arguments);var o=new Ug(e,n,r);return u.addObserver_(o),function(){u.removeObserver_(o)}}}var c=[Ag(function(t){if(null===t)throw i;s(t)}),Tg(!0),Tg(!0)];return Zf(e)||Zf(n)||Zf(r)?l(null)(e,n,r):l(c)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){!function(e,n){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}(this.observers_)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),function(t){return Array.prototype.slice.call(t)}(this.observers_).forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Kf(this.state_)){case Gf.SUCCESS:Vg(this.resolve_.bind(null,this.snapshot))();break;case Gf.CANCELED:case Gf.ERROR:Vg(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(Kf(this.state_)){case Gf.RUNNING:case Gf.PAUSED:null!==t.next&&Vg(t.next.bind(t,this.snapshot))();break;case Gf.SUCCESS:null!==t.complete&&Vg(t.complete.bind(t))();break;case Gf.CANCELED:case Gf.ERROR:null!==t.error&&Vg(t.error.bind(t,this.error_))();break;default:null!==t.error&&Vg(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){wg("resume",[],arguments);var t=this.state_===Hf.PAUSED||this.state_===Hf.PAUSING;return t&&this.transition_(Hf.RUNNING),t},t.prototype.pause=function(){wg("pause",[],arguments);var t=this.state_===Hf.RUNNING;return t&&this.transition_(Hf.PAUSING),t},t.prototype.cancel=function(){wg("cancel",[],arguments);var t=this.state_===Hf.RUNNING||this.state_===Hf.PAUSING;return t&&this.transition_(Hf.CANCELING),t},t}(),qg=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof cg?e:cg.makeFromUrl(e)}return t.prototype.toString=function(){return wg("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(mg)return mg;var t=[];t.push(new yg("bucket")),t.push(new yg("generation")),t.push(new yg("metageneration")),t.push(new yg("name","fullPath",!0));var e=new yg("name");e.xform=function(t,e){return function(t){return!rg(t)||t.length<2?t:hg(t=t)}(e)},t.push(e);var n=new yg("size");return n.xform=function(t,e){return Jf(e)?+e:e},t.push(n),t.push(new yg("timeCreated")),t.push(new yg("updated")),t.push(new yg("md5Hash",null,!0)),t.push(new yg("cacheControl",null,!0)),t.push(new yg("contentDisposition",null,!0)),t.push(new yg("contentEncoding",null,!0)),t.push(new yg("contentLanguage",null,!0)),t.push(new yg("contentType",null,!0)),t.push(new yg("metadata","customMetadata",!0)),mg=t}()},t.prototype.child=function(t){wg("child",[Eg()],arguments);var e=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(this.location.path,t),n=new cg(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new cg(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new cg(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return hg(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),wg("put",[new Cg(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||og()&&t instanceof Blob))throw"Expected Blob or File."}),Sg(!0)],arguments),this.throwIfRoot_("put"),new zg(this,this.authWrapper,this.location,this.mappings(),new Rg(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Lf.RAW),wg("putString",[Eg(),Eg(Ff,!0),Sg(!0)],arguments),this.throwIfRoot_("putString");var r=jf(e,t),i=$f(n);return!Jf(i.contentType)&&Jf(r.contentType)&&(i.contentType=r.contentType),new zg(this,this.authWrapper,this.location,this.mappings(),new Rg(r.data,!0),i)},t.prototype.delete=function(){wg("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e){var n=dg(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new Pg(n,"DELETE",function(t,e){},r);return i.successCodes=[200,204],i.errorHandler=Mg(e),i}(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.getMetadata=function(){wg("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=Lg(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){wg("updateMetadata",[Sg()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=function(t,e,n,r){var i=dg(e.fullServerUrl()),o=_g(n,r),a=t.maxOperationRetryTime(),s=new Pg(i,"PATCH",Ng(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Mg(e),s}(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){wg("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e,n){var r=dg(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new Pg(r,"GET",function(t,e){return function(n,r){var i=vg(t,r,e);return Dg(null!==i),function(t,e){var n=lg(r);if(null===n)return null;if(!rg(n.downloadTokens))return null;var i=n.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var n=t.fullPath;return function(t){return bf+wf+t}("/b/"+o(t.bucket)+"/o/"+o(n))+fg({alt:"media",token:e})})[0]}(i)}}(t,n),i);return o.errorHandler=Mg(e),o}(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new Af(Tf.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new Af(Tf.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Hg=function(){function t(t){this.promise_=function(t){return Promise.reject(t)}(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),Gg=function(){function t(){this.map_={},this.id_=kf}return t.prototype.addRequest=function(t){var e=this.id_;this.id_++,this.map_[e]=t;var n=this;function r(){delete n.map_[e]}t.getPromise().then(r,r)},t.prototype.clear=function(){Qf(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),Kg=function(){function t(e,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;Jf(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=Ef,this.maxUploadRetryTime_=Sf,this.requestMap_=new Gg}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:cg.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&Jf(this.app_.INTERNAL)&&Jf(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):Xf(null)},t.prototype.bucket=function(){if(this.deleted_)throw Nf();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Hg(Nf());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),Wg=function(){function t(t,e,n,r,i,o,a,s,u,l,c){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=l,this.timeout_=u,this.pool_=c;var h=this;this.promise_=Yf(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());Zf(s)?i(s):i()}catch(t){o(t)}else null!==a?((r=Rf()).setServerResponseProp(a.getResponseText()),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?Nf():Of():new Af(Tf.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Qg(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function l(){u||(u=!0,e.apply(null,arguments))}function c(e){i=setTimeout(function(){i=null,t(h,s())},e)}function h(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(t?l.apply(null,arguments):s()||o?l.apply(null,arguments):(r<64&&(r*=2),1===a?(a=2,e=0):e=1e3*(r+Math.random()),c(e)))}var d=!1;function p(t){d||(d=!0,u||(null!==i?(t||(a=2),clearTimeout(i),c(0)):t||(a=1)))}return c(0),setTimeout(function(){o=!0,p(!0)},n),p}(function(e,n){if(n)e(!1,new Qg(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===ag.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=Og(t.successCodes_,o);e(!0,new Qg(a,n))}else{var s=n.getErrorCode()===ag.ABORT;e(!1,new Qg(!1,null,s))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=Og([408,429],t),r=Og(this.additionalRetryCodes_,t);return e||n||r},t}(),Qg=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function $g(t,e,n){var r=fg(t.urlParams),i=t.url+r,o=$f(t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,e),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Nl.a?Nl.a.SDK_VERSION:"AppManager")}(o),new Wg(i,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var Yg=function(){function t(t,e,n){if(this.bucket_=null,this.authWrapper_=new Kg(t,function(t,e){return new qg(t,e)},$g,this,e),this.app_=t,null!=n)this.bucket_=cg.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new cg(r,""))}this.internals_=new Xg(this)}return t.prototype.ref=function(t){if(wg("ref",[Eg(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new qg(this.authWrapper_,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){return wg("refFromURL",[Eg(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{cg.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new qg(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){wg("setMaxUploadRetryTime",[kg()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){wg("setMaxOperationRetryTime",[kg()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Xg=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Xf(void 0)},t}();Nl.a.INTERNAL.registerService("storage",function(t,e,n){return new Yg(t,new ug,n)},{TaskState:Gf,TaskEvent:qf,StringFormat:Lf,Storage:Yg,Reference:qg},void 0,!0);class Jg{}class Zg{constructor(t,e){this.afStorage=t,this.db=e,this.empList=e.list("employees")}getEmployees(){return this.empList}getEmployee(t){return this.db.object("employees/"+t).snapshotChanges()}addEmployee(t){this.empList.push(t)}updateEmployee(t){this.empList.update(t.$key,{firstName:t.firstName,lastName:t.lastName,email:t.email,country:t.country,city:t.city,phone:t.phone,salary:t.salary,image:t.image})}updateEmployeeWithDelete(t,e){this.empList.set(t.$key,{firstName:t.firstName,lastName:t.lastName,email:t.email,country:t.country,city:t.city,phone:t.phone,salary:t.salary,image:t.image}).then(()=>{e&&this.deleteImage(e)})}deleteEmployee(t,e){this.empList.remove(t),e&&this.deleteImage(e)}deleteImage(t){kl.storage().ref().storage.refFromURL(t).delete()}}Zg.ngInjectableDef=st({factory:function(){return new Zg(ne(vf),ne(ff))},token:Zg,providedIn:"root"});class ty{constructor(t){this.call=t}ngOnInit(){}}class ey{constructor(t,e){this._EmployeeService=t,this._route=e,this.employee={}}ngOnInit(){this.id=this._route.snapshot.params.id,this._EmployeeService.getEmployee(this.id).subscribe(t=>{let e=t.payload.val();this.employee.$key=t.key,e&&(this.employee.firstName=e.firstName,this.employee.lastName=e.lastName,this.employee.email=e.email,this.employee.country=e.country,this.employee.city=e.city,this.employee.phone=e.phone,this.employee.salary=e.salary,this.employee.image=e.image?e.image:"")})}show(){console.log(this.employee)}}function ny(t){return e=>e.lift(new ry(t))}class ry{constructor(t){this.callback=t}call(t,e){return e.subscribe(new iy(t,this.callback))}}class iy extends v{constructor(t,e){super(t),this.add(new g(e))}}class oy extends z{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let r=0;r<n;r++){const t=V(this,e[r],null,r);t&&this.add(t)}}notifyNext(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:r}=this,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}class ay{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class sy extends ay{get formDirective(){return null}get path(){return null}}function uy(t){return null==t||0===t.length}const ly=new ut("NgValidators"),cy=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class hy{static min(t){return e=>{if(uy(e.value)||uy(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(uy(e.value)||uy(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return uy(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return uy(t.value)?null:cy.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(uy(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return hy.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(uy(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(dy);return 0==e.length?null:function(t){return fy(function(t,n){return e.map(e=>e(t))}(t))}}static composeAsync(t){if(!t)return null;const e=t.filter(dy);return 0==e.length?null:function(t){return function t(...e){let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),0===e.length?Ms:n?t(e).pipe(q(t=>n(...t))):new S(t=>new oy(t,e))}(function(t,n){return e.map(e=>e(t))}(t).map(py)).pipe(q(fy))}}}function dy(t){return null!=t}function py(t){const e=De(t)?W(t):t;if(!Ne(e))throw new Error("Expected validator to return Promise or Observable.");return e}function fy(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}const gy=new ut("NgValueAccessor"),yy=new ut("CompositionEventMode");class my{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Xl()?Xl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}function vy(t){return t.validate?e=>t.validate(e):t}function _y(t){return t.validate?e=>t.validate(e):t}class by{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}function wy(){throw new Error("unimplemented")}class Cy extends ay{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return wy()}get asyncValidator(){return wy()}}class Ey{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const Sy={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class ky{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Sy.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Sy.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Sy.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Sy.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Sy.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${Sy.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function Ay(t,e){return[...e.path,t]}function Ty(t,e){t||Py(e,"Cannot find control with"),e.valueAccessor||Py(e,"No value accessor for form control with"),t.validator=hy.compose([t.validator,e.validator]),t.asyncValidator=hy.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Iy(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Iy(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Iy(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ry(t,e){null==t&&Py(e,"Cannot find control with"),t.validator=hy.compose([t.validator,e.validator]),t.asyncValidator=hy.composeAsync([t.asyncValidator,e.asyncValidator])}function Oy(t){return Py(t,"There is no FormControl instance attached to form control element with")}function Py(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Dy(t){return null!=t?hy.compose(t.map(vy)):null}function Ny(t){return null!=t?hy.composeAsync(t.map(_y)):null}function xy(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!wt(e,n.currentValue)}const My=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},by,class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=wt}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=(e=>{this.value=this._getOptionValue(e),t(this.value)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=wt}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=((t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)})}else e=((t,e)=>{t._setSelected(!1)});this._optionMap.forEach(e)}registerOnChange(t){this.onChange=(e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=(()=>{}),this.onTouched=(()=>{})}ngOnInit(){this._control=this._injector.get(Cy),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=(()=>{t(this.value),this._registry.select(this)})}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function Ly(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Fy(t,e){if(!e)return null;Array.isArray(e)||Py(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===my?n=e:function(t){return My.some(e=>t.constructor===e)}(e)?(r&&Py(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Py(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(Py(t,"No valid value accessor for form control with"),null)}function By(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function jy(t,e,n,r){Cn()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(ky.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}class Uy extends sy{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ay(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Dy(this._validators)}get asyncValidator(){return Ny(this._asyncValidators)}_checkParentType(){}}class Vy{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class zy extends Vy{constructor(t){super(t)}}class qy extends Vy{constructor(t){super(t)}}const Hy="VALID",Gy="INVALID",Ky="PENDING",Wy="DISABLED";function Qy(t){const e=Yy(t)?t.validators:t;return Array.isArray(e)?Dy(e):e||null}function $y(t,e){const n=Yy(e)?e.asyncValidators:t;return Array.isArray(n)?Ny(n):n||null}function Yy(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Xy{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=(()=>{}),this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Hy}get invalid(){return this.status===Gy}get pending(){return this.status==Ky}get disabled(){return this.status===Wy}get enabled(){return this.status!==Wy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Qy(t)}setAsyncValidators(t){this.asyncValidator=$y(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ky,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){this.status=Wy,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){this.status=Hy,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Hy&&this.status!==Ky||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wy:Hy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ky;const e=py(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof Zy?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof tm&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new sn,this.statusChanges=new sn}_calculateStatus(){return this._allControlsDisabled()?Wy:this.errors?Gy:this._anyControlsHaveStatus(Ky)?Ky:this._anyControlsHaveStatus(Gy)?Gy:Hy}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Yy(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}}class Jy extends Xy{constructor(t=null,e,n){super(Qy(e),$y(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=(()=>{})}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Zy extends Xy{constructor(t,e,n){super(Qy(e),$y(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Jy?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class tm extends Xy{constructor(t,e,n){super(Qy(e),$y(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)}getRawValue(){return this.controls.map(t=>t instanceof Jy?t.value:t.getRawValue())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const em=Promise.resolve(null);class nm extends sy{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new sn,this.form=new Zy({},Dy(t),Ny(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){em.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Ty(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){em.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),By(this._directives,t)})}addFormGroup(t){em.then(()=>{const e=this._findContainer(t.path),n=new Zy({});Ry(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){em.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){em.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Ly(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class rm{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Sy.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${Sy.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Sy.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Sy.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Sy.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Sy.ngModelGroup}`)}}class im extends Uy{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof im||this._parent instanceof nm||rm.modelGroupParentException()}}const om=Promise.resolve(null);class am extends Cy{constructor(t,e,n,r){super(),this.control=new Jy,this._registered=!1,this.update=new sn,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Fy(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),xy(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Ay(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Dy(this._rawValidators)}get asyncValidator(){return Ny(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ty(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof im)&&this._parent instanceof Uy?rm.formGroupNameException():this._parent instanceof im||this._parent instanceof nm||rm.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||rm.missingNameException()}_updateValue(t){om.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;om.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}const sm=new ut("NgModelWithFormControlWarning");class um extends Cy{constructor(t,e,n,r){super(),this._ngModelWarningConfig=r,this.update=new sn,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=Fy(this,n)}set isDisabled(t){ky.disabledAttrWarning()}ngOnChanges(t){this._isControlChanged(t)&&(Ty(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),xy(t,this.viewModel)&&(jy("formControl",um,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return Dy(this._rawValidators)}get asyncValidator(){return Ny(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}um._ngModelWarningSentOnce=!1;class lm extends sy{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new sn}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Ty(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){By(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Ry(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Ry(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Ly(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Oy(e)),e.valueAccessor.registerOnTouched(()=>Oy(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Ty(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Dy(this._validators);this.form.validator=hy.compose([this.form.validator,t]);const e=Ny(this._asyncValidators);this.form.asyncValidator=hy.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||ky.missingFormException()}}class cm extends Uy{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){dm(this._parent)&&ky.groupParentException()}}class hm extends sy{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ay(this.name,this._parent)}get validator(){return Dy(this._validators)}get asyncValidator(){return Ny(this._asyncValidators)}_checkParentType(){dm(this._parent)&&ky.arrayParentException()}}function dm(t){return!(t instanceof cm||t instanceof lm||t instanceof hm)}class pm extends Cy{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new sn,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Fy(this,r)}set isDisabled(t){ky.disabledAttrWarning()}ngOnChanges(t){this._added||this._setUpControl(),xy(t,this.viewModel)&&(jy("formControlName",pm,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ay(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Dy(this._rawValidators)}get asyncValidator(){return Ny(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof cm)&&this._parent instanceof Uy?ky.ngModelGroupException():this._parent instanceof cm||this._parent instanceof lm||this._parent instanceof hm||ky.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}pm._ngModelWarningSentOnce=!1;class fm{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?hy.required(t):null}registerOnValidatorChange(t){this._onChange=t}}class gm{set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?hy.email(t):null}registerOnValidatorChange(t){this._onChange=t}}class ym{ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=hy.minLength(parseInt(this.minlength,10))}}class mm{ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=hy.pattern(this.pattern)}}class vm{group(t,e=null){const n=this._reduceControls(t);return new Zy(n,null!=e?e.validator:null,null!=e?e.asyncValidator:null)}control(t,e,n){return new Jy(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new tm(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Jy||t instanceof Zy||t instanceof tm?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}class _m{}class bm{}class wm{}class Cm{static withConfig(t){return{ngModule:Cm,providers:[{provide:sm,useValue:t.warnOnNgModelWithFormControl}]}}}class Em{constructor(){this.messageSource=new xl("list"),this.currentMessage=this.messageSource.asObservable()}changeMessage(t){this.messageSource.next(t)}}function Sm(...t){return e=>{let n=t[t.length-1];P(n)?t.pop():n=null;const r=t.length;return function(...t){return 1===t.length||2===t.length&&P(t[1])?W(t[0]):$l()(Hs(...t))}(1!==r||n?r>0?K(t,n):Ls(n):qs(t[0]),e)}}var km=n("Os+M"),Am=n("oOl+");class Tm{constructor(){}build(){return new XMLHttpRequest}}const Im=function(){var t={Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6};return t[t.Get]="Get",t[t.Post]="Post",t[t.Put]="Put",t[t.Delete]="Delete",t[t.Options]="Options",t[t.Head]="Head",t[t.Patch]="Patch",t}(),Rm=function(){var t={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};return t[t.Basic]="Basic",t[t.Cors]="Cors",t[t.Default]="Default",t[t.Error]="Error",t[t.Opaque]="Opaque",t}(),Om=function(){var t={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};return t[t.NONE]="NONE",t[t.JSON]="JSON",t[t.FORM]="FORM",t[t.FORM_DATA]="FORM_DATA",t[t.TEXT]="TEXT",t[t.BLOB]="BLOB",t[t.ARRAY_BUFFER]="ARRAY_BUFFER",t}(),Pm=function(){var t={Text:0,Json:1,ArrayBuffer:2,Blob:3};return t[t.Text]="Text",t[t.Json]="Json",t[t.ArrayBuffer]="ArrayBuffer",t[t.Blob]="Blob",t}();class Dm{constructor(t){this._headers=new Map,this._normalizedNames=new Map,t&&(t instanceof Dm?t.forEach((t,e)=>{t.forEach(t=>this.append(e,t))}):Object.keys(t).forEach(e=>{const n=Array.isArray(t[e])?t[e]:[t[e]];this.delete(e),n.forEach(t=>this.append(e,t))}))}static fromResponseHeaderString(t){const e=new Dm;return t.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const r=t.slice(0,n),i=t.slice(n+1).trim();e.set(r,i)}}),e}append(t,e){const n=this.getAll(t);null===n?this.set(t,e):n.push(e)}delete(t){const e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)}forEach(t){this._headers.forEach((e,n)=>t(e,this._normalizedNames.get(n),this._headers))}get(t){const e=this.getAll(t);return null===e?null:e.length>0?e[0]:null}has(t){return this._headers.has(t.toLowerCase())}keys(){return Array.from(this._normalizedNames.values())}set(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)}values(){return Array.from(this._headers.values())}toJSON(){const t={};return this._headers.forEach((e,n)=>{const r=[];e.forEach(t=>r.push(...t.split(","))),t[this._normalizedNames.get(n)]=r}),t}getAll(t){return this.has(t)&&this._headers.get(t.toLowerCase())||null}entries(){throw new Error('"entries" method is not implemented on Headers class')}mayBeSetNormalizedName(t){const e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)}}class Nm{constructor(t={}){const{body:e,status:n,headers:r,statusText:i,type:o,url:a}=t;this.body=null!=e?e:null,this.status=null!=n?n:null,this.headers=null!=r?r:null,this.statusText=null!=i?i:null,this.type=null!=o?o:null,this.url=null!=a?a:null}merge(t){return new Nm({body:t&&null!=t.body?t.body:this.body,status:t&&null!=t.status?t.status:this.status,headers:t&&null!=t.headers?t.headers:this.headers,statusText:t&&null!=t.statusText?t.statusText:this.statusText,type:t&&null!=t.type?t.type:this.type,url:t&&null!=t.url?t.url:this.url})}}class xm extends Nm{constructor(){super({status:200,statusText:"Ok",type:Rm.Default,headers:new Dm})}}class Mm{}function Lm(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return Im.Get;case"POST":return Im.Post;case"PUT":return Im.Put;case"DELETE":return Im.Delete;case"OPTIONS":return Im.Options;case"HEAD":return Im.Head;case"PATCH":return Im.Patch}throw new Error(`Invalid request method. The method "${t}" is not supported.`)}const Fm=t=>t>=200&&t<300;class Bm{encodeKey(t){return jm(t)}encodeValue(t){return jm(t)}}function jm(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Um{constructor(t="",e=new Bm){this.rawParams=t,this.queryEncoder=e,this.paramsMap=function(t=""){const e=new Map;return t.length>0&&t.split("&").forEach(t=>{const n=t.indexOf("="),[r,i]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],o=e.get(r)||[];o.push(i),e.set(r,o)}),e}(t)}clone(){const t=new Um("",this.queryEncoder);return t.appendAll(this),t}has(t){return this.paramsMap.has(t)}get(t){const e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null}getAll(t){return this.paramsMap.get(t)||[]}set(t,e){if(void 0===e||null===e)return void this.delete(t);const n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)}setAll(t){t.paramsMap.forEach((t,e)=>{const n=this.paramsMap.get(e)||[];n.length=0,n.push(t[0]),this.paramsMap.set(e,n)})}append(t,e){if(void 0===e||null===e)return;const n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}appendAll(t){t.paramsMap.forEach((t,e)=>{const n=this.paramsMap.get(e)||[];for(let r=0;r<t.length;++r)n.push(t[r]);this.paramsMap.set(e,n)})}replaceAll(t){t.paramsMap.forEach((t,e)=>{const n=this.paramsMap.get(e)||[];n.length=0;for(let r=0;r<t.length;++r)n.push(t[r]);this.paramsMap.set(e,n)})}toString(){const t=[];return this.paramsMap.forEach((e,n)=>{e.forEach(e=>t.push(this.queryEncoder.encodeKey(n)+"="+this.queryEncoder.encodeValue(e)))}),t.join("&")}delete(t){this.paramsMap.delete(t)}}class Vm{json(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body}text(t="legacy"){if(this._body instanceof Um)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error(`Invalid value for encodingHint: ${t}`)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()}arrayBuffer(){return this._body instanceof ArrayBuffer?this._body:function(t){const e=new Uint16Array(t.length);for(let n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e.buffer}(this.text())}blob(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")}}class zm extends Vm{constructor(t){super(),this._body=t.body,this.status=t.status,this.ok=this.status>=200&&this.status<=299,this.statusText=t.statusText,this.headers=t.headers,this.type=t.type,this.url=t.url}toString(){return`Response with status: ${this.status} ${this.statusText} for URL: ${this.url}`}}const qm=/^\)\]\}',?\n/;class Hm{constructor(t,e,n){this.request=t,this.response=new S(r=>{const i=e.build();i.open(Im[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(i.withCredentials=t.withCredentials);const o=()=>{let e=1223===i.status?204:i.status,o=null;204!==e&&"string"==typeof(o=void 0===i.response?i.responseText:i.response)&&(o=o.replace(qm,"")),0===e&&(e=o?200:0);const a=Dm.fromResponseHeaderString(i.getAllResponseHeaders()),s=function(t){return"responseURL"in t?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;let u=new Nm({body:o,status:e,headers:a,statusText:i.statusText||"OK",url:s});null!=n&&(u=n.merge(u));const l=new zm(u);if(l.ok=Fm(e),l.ok)return r.next(l),void r.complete();r.error(l)},a=t=>{let e=new Nm({body:t,type:Rm.Error,status:i.status,statusText:i.statusText});null!=n&&(e=n.merge(e)),r.error(new zm(e))};if(this.setDetectedContentType(t,i),null==t.headers&&(t.headers=new Dm),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach((t,e)=>i.setRequestHeader(e,t.join(","))),null!=t.responseType&&null!=i.responseType)switch(t.responseType){case Pm.ArrayBuffer:i.responseType="arraybuffer";break;case Pm.Json:i.responseType="json";break;case Pm.Text:i.responseType="text";break;case Pm.Blob:i.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return i.addEventListener("load",o),i.addEventListener("error",a),i.send(this.request.getBody()),()=>{i.removeEventListener("load",o),i.removeEventListener("error",a),i.abort()}})}setDetectedContentType(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case Om.NONE:break;case Om.JSON:e.setRequestHeader("content-type","application/json");break;case Om.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case Om.TEXT:e.setRequestHeader("content-type","text/plain");break;case Om.BLOB:const n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}}}class Gm{constructor(t="XSRF-TOKEN",e="X-XSRF-TOKEN"){this._cookieName=t,this._headerName=e}configureRequest(t){const e=Xl().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)}}class Km{constructor(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}createConnection(t){return this._xsrfStrategy.configureRequest(t),new Hm(t,this._browserXHR,this._baseResponseOptions)}}class Wm{get search(){return this.params}set search(t){this.params=t}constructor(t={}){const{method:e,headers:n,body:r,url:i,search:o,params:a,withCredentials:s,responseType:u}=t;this.method=null!=e?Lm(e):null,this.headers=null!=n?n:null,this.body=null!=r?r:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(a||o),this.withCredentials=null!=s?s:null,this.responseType=null!=u?u:null}merge(t){return new Wm({method:t&&null!=t.method?t.method:this.method,headers:t&&null!=t.headers?t.headers:new Dm(this.headers),body:t&&null!=t.body?t.body:this.body,url:t&&null!=t.url?t.url:this.url,params:t&&this._mergeSearchParams(t.params||t.search),withCredentials:t&&null!=t.withCredentials?t.withCredentials:this.withCredentials,responseType:t&&null!=t.responseType?t.responseType:this.responseType})}_mergeSearchParams(t){return t?t instanceof Um?t.clone():"string"==typeof t?new Um(t):this._parseParams(t):this.params}_parseParams(t={}){const e=new Um;return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>this._appendParam(n,t,e)):this._appendParam(n,r,e)}),e}_appendParam(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)}}class Qm extends Wm{constructor(){super({method:Im.Get,headers:new Dm})}}class $m extends Vm{constructor(t){super();const e=t.url;this.url=t.url;const n=t.params||t.search;if(n){let t;if((t="object"!=typeof n||n instanceof Um?n.toString():function(t){const e=new Um;return Object.keys(t).forEach(n=>{const r=t[n];r&&Array.isArray(r)?r.forEach(t=>e.append(n,t.toString())):e.append(n,r.toString())}),e}(n).toString()).length>0){let n="?";-1!=this.url.indexOf("?")&&(n="&"==this.url[this.url.length-1]?"":"&"),this.url=e+n+t}}this._body=t.body,this.method=Lm(t.method),this.headers=new Dm(t.headers),this.contentType=this.detectContentType(),this.withCredentials=t.withCredentials,this.responseType=t.responseType}detectContentType(){switch(this.headers.get("content-type")){case"application/json":return Om.JSON;case"application/x-www-form-urlencoded":return Om.FORM;case"multipart/form-data":return Om.FORM_DATA;case"text/plain":case"text/html":return Om.TEXT;case"application/octet-stream":return this._body instanceof tv?Om.ARRAY_BUFFER:Om.BLOB;default:return this.detectContentTypeFromBody()}}detectContentTypeFromBody(){return null==this._body?Om.NONE:this._body instanceof Um?Om.FORM:this._body instanceof Jm?Om.FORM_DATA:this._body instanceof Zm?Om.BLOB:this._body instanceof tv?Om.ARRAY_BUFFER:this._body&&"object"==typeof this._body?Om.JSON:Om.TEXT}getBody(){switch(this.contentType){case Om.JSON:case Om.FORM:return this.text();case Om.FORM_DATA:return this._body;case Om.TEXT:return this.text();case Om.BLOB:return this.blob();case Om.ARRAY_BUFFER:return this.arrayBuffer();default:return null}}}const Ym=function(){},Xm="object"==typeof window?window:Ym,Jm=Xm.FormData||Ym,Zm=Xm.Blob||Ym,tv=Xm.ArrayBuffer||Ym;function ev(t,e){return t.createConnection(e).response}function nv(t,e,n,r){return t.merge(new Wm(e?{method:e.method||n,url:e.url||r,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType}:{method:n,url:r}))}class rv{constructor(t,e){this._backend=t,this._defaultOptions=e}request(t,e){let n;if("string"==typeof t)n=ev(this._backend,new $m(nv(this._defaultOptions,e,Im.Get,t)));else{if(!(t instanceof $m))throw new Error("First argument must be a url string or Request instance.");n=ev(this._backend,t)}return n}get(t,e){return this.request(new $m(nv(this._defaultOptions,e,Im.Get,t)))}post(t,e,n){return this.request(new $m(nv(this._defaultOptions.merge(new Wm({body:e})),n,Im.Post,t)))}put(t,e,n){return this.request(new $m(nv(this._defaultOptions.merge(new Wm({body:e})),n,Im.Put,t)))}delete(t,e){return this.request(new $m(nv(this._defaultOptions,e,Im.Delete,t)))}patch(t,e,n){return this.request(new $m(nv(this._defaultOptions.merge(new Wm({body:e})),n,Im.Patch,t)))}head(t,e){return this.request(new $m(nv(this._defaultOptions,e,Im.Head,t)))}options(t,e){return this.request(new $m(nv(this._defaultOptions,e,Im.Options,t)))}}function iv(){return new Gm}function ov(t,e){return new rv(t,e)}class av{}class sv{constructor(t){this.http=t}getCountries(){return km}getCities(){return Am}}sv.ngInjectableDef=st({factory:function(){return new sv(ne(rv))},token:sv,providedIn:"root"});var uv=n("b0Xh"),lv=function(){function t(){}return t.prototype.getOrientedImage=function(t){return new Promise(function(e,n){var r;uv||((uv={}).getData=function(e,n){return n.call(t),!0},uv.getTag=function(){return!1}),uv.getData(t,function(){var n=uv.getTag(t,"Orientation");if(1!=n){var i=document.createElement("canvas"),o=i.getContext("2d"),a=t.width,s=t.height,u=0,l=0,c=0;switch(n){case 3:case 4:u=-t.width,l=-t.height,c=180;break;case 5:case 6:a=t.height,s=t.width,l=-t.height,c=90;break;case 7:case 8:a=t.height,s=t.width,u=-t.width,c=270}i.width=a,i.height=s,[2,4,5,7].indexOf(n)>-1&&(o.translate(a,0),o.scale(-1,1)),o.rotate(c*Math.PI/180),o.drawImage(t,u,l),(r=document.createElement("img")).width=a,r.height=s,r.addEventListener("load",function(){e(r)}),r.src=i.toDataURL("image/png")}else e(t)})})},t}(),cv=function(){function t(t){this.imageExifService=t}return t.prototype.compressImage=function(t,e,n,r){var i=this;void 0===n&&(n=!1),void 0===r&&(r=!1);var o=new R;if(this.timeAtStart=(new Date).getTime(),this.initialFile=t,"image/jpeg"!==t.type&&"image/png"!==t.type)return setTimeout(function(){o.error({compressedFile:t,reason:"File provided is neither of type jpg nor of type png.",error:"INVALID_EXTENSION"})},0),o.asObservable();if(t.size/1024/1024<e)return setTimeout(function(){o.next(t)},0),o.asObservable();var a=document.createElement("canvas"),s=a.getContext("2d"),u=new Image,l=this;return u.onload=function(){i.imageExifService.getOrientedImage(u).then(function(c){window.URL.revokeObjectURL(u.src),a.width=c.width,a.height=c.height,s.drawImage(c,0,0);var h=s.getImageData(0,0,c.width,c.height);"image/png"===t.type&&i.isImgUsingAlpha(h)&&!n&&o.error({compressedFile:t,reason:"File provided is a png image which uses the alpha channel. No compression possible.",error:"PNG_WITH_ALPHA"}),(s=a.getContext("2d",{alpha:!1})).drawImage(c,0,0),l.getCompressedFile(a,50,e,1).then(function(t){o.next(t),l.logExecutionTime(r)}).catch(function(t){o.error(t),l.logExecutionTime(r)})})},u.src=window.URL.createObjectURL(t),o.asObservable()},t.prototype.getCompressedFile=function(t,e,n,r){var i=this;return new Promise(function(o,a){t.toBlob(function(s){if(r+1>15)a({compressedFile:i.getResultFile(s),reason:"Could not find the correct compression quality in 15 steps.",error:"MAX_STEPS_EXCEEDED"});else{var u=i.getCalculatedQuality(s,e,n,r);i.checkCompressionStatus(t,s,e,n,r,u).then(function(t){o(t)}).catch(function(t){a(t)})}},"image/jpeg",e/100)})},t.prototype.getResultFile=function(t){return this.generateResultFile(t,this.initialFile.name,this.initialFile.type,(new Date).getTime())},t.prototype.generateResultFile=function(t,e,n,r){var i=new Blob([t],{type:n});return this.blobToFile(i,e,r)},t.prototype.blobToFile=function(t,e,n){var r=t;return r.name=e,r.lastModified=n,r},t.prototype.getCalculatedQuality=function(t,e,n,r){var i=t.size/1024/1024,o=n/i;o>5&&(o=5);var a=i/(this.initialFile.size/1024/1024);a<.05&&(a=.05);var s=0,u=10*Math.abs(a-1)/(1.7*r)/o;return u<1&&(u=1),(s=o>=1?e+10*(o-1)*u:e-10*(1-o)*u)>100&&(s=e+(100-e)/2),s<0&&(s=e-e/2),s},t.prototype.checkCompressionStatus=function(t,e,n,r,i,o){var a=this;return new Promise(function(s,u){100===n&&o>=100?u({compressedFile:a.initialFile,reason:"Unfortunately there was an error while compressing the file.",error:"FILE_BIGGER_THAN_INITIAL_FILE"}):n<1&&o<n?u({compressedFile:a.getResultFile(e),reason:"Could not compress image enough to fit the maximal file size limit.",error:"UNABLE_TO_COMPRESS_ENOUGH"}):o>n&&Math.round(n)==Math.round(o)?s(a.getResultFile(e)):i>5&&o>n&&o<n+2?s(a.getResultFile(e)):o>n&&Number.isInteger(n)&&Math.floor(o)==n?s(a.getResultFile(e)):(n>o&&Math.round(n)==Math.round(o)&&(o=Math.round(o)-1),s(a.getCompressedFile(t,o,r,i+1)))})},t.prototype.isImgUsingAlpha=function(t){for(var e=0;e<t.data.length;e+=4)if(255!==t.data[e+3])return!0;return!1},t.prototype.logExecutionTime=function(t){t&&console.info("Execution time: ",(new Date).getTime()-this.timeAtStart+"ms")},t}(),hv=n("gkvR"),dv=n.n(hv),pv=n("b0Xh"),fv=function(){function t(){}return t.prototype.getOrientedImage=function(t){return new Promise(function(e,n){var r;pv||((pv={}).getData=function(e,n){return n.call(t),!0},pv.getTag=function(){return!1}),pv.getData(t,function(){var n=pv.getTag(t,"Orientation");if(1!=n){var i=document.createElement("canvas"),o=i.getContext("2d"),a=t.width,s=t.height,u=0,l=0,c=0;switch(n){case 3:case 4:u=-t.width,l=-t.height,c=180;break;case 5:case 6:a=t.height,s=t.width,l=-t.height,c=90;break;case 7:case 8:a=t.height,s=t.width,u=-t.width,c=270}i.width=a,i.height=s,[2,4,5,7].indexOf(n)>-1&&(o.translate(a,0),o.scale(-1,1)),o.rotate(c*Math.PI/180),o.drawImage(t,u,l),(r=document.createElement("img")).width=a,r.height=s,r.addEventListener("load",function(){e(r)}),r.src=i.toDataURL("image/png")}else e(t)})})},t}(),gv=function(){function t(t){this.imageExifService=t}return t.prototype.resize=function(t,e,n,r){void 0===r&&(r=!1);for(var i=new R,o=0;o<t.length;o++)this.resizeFile(t[o],e,n,r).then(function(t){i.next(t)}).catch(function(t){i.error(t)});return i.asObservable()},t.prototype.resizeCanvas=function(t,e,n){return new Promise(function(r,i){var o=new dv.a;o&&o.resize||(o=new window.pica),o.resize(t,e,n).then(function(t){r(t)},function(t){i(t)})})},t.prototype.resizeBuffer=function(t){return new Promise(function(e,n){var r=new dv.a;r&&r.resizeBuffer||(r=new window.pica),r.resizeBuffer(t).then(function(t){e(t)},function(t){n(t)})})},t.prototype.resizeFile=function(t,e,n,r){var i=this;return void 0===r&&(r=!1),new Promise(function(o,a){var s=document.createElement("canvas"),u=s.getContext("2d"),l=new Image;l.onload=function(){i.imageExifService.getOrientedImage(l).then(function(c){window.URL.revokeObjectURL(l.src),s.width=c.width,s.height=c.height,u.drawImage(c,0,0);var h=u.getImageData(0,0,c.width,c.height);if(r){var d=Math.min(e/h.width,n/h.height);e=Math.round(h.width*d),n=Math.round(h.height*d)}var p=!0;("image/jpeg"===t.type||"image/png"===t.type&&!i.isImgUsingAlpha(h))&&(p=!1,(u=s.getContext("2d",{alpha:!1})).drawImage(c,0,0));var f=document.createElement("canvas");f.width=e,f.height=n,i.resizeCanvas(s,f,{alpha:p}).then(function(e){e.toBlob(function(e){var n=i.generateResultFile(e,t.name,t.type,(new Date).getTime());o(n)},t.type)}).catch(function(t){a(t)})})},l.src=window.URL.createObjectURL(t)})},t.prototype.isImgUsingAlpha=function(t){for(var e=0;e<t.data.length;e+=4)if(255!==t.data[e+3])return!0;return!1},t.prototype.generateResultFile=function(t,e,n,r){var i=new Blob([t],{type:n});return this.blobToFile(i,e,r)},t.prototype.blobToFile=function(t,e,n){var r=t;return r.name=e,r.lastModified=n,r},t}(),yv=function(){},mv=function(){function t(t,e){this.ng2PicaService=t,this.imageExifService=e}return t.prototype.resizeImage=function(t,e,n,r){var i=this;void 0===r&&(r=!1);var o=new R;if(this.timeAtStart=(new Date).getTime(),"image/jpeg"!==t.type&&"image/png"!==t.type)return setTimeout(function(){o.error({resizedFile:t,reason:"The provided File is neither of type jpg nor of type png.",error:"INVALID_EXTENSION"})},0),o.asObservable();var a=new Image,s=this;return a.onload=function(){i.imageExifService.getOrientedImage(a).then(function(i){window.URL.revokeObjectURL(a.src);var u=i.width,l=i.height,c=u,h=l;c>e&&(c=e,h*=e/u),l=h,h>n&&(h=n,c*=n/l),h===i.height&&c===i.width?(o.next(t),s.logExecutionTime(r)):s.ng2PicaService.resize([t],c,h).subscribe(function(t){o.next(t),s.logExecutionTime(r)},function(e){o.error({resizedFile:t,reason:e,error:"PICA_ERROR"}),s.logExecutionTime(r)})})},a.src=window.URL.createObjectURL(t),o.asObservable()},t.prototype.logExecutionTime=function(t){t&&console.info("Execution time: ",(new Date).getTime()-this.timeAtStart+"ms")},t}(),vv=function(){function t(t,e,n){this.imgMaxSizeService=t,this.imgMaxPXSizeService=e,this.imageExifService=n}return t.prototype.compress=function(t,e,n,r){var i=this;void 0===n&&(n=!1),void 0===r&&(r=!1);var o=new R;return t.forEach(function(t){i.compressImage(t,e,n,r).subscribe(function(t){o.next(t)},function(t){o.error(t)})}),o.asObservable()},t.prototype.resize=function(t,e,n,r){var i=this;void 0===r&&(r=!1);var o=new R;return t.forEach(function(t){i.resizeImage(t,e,n,r).subscribe(function(t){o.next(t)},function(t){o.error(t)})}),o.asObservable()},t.prototype.compressImage=function(t,e,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!1),this.imgMaxSizeService.compressImage(t,e,n,r)},t.prototype.resizeImage=function(t,e,n,r){return void 0===r&&(r=!1),this.imgMaxPXSizeService.resizeImage(t,e,n,r)},t.prototype.getEXIFOrientedImage=function(t){return this.imageExifService.getOrientedImage(t)},t}(),_v=function(){};class bv{constructor(t,e,n,r,i,o,a,s,u,l){this.sanitizer=t,this.ng2ImgMax=e,this.address=n,this.globals=r,this.snotifyService=i,this.afStorage=o,this._route=a,this.empService=s,this._Router=u,this.toastr=l,this.load="",this.reader=new FileReader,this.myCountryControl=new Jy,this.myCityControl=new Jy,this.countryError=!1,this.cityError=!1,this.error=!1,this.cityObject={},this.countries=[],this.cities=[],this.filteredCities=[],this.couteriesNames=[],this.citiesNames=[],this.employee={},this.btnTitle="Submit",this.forEdit=!1,this.id=this._route.snapshot.queryParams.id,this.oldImage=null}_countryFilter(t){const e=t.toLowerCase();return this.countries.filter(t=>t.name.toLowerCase().match(e))}_cityFilter(t){const e=t.toLowerCase();return this.filteredCities.filter(t=>t.region.toLowerCase().match(e))}ngOnInit(){this.getCountries(),this.id?(this.btnTitle="Edit",this.forEdit=!0,this.empService.getEmployee(this.id).subscribe(t=>{let e=t.payload.val();""!=e.image?(this.oldImage=e.image,this.employee.$key=t.key,this.employee.firstName=e.firstName,this.employee.lastName=e.lastName,this.employee.email=e.email,this.employee.country=e.country,this.employee.city=e.city,this.employee.phone=e.phone,this.employee.salary=e.salary,this.employee.image=e.image,this.country=e.country,this.city=e.city):(this.oldImage="",this.employee.$key=t.key,this.employee.firstName=e.firstName,this.employee.lastName=e.lastName,this.employee.email=e.email,this.employee.country=e.country,this.employee.city=e.city,this.employee.phone=e.phone,this.employee.salary=e.salary,this.employee.image=e.image,this.country=e.country,this.city=e.city)})):this.employee={firstName:"",lastName:"",email:"",country:"",city:"",phone:null,salary:null,image:""}}onAsyncLoading(t){const e=S.create(t=>{});this.snotifyService.async("","Saving Data",e,{position:ks.centerCenter,showProgressBar:!0})}onsubmit({value:t,valid:e}){if(e&&!this.forEdit)if(t.country=this.country,t.city=this.city,this.myEvent){this.onAsyncLoading(2400);const e=Math.random().toString(36).substring(2);this.ref=this.afStorage.ref(e),this.task=this.ref.put(this.uploadedImage,{contentType:"image/jpeg"}),this.task.snapshotChanges().pipe(ny(()=>{this.downloadURL=this.ref.getDownloadURL(),this.downloadURL.subscribe(e=>{t.image=e,this.empService.addEmployee(t),this.employee={},this.snotifyService.remove(),this.toastr.success("Employee Added Successfully!","Employees",{timeOut:2e3}),this._Router.navigate(["/up"])})})).subscribe()}else this.onAsyncLoading(1e3),setTimeout(()=>{t.image="",this.empService.addEmployee(t),this.employee={},this.snotifyService.remove(),this.toastr.success("Employee Added Successfully!","Employees",{timeOut:2e3}),this.forEdit=!1,this._Router.navigate(["/up"])},200);if(e&&this.forEdit){if(this.myEvent){this.onAsyncLoading(2e3);const e=Math.random().toString(36).substring(2);this.ref=this.afStorage.ref(e),this.task=this.ref.put(this.uploadedImage,{contentType:"image/jpeg"}),this.task.snapshotChanges().pipe(ny(()=>{this.downloadURL=this.ref.getDownloadURL(),this.downloadURL.subscribe(e=>{this.employee.$key=this.id,this.employee.firstName=t.firstName,this.employee.lastName=t.lastName,this.employee.email=t.email,this.employee.country=this.country,this.employee.city=this.city,this.employee.phone=t.phone,this.employee.salary=t.salary,this.employee.image=e,this.empService.updateEmployeeWithDelete(this.employee,this.oldImage)})})).subscribe()}else this.employee.country=this.country,this.employee.city=this.city,this.empService.updateEmployee(this.employee),this.onAsyncLoading(1e3);setTimeout(()=>{this.toastr.success("Employee Updated Successfully!!","Employees",{timeOut:2e3}),this.employee={},this.snotifyService.remove(),this.forEdit=!1,this._Router.navigate(["/up"])},200)}}deleteImage(){this.empService.deleteImage(this.oldImage)}onSelectFile(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.readAsDataURL(t.target.files[0]),e.onload=(()=>{t.target.files[0].name.match(/.(jpg|jpeg|png|gif)$/i)?t.target.files[0].size>1e5?(this.toastr.error("image should be not more than 100kb","Employees",{timeOut:3e3}),this.url=""):(this.url=e.result,this.myEvent=t,console.log(t)):(this.toastr.error("image should be JPG|JPEG|PNG|GIF","Employees",{timeOut:3e3}),this.url="")})}}onImageChange(t){if(t.target.files&&t.target.files[0]){let e=t.target.files[0];t.target.files[0].name.match(/.(jpg|jpeg|png|gif)$/i)?t.target.files[0].size>3072e3?(this.toastr.error("image should be not more than 3M","Employees",{timeOut:2e3}),this.load=""):(this.load="ok",this.ng2ImgMax.resizeImage(e,500,600).subscribe(t=>{this.uploadedImage=new File([t],t.name),this.reader.readAsDataURL(this.uploadedImage),this.reader.onload=(()=>{this.url=this.reader.result.toString(),this.myEvent=this.uploadedImage,this.load=""})},t=>{console.log("\u{1f622} Oh no!",t)})):(this.toastr.error("image should be JPG|JPEG|PNG|GIF","Employees",{timeOut:2e3}),this.load="")}}show(){}delete(t){kl.storage().ref().storage.refFromURL(t).delete()}getCountries(){this.countries=this.address.getCountries(),this.cities=this.address.getCities(),this.countries.forEach(t=>{this.couteriesNames.push(t.name.toLowerCase())}),this.countryOptions=this.myCountryControl.valueChanges.pipe(Sm(""),q(t=>this._countryFilter(t)))}getFilteredCities(){this.cities.forEach(t=>{this.citiesNames.push(t.region.toLowerCase())}),this.cityOptions=this.myCityControl.valueChanges.pipe(Sm(""),q(t=>this._cityFilter(t)))}checkCountry(){if(!this.couteriesNames.length||!this.country)return!1;if(this.city="",this.couteriesNames.indexOf(this.country.toLowerCase())>-1){this.countryError=!1,this.error=!1;var t=this.countries.find(t=>t.name.toLowerCase()===this.country.toLowerCase());this.filteredCities=this.cities.filter(e=>e.country.toLowerCase()==t.code.toLowerCase()),this.getFilteredCities()}else this.countryError=!0,this.error=!0}checkCity(){if(!this.citiesNames.length||!this.city)return!1;this.citiesNames.indexOf(this.city.toLowerCase())>-1?(this.cityError=!1,this.error=!1):(this.cityError=!0,this.error=!0)}alert(){console.log(this.country),console.log(this.city),console.log(this.employee)}}function wv(t){return function(t){return new S(e=>({unsubscribe:t.onSnapshot(e)}))}(t).pipe(at())}function Cv(t){return wv(t).pipe(q(t=>({payload:t,type:"query"})))}function Ev(t){return Cv(t).pipe(q(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}class Sv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Ev(this.query))).pipe(q(e=>e.filter(e=>t.indexOf(e.type)>-1)),gl(t=>t.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Ev(this.query)))}auditTrail(t){return this.stateChanges(t).pipe(ql((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=function(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(t),n=function(t,e){return Cv(t).pipe(q(t=>t.payload.docChanges()),ql((t,n)=>(function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e);break;case"removed":t.splice(e.oldIndex,1)}return t}(t,e))}),t})(t,n,e),[]),q(t=>t.map(t=>({type:t.type,payload:t}))))}(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(){const t=Cv(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(q(t=>t.payload.docs.map(t=>t.data())))}add(t){return this.ref.add(t)}doc(t){return new kv(this.ref.doc(t),this.afs)}}class kv{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Rv(n,e);return new Sv(r,i,this.afs)}snapshotChanges(){const t=function(t){return wv(t).pipe(q(t=>({payload:t,type:"value"})))}(this.ref),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)}valueChanges(){return this.snapshotChanges().pipe(q(t=>t.payload.data()))}}const Av=new ut("angularfire2.enableFirestorePersistence"),Tv=new ut("angularfire2.firestore.settings"),Iv={timestampsInSnapshots:!0};function Rv(t,e=(t=>t)){return{query:e(t),ref:t}}class Ov{constructor(t,e,n,r,i,o){this.scheduler=new Sl(o,i),this.firestore=o.runOutsideAngular(()=>{const n=Rl(t,e).firestore();return n.settings(r||Iv),n}),this.persistenceEnabled$=o.runOutsideAngular(()=>n?W(this.firestore.enablePersistence().then(()=>!0,()=>!1)):Hs(!1)).pipe(Kl(()=>Hs(!1)))}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Rv(n,e);return new Sv(r,i,this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new kv(e,this)}createId(){return this.firestore.collection("_").doc().id}}n("6Joi");class Pv{static enablePersistence(){return{ngModule:Pv,providers:[{provide:Av,useValue:!0}]}}}class Dv{constructor(t,e,n,r,i){this.afAuth=t,this.afs=e,this.router=n,this.toaster=r,this.global=i,this.loggedin=!1,this.user=this.afAuth.authState.pipe(Gs(t=>t?this.afs.doc(`users/${t.uid}`).valueChanges():Hs(null)))}googleLogin(){const t=new kl.auth.GoogleAuthProvider;return this.oAuthLogin(t)}githubLogin(){const t=new kl.auth.GithubAuthProvider;return this.oAuthLogin(t)}facebookLogin(){var t=new kl.auth.FacebookAuthProvider;this.afAuth.auth.signInWithPopup(t).then(t=>{console.log(this.afAuth.auth.currentUser.photoURL),this.router.navigate(["dashboard"])})}twitterLogin(){const t=new kl.auth.TwitterAuthProvider;return this.oAuthLogin(t)}oAuthLogin(t){return this.afAuth.auth.signInWithPopup(t).then(t=>(this.router.navigate(["dashboard"]),this.toaster.success("Welcome to EmployeesNG!!!","success"),this.updateUserData(t.user))).catch(t=>this.handleError(t))}anonymousLogin(){return this.afAuth.auth.signInAnonymously().then(t=>(this.toaster.success("Welcome to EmployeesNG!!!","success"),this.updateUserData(t.user))).catch(t=>{this.handleError(t)})}emailSignUp(t,e){return this.afAuth.auth.createUserWithEmailAndPassword(t,e).then(n=>{this.emailLogin(t,e),this.router.navigate(["/"])}).catch(t=>this.toaster.error(t,"Register"))}emailLogin(t,e){return this.afAuth.auth.signInWithEmailAndPassword(t,e).then(t=>{this.toaster.success("Welcome to EmployeesNG!!!","success")}).catch(t=>this.handleError(t))}resetPassword(t){return Object(kl.auth)().sendPasswordResetEmail(t).then(()=>{this.toaster.success("Check your email inbox now","success",{timeOut:3e3})}).catch(t=>console.log(t))}handleError(t){}updateUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email||null,displayName:t.displayName||"nameless user",photoURL:t.photoURL||"https://goo.gl/Fz9nrQ"})}login(t,e){return new Promise((n,r)=>{this.afAuth.auth.signInWithEmailAndPassword(t,e).then(t=>n(t),t=>r(t))})}redirectLogin(){return this.afAuth.auth.getRedirectResult()}getAuth(){return this.afAuth.authState.pipe(q(t=>t))}set(t){this.afAuth.auth.currentUser.updateProfile({displayName:null,photoURL:t})}signOut(){return this.afAuth.auth.signOut()}}class Nv{constructor(){this.mySetting={canRegister:!0},null!=localStorage.getItem("ngSettings")&&(this.mySetting=JSON.parse(localStorage.getItem("ngSettings")))}getSettings(){return this.mySetting}changeSetting(t){localStorage.setItem("ngSettings",JSON.stringify(t))}}Nv.ngInjectableDef=st({factory:function(){return new Nv},token:Nv,providedIn:"root"});var xv=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})};class Mv{constructor(t,e,n,r,i,o){this.auth=t,this.afAuth=e,this.router=n,this.toast=r,this.gobal=i,this.settingService=o,this.canRegister="true",this.equal=!1,this.forRegister=!1,this.forLogin=!0,this.forReset=!1,this.socialAuth=!1,this.dataLoading=!1,this.brokenNetwork=!1}ngOnInit(){this.canRegister=localStorage.getItem("canregister")?localStorage.getItem("canregister"):"true",this.afAuth.auth.getRedirectResult().then(t=>{t.user&&this.router.navigate(["/"])}),this.setting=null!=localStorage.getItem("ngSettings")?JSON.parse(localStorage.getItem("ngSettings")):this.settingService.getSettings()}ngAfterViewInit(){}signInAnonymously(){return xv(this,void 0,void 0,function*(){return yield this.auth.anonymousLogin(),yield this.router.navigate(["/"])})}signInWithGoogle(){return xv(this,void 0,void 0,function*(){yield this.auth.googleLogin(),yield this.afterSignIn()})}signInWithFacebook(){return xv(this,void 0,void 0,function*(){yield this.auth.facebookLogin()})}signInWithTwitter(){return xv(this,void 0,void 0,function*(){return yield this.auth.twitterLogin(),yield this.afterSignIn()})}onSubmit(){this.auth.login(this.email,this.password).then(t=>{this.afterSignIn()}).catch(t=>{this.toast.error("Wrong Email or Password","LogIn"),this.router.navigate(["/login"])})}afterSignIn(){this.toast.success("You Login Sucessfully","LogIn"),this.router.navigate(["/"])}getAuthStatus(){this.auth.redirectLogin().then(function(t){t.credential&&(this.router.navigate(["/"]),window.localStorage.setItem("displayName",t.user.displayName),window.localStorage.setItem("email",t.user.email),window.localStorage.setItem("picture",t.user.photoURL)),console.log(t.user)}).catch(t=>{this.error=t})}onRegister(){this.auth.emailSignUp(this.rEmail,this.rPassword)}onChange(){this.equal=this.rcPassword==this.rPassword}resetPassword(){this.auth.resetPassword(this.resetEmail).then(()=>{this.forLogin=!0,this.forReset=!1})}}class Lv{constructor(t,e,n){this.settings=t,this.router=e,this.toaster=n}ngOnInit(){this.setting=localStorage.getItem("ngSettings")?JSON.parse(localStorage.getItem("ngSettings")):this.settings.getSettings()}register(){this.setting.canRegister=!this.setting.canRegister}myChecked(){return null!=localStorage.getItem("ngSettings")?(this.setting=JSON.parse(localStorage.getItem("ngSettings")),this.setting.canRegister):this.settings.getSettings().canRegister}mySubmit(){this.settings.changeSetting(this.setting),this.toaster.success("Settings saved successfully","EmployeesNG",{timeOut:2e3}),this.router.navigate(["/"])}}class Fv{constructor(t){this.settings=t}canActivate(){return null!=localStorage.getItem("ngSettings")?(this.setting=JSON.parse(localStorage.getItem("ngSettings")),1!=this.setting.canRegister?(localStorage.setItem("canregister","false"),!0):(localStorage.setItem("canregister","true"),!0)):(this.setting=this.settings.getSettings(),!0)}}Fv.ngInjectableDef=st({factory:function(){return new Fv(ne(Nv))},token:Fv,providedIn:"root"});const Bv=Ds;class jv{}class Uv{constructor(t){this.golbals=t,this.title="app"}ngOnInit(){}ngAfterViewChecked(){}}class Vv{constructor(t,e,n,r,i,o){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=o,this._onTap=new R,this._onAction=new R,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const zv=new ut("ToastConfig");class qv{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Hv{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class Gv extends Hv{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class Kv{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}Kv.ngInjectableDef=st({factory:function(){return new Kv(ne(il))},token:Kv,providedIn:"root"});class Wv{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}class Qv{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new Gv(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Wv(this._createPortalHost(t))}}Qv.ngInjectableDef=st({factory:function(){return new Qv(ne(Kv),ne(Ye),ne(In),ne(il))},token:Qv,providedIn:"root"});class $v{constructor(t){this._overlayRef=t,this._afterClosed=new R,this._activate=new R,this._manualClose=new R,this._resetTimeout=new R}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}resetTimeout(){this._resetTimeout.next()}}class Yv{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===Vv?this._toastPackage:this._parentInjector.get(t,e,n)}}class Xv{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign({},t.default,t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign({},t.default.iconClasses,t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}isDuplicate(t,e){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].message===t)return e&&this.toasts[n].toastRef.componentInstance.resetTimeout&&this.toasts[n].toastRef.resetTimeout(),!0;return!1}applyConfig(t={}){return Object.assign({},this.toastrConfig,t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,r){if(!r.toastComponent)throw new Error("toastComponent required");if(e&&this.toastrConfig.preventDuplicates&&this.isDuplicate(e,this.toastrConfig.resetTimeoutOnDuplicate))return null;this.previousToastMessage=e;let i=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(i=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const o=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let a=e;e&&r.enableHtml&&(a=this.sanitizer.sanitize(qr.HTML,e));const s=new $v(o),u=new Vv(this.index,r,a,n,t,s),l=new Yv(u,this._injector),c=new qv(r.toastComponent,l),h=o.attach(c,this.toastrConfig.newestOnTop);s.componentInstance=h._component;const d={toastId:this.index,message:e||"",toastRef:s,onShown:s.afterActivate(),onHidden:s.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:h};return i||setTimeout(()=>{d.toastRef.activate(),this.currentlyActive=this.currentlyActive+1}),this.toasts.push(d),d}}Xv.ngInjectableDef=st({factory:function(){return new Xv(ne(zv),ne(Qv),ne(Ft),ne($c),ne(un))},token:Xv,providedIn:"root"});class Jv{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign({},this.state,{value:"active"}),!this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign({},this.state,{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign({},this.state,{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}const Zv=Object.assign({},{maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"toast",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},{toastComponent:Jv});class t_{static forRoot(t={}){return{ngModule:t_,providers:[{provide:zv,useValue:{default:Zv,config:t}}]}}}var e_=ui({encapsulation:2,styles:[],data:{animation:[{type:7,name:"flyInOut",definitions:[{type:0,name:"inactive",styles:{type:6,styles:{display:"none",opacity:0},offset:null},options:void 0},{type:0,name:"active",styles:{type:6,styles:{},offset:null},options:void 0},{type:0,name:"removed",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:1,expr:"inactive => active",animation:{type:4,styles:null,timings:"{{ easeTime }}ms {{ easing }}"},options:null},{type:1,expr:"active => removed",animation:{type:4,styles:null,timings:"{{ easeTime }}ms {{ easing }}"},options:null}],options:{}}]}});function n_(t){return oa(0,[(t()(),ji(0,0,null,null,2,"button",[["aria-label","Close"],["class","toast-close-button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.remove()&&r),r},null,null)),(t()(),ji(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),na(-1,null,["\xd7"]))],null,null)}function r_(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[],[[8,"className",0],[1,"aria-label",0]],null,null,null,null)),(t()(),na(1,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,0,0,n.options.titleClass,n.title),t(e,1,0,n.title)})}function i_(t){return oa(0,[(t()(),ji(0,0,null,null,0,"div",[["aria-live","polite"],["role","alertdialog"]],[[8,"className",0],[8,"innerHTML",1]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,n.options.messageClass,n.message)})}function o_(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[["aria-live","polite"],["role","alertdialog"]],[[8,"className",0],[1,"aria-label",0]],null,null,null,null)),(t()(),na(1,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,0,0,n.options.messageClass,n.message),t(e,1,0,n.message)})}function a_(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),ji(1,0,null,null,0,"div",[["class","toast-progress"]],[[4,"width",null]],null,null,null,null))],null,function(t,e){t(e,1,0,e.component.width+"%")})}function s_(t){return oa(0,[(t()(),Bi(16777216,null,null,1,null,n_)),Io(1,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,r_)),Io(3,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,i_)),Io(5,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,o_)),Io(7,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,a_)),Io(9,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.options.closeButton),t(e,3,0,n.title),t(e,5,0,n.message&&n.options.enableHtml),t(e,7,0,n.message&&!n.options.enableHtml),t(e,9,0,n.options.progressBar)},null)}var u_=ro("[toast-component]",Jv,function(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[["toast-component",""]],[[8,"className",0],[40,"@flyInOut",0]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==go(t,1).tapToast()&&r),"mouseenter"===e&&(r=!1!==go(t,1).stickAround()&&r),"mouseleave"===e&&(r=!1!==go(t,1).delayedHideToast()&&r),r},s_,e_)),Io(1,180224,null,0,Jv,[Xv,Vv,un],null,null)],null,function(t,e){t(e,0,0,go(e,1).toastClasses,go(e,1).state)})},{},{},[]),l_=ui({encapsulation:2,styles:[],data:{}});function c_(t){return oa(0,[(t()(),ji(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Io(1,212992,null,0,bp,[_p,qn,Ye,[8,null],Hn],null,null)],function(t,e){t(e,1,0)},null)}var h_=ro("ng-component",kh,function(t){return oa(0,[(t()(),ji(0,0,null,null,1,"ng-component",[],null,null,null,c_,l_)),Io(1,49152,null,0,kh,[],null,null)],null,null)},{},{},[]),d_=ui({encapsulation:0,styles:[["#facebook[_ngcontent-%COMP%], #google[_ngcontent-%COMP%]{color:#fff}.d-inline-block[_ngcontent-%COMP%]{width:100%;margin-top:10px}.btn-fb[_ngcontent-%COMP%]{color:#fff;background-color:#3b5998}.btn-fb[_ngcontent-%COMP%]:hover{color:#fff;background-color:#496ebc}.btn-tw[_ngcontent-%COMP%]{color:#fff;background-color:#13a5e4}.btn-tw[_ngcontent-%COMP%]:hover{color:#fff;background-color:#59b5fa}@media(max-width:768px){#login-dp[_ngcontent-%COMP%]{background-color:inherit;color:#fff}#login-dp[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{background-color:inherit;border-top:0}}.btn-go[_ngcontent-%COMP%]{color:#fff;background-color:#c12a00}.btn-go[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc4b38}"]],data:{}});function p_(t){return oa(0,[(t()(),ji(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),ji(1,0,null,null,3,"a",[["class","btn btn-link"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.forRegister=!0,r=0!=(i.forLogin=!1)&&r),r},null,null)),(t()(),ji(2,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),na(-1,null,["Join Us "])),(t()(),na(-1,null,["If you are new here"]))],null,null)}function f_(t){return oa(0,[(t()(),ji(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),ji(1,0,null,null,3,"a",[["class","btn btn-link"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.forRegister=!0,r=0!=(i.forLogin=!1)&&r),r},null,null)),(t()(),ji(2,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),na(-1,null,["Join Us "])),(t()(),na(-1,null,["If you are new here"]))],null,null)}function g_(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),na(-1,null,[" Not same password "]))],null,null)}function y_(t){return oa(0,[(t()(),ji(0,0,null,null,132,"div",[["class","card "],["style","width:90%;margin:5%; background-color:#f3f3f3"]],null,null,null,null,null)),(t()(),ji(1,0,null,null,131,"div",[["class","row center "]],null,null,null,null,null)),(t()(),ji(2,0,null,null,14,"div",[["class","col-md-12 col-xs-12 col-lg-6  aMargin"],["style","padding:30px;"]],null,null,null,null,null)),(t()(),ji(3,0,null,null,1,"h2",[["class","text-center font-weight-bold"]],null,null,null,null,null)),(t()(),na(-1,null,["Social Login"])),(t()(),ji(5,0,null,null,11,"div",[["class","text-center btn-group-lg "]],null,null,null,null,null)),(t()(),ji(6,0,null,null,2,"a",[["class","btn btn-fb d-inline-block"],["id","facebook"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.signInWithFacebook()&&r),r},null,null)),(t()(),ji(7,0,null,null,0,"i",[["class","fa fa-facebook"]],null,null,null,null,null)),(t()(),na(-1,null,[" Facebook"])),(t()(),ji(9,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ji(10,0,null,null,2,"a",[["class","btn btn-go d-inline-block"],["id","google"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.signInWithGoogle()&&r),r},null,null)),(t()(),ji(11,0,null,null,0,"i",[["class","fa fa-google-plus"]],null,null,null,null,null)),(t()(),na(-1,null,[" Google"])),(t()(),ji(13,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ji(14,0,null,null,2,"a",[["class","btn btn-tw d-inline-block"],["href","#"]],null,null,null,null,null)),(t()(),ji(15,0,null,null,0,"i",[["class","fa fa-twitter"]],null,null,null,null,null)),(t()(),na(-1,null,[" Twitter"])),(t()(),ji(17,0,null,null,37,"div",[["class","aMargin col-md-12 col-xs-12 col-lg-6"],["style","padding:30px;"]],[[8,"hidden",0]],null,null,null,null)),(t()(),ji(18,0,null,null,1,"h2",[["class","text-center font-weight-bold"]],null,null,null,null,null)),(t()(),na(-1,null,["Account Login"])),(t()(),ji(20,0,null,null,32,"form",[["accept-charset","UTF-8"],["class","form"],["id","login"],["method","post"],["novalidate",""],["role","form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==go(t,22).onSubmit(n)&&r),"reset"===e&&(r=!1!==go(t,22).onReset()&&r),"submit"===e&&(r=!1!==i.onSubmit()&&r),r},null,null)),Io(21,16384,null,0,_m,[],null,null),Io(22,4210688,null,0,nm,[[8,null],[8,null]],null,null),Oo(2048,null,sy,null,[nm]),Io(24,16384,null,0,qy,[[4,sy]],null,null),(t()(),ji(25,0,null,null,10,"div",[["class","form-group"],["style","margin-top:20px;"]],null,null,null,null,null)),(t()(),ji(26,0,null,null,1,"label",[["class","sr-only"],["for","exampleInputEmail2"]],null,null,null,null,null)),(t()(),na(-1,null,["Email address"])),(t()(),ji(28,0,null,null,7,"input",[["class","form-control"],["id","email"],["name","email"],["placeholder","Email address"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==go(t,29)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,29).onTouched()&&r),"compositionstart"===e&&(r=!1!==go(t,29)._compositionStart()&&r),"compositionend"===e&&(r=!1!==go(t,29)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.email=n)&&r),r},null,null)),Io(29,16384,null,0,my,[Dn,Nn,[2,yy]],null,null),Io(30,16384,null,0,fm,[],{required:[0,"required"]},null),Oo(1024,null,ly,function(t){return[t]},[fm]),Oo(1024,null,gy,function(t){return[t]},[my]),Io(33,671744,null,0,am,[[2,sy],[6,ly],[8,null],[6,gy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oo(2048,null,Cy,null,[am]),Io(35,16384,null,0,zy,[[4,Cy]],null,null),(t()(),ji(36,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ji(37,0,null,null,1,"label",[["class","sr-only"],["for","exampleInputPassword2"]],null,null,null,null,null)),(t()(),na(-1,null,["Password"])),(t()(),ji(39,0,null,null,7,"input",[["class","form-control"],["id","password"],["name","password"],["placeholder","Password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==go(t,40)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,40).onTouched()&&r),"compositionstart"===e&&(r=!1!==go(t,40)._compositionStart()&&r),"compositionend"===e&&(r=!1!==go(t,40)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.password=n)&&r),r},null,null)),Io(40,16384,null,0,my,[Dn,Nn,[2,yy]],null,null),Io(41,16384,null,0,fm,[],{required:[0,"required"]},null),Oo(1024,null,ly,function(t){return[t]},[fm]),Oo(1024,null,gy,function(t){return[t]},[my]),Io(44,671744,null,0,am,[[2,sy],[6,ly],[8,null],[6,gy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oo(2048,null,Cy,null,[am]),Io(46,16384,null,0,zy,[[4,Cy]],null,null),(t()(),ji(47,0,null,null,2,"a",[["class","btn btn-link"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.forReset=!0,i.forLogin=!1,r=!1!==(i.resetEmail="")&&r),r},null,null)),(t()(),ji(48,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),na(-1,null,["Forget the password ? "])),(t()(),ji(50,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ji(51,0,null,null,1,"button",[["class","btn btn-outline-primary btn-block"],["type","submit"]],null,null,null,null,null)),(t()(),na(-1,null,["Sign in"])),(t()(),Bi(16777216,null,null,1,null,p_)),Io(54,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(55,0,null,null,27,"div",[["class","aMargin col-md-12 col-xs-12 col-lg-6"],["style","padding:30px;"]],[[8,"hidden",0]],null,null,null,null)),(t()(),ji(56,0,null,null,1,"h2",[["class","text-center font-weight-bold"]],null,null,null,null,null)),(t()(),na(-1,null,["Reset Password"])),(t()(),ji(58,0,null,null,22,"form",[["accept-charset","UTF-8"],["class","form"],["id","resetPassword"],["method","post"],["novalidate",""],["role","form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==go(t,60).onSubmit(n)&&r),"reset"===e&&(r=!1!==go(t,60).onReset()&&r),"submit"===e&&(r=!1!==i.resetPassword()&&r),r},null,null)),Io(59,16384,null,0,_m,[],null,null),Io(60,4210688,null,0,nm,[[8,null],[8,null]],null,null),Oo(2048,null,sy,null,[nm]),Io(62,16384,null,0,qy,[[4,sy]],null,null),(t()(),ji(63,0,null,null,10,"div",[["class","form-group"],["style","margin-top:20px;"]],null,null,null,null,null)),(t()(),ji(64,0,null,null,1,"label",[["class","sr-only"],["for","exampleInputEmail2"]],null,null,null,null,null)),(t()(),na(-1,null,["Email address"])),(t()(),ji(66,0,null,null,7,"input",[["class","form-control"],["id","resetEmail"],["name","email"],["placeholder","Enter your email address"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==go(t,67)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,67).onTouched()&&r),"compositionstart"===e&&(r=!1!==go(t,67)._compositionStart()&&r),"compositionend"===e&&(r=!1!==go(t,67)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.resetEmail=n)&&r),r},null,null)),Io(67,16384,null,0,my,[Dn,Nn,[2,yy]],null,null),Io(68,16384,null,0,fm,[],{required:[0,"required"]},null),Oo(1024,null,ly,function(t){return[t]},[fm]),Oo(1024,null,gy,function(t){return[t]},[my]),Io(71,671744,null,0,am,[[2,sy],[6,ly],[8,null],[6,gy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oo(2048,null,Cy,null,[am]),Io(73,16384,null,0,zy,[[4,Cy]],null,null),(t()(),ji(74,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ji(75,0,null,null,1,"button",[["class","btn btn-outline-primary btn-block"],["type","submit"]],null,null,null,null,null)),(t()(),na(-1,null,["Reset Password"])),(t()(),ji(77,0,null,null,3,"a",[["class","btn btn-link"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.forRegister=!1,i.forReset=!1,r=0!=(i.forLogin=!0)&&r),r},null,null)),(t()(),ji(78,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),na(-1,null,["Login "])),(t()(),na(-1,null,["If you have account"])),(t()(),Bi(16777216,null,null,1,null,f_)),Io(82,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(83,0,null,null,49,"div",[["class","aMargin col-md-12 col-xs-12 col-lg-6"],["style","padding:30px;"]],[[8,"hidden",0]],null,null,null,null)),(t()(),ji(84,0,null,null,1,"h2",[["class","text-center font-weight-bold"]],null,null,null,null,null)),(t()(),na(-1,null,["JOIN US"])),(t()(),ji(86,0,null,null,46,"form",[["accept-charset","UTF-8"],["class","form"],["id","Register"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==go(t,88).onSubmit(n)&&r),"reset"===e&&(r=!1!==go(t,88).onReset()&&r),"submit"===e&&(r=!1!==i.onRegister()&&r),r},null,null)),Io(87,16384,null,0,_m,[],null,null),Io(88,4210688,[["Register",4]],0,nm,[[8,null],[8,null]],null,null),Oo(2048,null,sy,null,[nm]),Io(90,16384,null,0,qy,[[4,sy]],null,null),(t()(),ji(91,0,null,null,10,"div",[["class","form-group"],["style","margin-top:20px;"]],null,null,null,null,null)),(t()(),ji(92,0,null,null,1,"label",[["class","sr-only"],["for","exampleInputEmail2"]],null,null,null,null,null)),(t()(),na(-1,null,["Email address"])),(t()(),ji(94,0,null,null,7,"input",[["class","form-control"],["id","Remail"],["name","Remail"],["placeholder","Email address"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==go(t,95)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,95).onTouched()&&r),"compositionstart"===e&&(r=!1!==go(t,95)._compositionStart()&&r),"compositionend"===e&&(r=!1!==go(t,95)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.rEmail=n)&&r),r},null,null)),Io(95,16384,null,0,my,[Dn,Nn,[2,yy]],null,null),Io(96,16384,null,0,fm,[],{required:[0,"required"]},null),Oo(1024,null,ly,function(t){return[t]},[fm]),Oo(1024,null,gy,function(t){return[t]},[my]),Io(99,671744,null,0,am,[[2,sy],[6,ly],[8,null],[6,gy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oo(2048,null,Cy,null,[am]),Io(101,16384,null,0,zy,[[4,Cy]],null,null),(t()(),ji(102,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ji(103,0,null,null,1,"label",[["class","sr-only"],["for","exampleInputPassword2"]],null,null,null,null,null)),(t()(),na(-1,null,["Password"])),(t()(),ji(105,0,null,null,7,"input",[["class","form-control"],["id","Rpassword"],["name","p1"],["placeholder","Password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==go(t,106)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,106).onTouched()&&r),"compositionstart"===e&&(r=!1!==go(t,106)._compositionStart()&&r),"compositionend"===e&&(r=!1!==go(t,106)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.rPassword=n)&&r),"keyup"===e&&(r=!1!==i.onChange()&&r),r},null,null)),Io(106,16384,null,0,my,[Dn,Nn,[2,yy]],null,null),Io(107,16384,null,0,fm,[],{required:[0,"required"]},null),Oo(1024,null,ly,function(t){return[t]},[fm]),Oo(1024,null,gy,function(t){return[t]},[my]),Io(110,671744,[["Rpassword",4]],0,am,[[2,sy],[6,ly],[8,null],[6,gy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oo(2048,null,Cy,null,[am]),Io(112,16384,null,0,zy,[[4,Cy]],null,null),(t()(),ji(113,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ji(114,0,null,null,1,"label",[["class","sr-only"],["for","exampleInputPassword2"]],null,null,null,null,null)),(t()(),na(-1,null,["Confirm Password"])),(t()(),ji(116,0,null,null,7,"input",[["class","form-control"],["id","Rcpassword"],["name","p2"],["placeholder","Confirm Password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==go(t,117)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,117).onTouched()&&r),"compositionstart"===e&&(r=!1!==go(t,117)._compositionStart()&&r),"compositionend"===e&&(r=!1!==go(t,117)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.rcPassword=n)&&r),"keyup"===e&&(r=!1!==i.onChange()&&r),r},null,null)),Io(117,16384,null,0,my,[Dn,Nn,[2,yy]],null,null),Io(118,16384,null,0,fm,[],{required:[0,"required"]},null),Oo(1024,null,ly,function(t){return[t]},[fm]),Oo(1024,null,gy,function(t){return[t]},[my]),Io(121,671744,[["Rcpassword",4]],0,am,[[2,sy],[6,ly],[8,null],[6,gy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oo(2048,null,Cy,null,[am]),Io(123,16384,null,0,zy,[[4,Cy]],null,null),(t()(),Bi(16777216,null,null,1,null,g_)),Io(125,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(126,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ji(127,0,null,null,1,"button",[["class","btn btn-outline-primary btn-block font-weight-bold"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(t()(),na(-1,null,["Join Us"])),(t()(),ji(129,0,null,null,3,"a",[["class","btn btn-link"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.forRegister=!1,r=0!=(i.forLogin=!0)&&r),r},null,null)),(t()(),ji(130,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),na(-1,null,["Login "])),(t()(),na(-1,null,["If you have account"]))],function(t,e){var n=e.component;t(e,30,0,""),t(e,33,0,"email",n.email),t(e,41,0,""),t(e,44,0,"password",n.password),t(e,54,0,"true"==n.canRegister),t(e,68,0,""),t(e,71,0,"email",n.resetEmail),t(e,82,0,"true"==n.canRegister&&1==n.forLogin),t(e,96,0,""),t(e,99,0,"Remail",n.rEmail),t(e,107,0,""),t(e,110,0,"p1",n.rPassword),t(e,118,0,""),t(e,121,0,"p2",n.rcPassword),t(e,125,0,(go(e,121).dirty||go(e,121).touched)&&go(e,121).value!=go(e,110).value)},function(t,e){var n=e.component;t(e,17,0,!n.forLogin),t(e,20,0,go(e,24).ngClassUntouched,go(e,24).ngClassTouched,go(e,24).ngClassPristine,go(e,24).ngClassDirty,go(e,24).ngClassValid,go(e,24).ngClassInvalid,go(e,24).ngClassPending),t(e,28,0,go(e,30).required?"":null,go(e,35).ngClassUntouched,go(e,35).ngClassTouched,go(e,35).ngClassPristine,go(e,35).ngClassDirty,go(e,35).ngClassValid,go(e,35).ngClassInvalid,go(e,35).ngClassPending),t(e,39,0,go(e,41).required?"":null,go(e,46).ngClassUntouched,go(e,46).ngClassTouched,go(e,46).ngClassPristine,go(e,46).ngClassDirty,go(e,46).ngClassValid,go(e,46).ngClassInvalid,go(e,46).ngClassPending),t(e,55,0,!n.forReset),t(e,58,0,go(e,62).ngClassUntouched,go(e,62).ngClassTouched,go(e,62).ngClassPristine,go(e,62).ngClassDirty,go(e,62).ngClassValid,go(e,62).ngClassInvalid,go(e,62).ngClassPending),t(e,66,0,go(e,68).required?"":null,go(e,73).ngClassUntouched,go(e,73).ngClassTouched,go(e,73).ngClassPristine,go(e,73).ngClassDirty,go(e,73).ngClassValid,go(e,73).ngClassInvalid,go(e,73).ngClassPending),t(e,83,0,!n.forRegister),t(e,86,0,go(e,90).ngClassUntouched,go(e,90).ngClassTouched,go(e,90).ngClassPristine,go(e,90).ngClassDirty,go(e,90).ngClassValid,go(e,90).ngClassInvalid,go(e,90).ngClassPending),t(e,94,0,go(e,96).required?"":null,go(e,101).ngClassUntouched,go(e,101).ngClassTouched,go(e,101).ngClassPristine,go(e,101).ngClassDirty,go(e,101).ngClassValid,go(e,101).ngClassInvalid,go(e,101).ngClassPending),t(e,105,0,go(e,107).required?"":null,go(e,112).ngClassUntouched,go(e,112).ngClassTouched,go(e,112).ngClassPristine,go(e,112).ngClassDirty,go(e,112).ngClassValid,go(e,112).ngClassInvalid,go(e,112).ngClassPending),t(e,116,0,go(e,118).required?"":null,go(e,123).ngClassUntouched,go(e,123).ngClassTouched,go(e,123).ngClassPristine,go(e,123).ngClassDirty,go(e,123).ngClassValid,go(e,123).ngClassInvalid,go(e,123).ngClassPending),t(e,127,0,!go(e,88).form.valid||!n.equal)})}var m_=ro("app-login",Mv,function(t){return oa(0,[(t()(),ji(0,0,null,null,1,"app-login",[],null,null,null,y_,d_)),Io(1,4308992,null,0,Mv,[Dv,Pl,dp,Xv,Em,Nv],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),v_=ui({encapsulation:0,styles:[[""]],data:{}});function __(t){return oa(0,[(t()(),ji(0,0,null,null,22,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==go(t,2).onSubmit(n)&&r),"reset"===e&&(r=!1!==go(t,2).onReset()&&r),"submit"===e&&(r=!1!==i.mySubmit()&&r),r},null,null)),Io(1,16384,null,0,_m,[],null,null),Io(2,4210688,null,0,nm,[[8,null],[8,null]],null,null),Oo(2048,null,sy,null,[nm]),Io(4,16384,null,0,qy,[[4,sy]],null,null),(t()(),ji(5,0,null,null,17,"div",[["class","container"]],null,null,null,null,null)),(t()(),ji(6,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(t()(),ji(7,0,null,null,15,"div",[["class","offset-xs-1 offset-sm-2 offset-md-3 offset-lg-4 col-md-6 col-sm-8 col-xs-10 col-lg-4"]],null,null,null,null,null)),(t()(),ji(8,0,null,null,3,"label",[["class","btn btn-warning btn-block"]],null,null,null,null,null)),(t()(),ji(9,0,null,null,0,"input",[["class","form-control"],["name","canRegister"],["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.register()&&r),r},null,null)),(t()(),ji(10,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),na(-1,null,["Open Registeration"])),(t()(),ji(12,0,null,null,3,"label",[["class","btn btn-warning btn-block"]],null,null,null,null,null)),(t()(),ji(13,0,null,null,0,"input",[["class","form-control"],["name","Option3"],["type","checkbox"]],null,null,null,null,null)),(t()(),ji(14,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),na(-1,null,["Other Option 1"])),(t()(),ji(16,0,null,null,3,"label",[["class","btn embed-responsive-4by3 btn-warning btn-block"]],null,null,null,null,null)),(t()(),ji(17,0,null,null,0,"input",[["class","form-control"],["name","Option2"],["type","checkbox"]],null,null,null,null,null)),(t()(),ji(18,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),na(-1,null,["Other Option 2"])),(t()(),ji(20,0,null,null,2,"button",[["class","btn embed-responsive btn-block btn-info"],["type","submit"]],null,null,null,null,null)),(t()(),ji(21,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),na(-1,null,["Save"]))],null,function(t,e){var n=e.component;t(e,0,0,go(e,4).ngClassUntouched,go(e,4).ngClassTouched,go(e,4).ngClassPristine,go(e,4).ngClassDirty,go(e,4).ngClassValid,go(e,4).ngClassInvalid,go(e,4).ngClassPending),t(e,9,0,n.setting.canRegister)})}var b_=ro("app-settings",Lv,function(t){return oa(0,[(t()(),ji(0,0,null,null,1,"app-settings",[],null,null,null,__,v_)),Io(1,114688,null,0,Lv,[Nv,dp,Xv],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]);class w_{constructor(t,e,n,r){this.snotify=t,this.empService=e,this.router=n,this._route=r,this.employee={}}ngOnInit(){this.id=this._route.snapshot.params.id}editClick(){this.router.navigate(["/add-employee"],{queryParams:{id:this.id}})}deleteClick(){this.snotify.confirm("Alert !!! Delete Employment??","Employee",{animation:{enter:"fadeIn",exit:"fadeOut",time:1e3},position:ks.centerCenter,buttons:[{text:"ok",action:()=>{this.empService.getEmployee(this.id).subscribe(t=>{let e=t.payload.val();this.empService.deleteEmployee(this.id,e.image?e.image:null)}),this.snotify.remove(),this.snotify.success("Employee Deleted Successfully.","Employees",{showProgressBar:!1,position:ks.rightTop,timeout:2e3}),this.router.navigate(["up"])}},{text:"Cancel",action:()=>this.snotify.remove()}]})}}var C_=ui({encapsulation:0,styles:[["a[_ngcontent-%COMP%]{margin:10px;padding:5px;min-width:213px}"]],data:{}});function E_(t){return oa(0,[(t()(),ji(0,0,null,null,19,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),ji(1,0,null,null,4,"a",[["class","btn btn-warning"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==go(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Io(2,671744,null,0,gp,[dp,Ad,Ys],{routerLink:[0,"routerLink"]},null),(t()(),ji(3,0,null,null,2,"h5",[],null,null,null,null,null)),(t()(),ji(4,0,null,null,0,"i",[["class","fa fa-arrow-circle-left"]],null,null,null,null,null)),(t()(),na(-1,null,["Back To Dashboard"])),(t()(),ji(6,0,null,null,4,"a",[["class","btn btn-warning"],["routerLink","/add-employee"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==go(t,7).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Io(7,671744,null,0,gp,[dp,Ad,Ys],{routerLink:[0,"routerLink"]},null),(t()(),ji(8,0,null,null,2,"h5",[],null,null,null,null,null)),(t()(),ji(9,0,null,null,0,"i",[["class","fa fa-user-circle"]],null,null,null,null,null)),(t()(),na(-1,null,["New Employee "])),(t()(),ji(11,0,null,null,4,"a",[["class","btn btn-warning"],["routerLink","/add-employee"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==go(t,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==i.editClick()&&r),r},null,null)),Io(12,671744,null,0,gp,[dp,Ad,Ys],{routerLink:[0,"routerLink"]},null),(t()(),ji(13,0,null,null,2,"h5",[],null,null,null,null,null)),(t()(),ji(14,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null)),(t()(),na(-1,null,[" Edit Employee "])),(t()(),ji(16,0,null,null,3,"a",[["class","btn btn-warning"],["style","color:#212529"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.deleteClick()&&r),r},null,null)),(t()(),ji(17,0,null,null,2,"h5",[],null,null,null,null,null)),(t()(),ji(18,0,null,null,0,"i",[["class","fa fa-trash-o"]],null,null,null,null,null)),(t()(),na(-1,null,[" Delete Employee "]))],function(t,e){t(e,2,0,"/"),t(e,7,0,"/add-employee"),t(e,12,0,"/add-employee")},function(t,e){t(e,1,0,go(e,2).target,go(e,2).href),t(e,6,0,go(e,7).target,go(e,7).href),t(e,11,0,go(e,12).target,go(e,12).href)})}var S_=ui({encapsulation:0,styles:[["div.float-left[_ngcontent-%COMP%]{margin:15px}.my-auto[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}"]],data:{}});function k_(t){return oa(0,[(t()(),ji(0,0,null,null,0,"img",[["class","rounded-circle pull-right small"],["height","70px"],["width","70px"]],[[8,"src",4]],null,null,null,null))],null,function(t,e){t(e,0,0,Li(1,"",e.component.employee.image,""))})}function A_(t){return oa(0,[(t()(),ji(0,0,null,null,45,null,null,null,null,null,null,null)),(t()(),ji(1,0,null,null,44,"div",[["class","card text-white bg-dark mb-3"]],null,null,null,null,null)),(t()(),ji(2,0,null,null,4,"div",[["class","align-middle lead card-header"]],null,null,null,null,null)),(t()(),ji(3,0,null,null,3,"h3",[],null,null,null,null,null)),(t()(),na(4,null,["","",""," "])),(t()(),Bi(16777216,null,null,1,null,k_)),Io(6,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(7,0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(t()(),ji(8,0,null,null,34,"div",[["class","col-md-9"]],null,null,null,null,null)),(t()(),ji(9,0,null,null,33,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),ji(10,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(t()(),ji(11,0,null,null,12,"div",[["class","col-md-5"]],null,null,null,null,null)),(t()(),ji(12,0,null,null,3,"div",[["class","float-left"]],null,null,null,null,null)),(t()(),ji(13,0,null,null,2,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),ji(14,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),na(15,null,["First Name : "," "])),(t()(),ji(16,0,null,null,3,"div",[["class","float-left"]],null,null,null,null,null)),(t()(),ji(17,0,null,null,2,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),ji(18,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),na(19,null,["Last Name : "," "])),(t()(),ji(20,0,null,null,3,"div",[["class","float-left"]],null,null,null,null,null)),(t()(),ji(21,0,null,null,2,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),ji(22,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),na(23,null,["Country : "," "])),(t()(),ji(24,0,null,null,18,"div",[["class","col-md-7"]],null,null,null,null,null)),(t()(),ji(25,0,null,null,3,"div",[["class","float-left"]],null,null,null,null,null)),(t()(),ji(26,0,null,null,2,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),ji(27,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),na(28,null,["Phone : "," "])),(t()(),ji(29,0,null,null,5,"div",[["class","float-left"]],null,null,null,null,null)),(t()(),ji(30,0,null,null,4,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),ji(31,0,null,null,3,"h5",[],null,null,null,null,null)),(t()(),na(-1,null,["Salary : "])),(t()(),ji(33,0,null,null,1,"span",[],[[2,"text-warning",null],[2,"text-success",null],[2,"text-danger",null]],null,null,null,null)),(t()(),na(34,null,[""," "])),(t()(),ji(35,0,null,null,3,"div",[["class","float-left"]],null,null,null,null,null)),(t()(),ji(36,0,null,null,2,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),ji(37,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),na(38,null,["Email : "," "])),(t()(),ji(39,0,null,null,3,"div",[["class","float-left"]],null,null,null,null,null)),(t()(),ji(40,0,null,null,2,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),ji(41,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),na(42,null,["City : "," "])),(t()(),ji(43,0,null,null,2,"div",[["class","col-md-3  text-white "]],null,null,null,null,null)),(t()(),ji(44,0,null,null,1,"app-sidebar",[],null,null,null,E_,C_)),Io(45,114688,null,0,w_,[Ss,Zg,dp,Ad],null,null)],function(t,e){t(e,6,0,e.component.employee.image),t(e,45,0)},function(t,e){var n=e.component;t(e,4,0,n.employee.firstName," ",n.employee.lastName),t(e,15,0,n.employee.firstName),t(e,19,0,n.employee.lastName),t(e,23,0,n.employee.country),t(e,28,0,n.employee.phone),t(e,33,0,n.employee.salary>1e3&&n.employee.salary<5e3,n.employee.salary>5e3,n.employee.salary<1e3),t(e,34,0,n.employee.salary),t(e,38,0,n.employee.email),t(e,42,0,n.employee.city)})}function T_(t){return oa(0,[(t()(),ji(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),na(-1,null,["Loading.........................."]))],null,null)}function I_(t){return oa(0,[(t()(),ji(0,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,A_)),Io(2,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Bi(0,[["elseTemplate",2]],null,0,null,T_))],function(t,e){t(e,2,0,e.component.employee.$key,go(e,3))},null)}var R_=ro("app-employee-info",ey,function(t){return oa(0,[(t()(),ji(0,0,null,null,1,"app-employee-info",[],null,null,null,I_,S_)),Io(1,114688,null,0,ey,[Zg,Ad],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]);class O_{constructor(t){this.empService=t,this.employees=[],this.totalEmployees=0,this.totalSalaries=0,setTimeout(()=>{this.empService.empList.snapshotChanges().subscribe(t=>{this.employees=[],this.totalEmployees=0,this.totalSalaries=0,t.forEach(t=>{let e=t.payload.toJSON();e.$key=t.key,this.employees.push(e),this.totalEmployees+=1,this.totalSalaries+=parseFloat(e.salary.toString())})})},200)}ngOnInit(){}}var P_=ui({encapsulation:0,styles:[["td[_ngcontent-%COMP%]{vertical-align:middle}.leftRemove[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}.first[_ngcontent-%COMP%]{position:absolute;z-index:1001}.second[_ngcontent-%COMP%]{position:absolute;z-index:1200;font-size:32px}.mytop[_ngcontent-%COMP%]{position:fixed;top:auto;right:0;left:0;z-index:1030}label[_ngcontent-%COMP%]{font-size:18px;font-weight:700;padding:3px}input[_ngcontent-%COMP%]{font-size:20px;font-weight:700;padding:10px}"]],data:{}});function D_(t){return oa(0,[(t()(),ji(0,0,null,null,12,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),ji(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),na(2,null,["",""])),(t()(),ji(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),na(4,null,["",""])),(t()(),ji(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),na(6,null,["",""])),(t()(),ji(7,0,null,null,5,"td",[],null,null,null,null,null)),(t()(),ji(8,0,null,null,4,"a",[["class","fire btn btn-primary"],["style","margin-top:-2px;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==go(t,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Io(9,671744,null,0,gp,[dp,Ad,Ys],{routerLink:[0,"routerLink"]},null),Zo(10,2),(t()(),na(-1,null,["More "])),(t()(),ji(12,0,null,null,0,"i",[["class","fa fa-info-circle"]],null,null,null,null,null))],function(t,e){t(e,9,0,t(e,10,0,"/employee",e.context.$implicit.$key))},function(t,e){t(e,2,0,e.context.$implicit.firstName),t(e,4,0,e.context.$implicit.lastName),t(e,6,0,e.context.$implicit.email),t(e,8,0,go(e,9).target,go(e,9).href)})}function N_(t){return oa(0,[(t()(),ji(0,0,null,null,13,null,null,null,null,null,null,null)),(t()(),ji(1,0,null,null,12,"table",[["class","table table-dark table-responsive-md"]],null,null,null,null,null)),(t()(),ji(2,0,null,null,8,"thead",[],null,null,null,null,null)),(t()(),ji(3,0,null,null,7,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),ji(4,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),na(-1,null,["First Name"])),(t()(),ji(6,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),na(-1,null,["Last Name"])),(t()(),ji(8,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),na(-1,null,["Email"])),(t()(),ji(10,0,null,null,0,"th",[["class","display-10"]],null,null,null,null,null)),(t()(),ji(11,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,D_)),Io(13,278528,null,0,Au,[qn,zn,lr],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,13,0,e.component.employees)},null)}function x_(t){return oa(0,[(t()(),ji(0,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),na(-1,null,["Waitting for Employees......."]))],null,null)}function M_(t){return oa(0,[Ro(0,el,[gr]),(t()(),ji(1,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(t()(),ji(2,0,null,null,3,"div",[["class","col-sm-6 "]],null,null,null,null,null)),(t()(),ji(3,0,null,null,2,"h4",[],null,null,null,null,null)),(t()(),ji(4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-users"]],null,null,null,null,null)),(t()(),na(5,null,[" Total Employees : "," "])),(t()(),ji(6,0,null,null,4,"div",[["class","col-sm-6 leftRemove"]],null,null,null,null,null)),(t()(),ji(7,0,null,null,3,"h4",[["class","pull-right "]],null,null,null,null,null)),(t()(),ji(8,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-money"]],null,null,null,null,null)),(t()(),na(9,null,[" Total Salaries : "," "])),Jo(10,3),(t()(),ji(11,0,null,null,4,"a",[["class","btn btn-warning"],["routerLink","/add-employee"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==go(t,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Io(12,671744,null,0,gp,[dp,Ad,Ys],{routerLink:[0,"routerLink"]},null),(t()(),ji(13,0,null,null,2,"h5",[],null,null,null,null,null)),(t()(),ji(14,0,null,null,0,"i",[["class","fa fa-plus-circle"]],null,null,null,null,null)),(t()(),na(-1,null,[" New Employee "])),(t()(),Bi(16777216,null,null,1,null,N_)),Io(17,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Bi(0,[["elseTemplate",2]],null,0,null,x_))],function(t,e){var n=e.component;t(e,12,0,"/add-employee"),t(e,17,0,n.employees.length>0,go(e,18))},function(t,e){var n=e.component;t(e,5,0,n.totalEmployees),t(e,9,0,oi(e,9,0,t(e,10,0,go(e,0),n.totalSalaries,"USD","symbol"))),t(e,11,0,go(e,12).target,go(e,12).href)})}var L_=ui({encapsulation:0,styles:[[""]],data:{}});function F_(t){return oa(0,[(t()(),ji(0,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),ji(1,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),ji(2,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),ji(3,0,null,null,1,"app-employees",[],null,null,null,M_,P_)),Io(4,114688,null,0,O_,[Zg],null,null)],function(t,e){t(e,4,0)},null)}var B_=ro("app-dashboard",ty,function(t){return oa(0,[(t()(),ji(0,0,null,null,1,"app-dashboard",[],null,null,null,F_,L_)),Io(1,114688,null,0,ty,[Zg],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]);class j_{}class U_{}const V_="*";function z_(t,e=null){return{type:2,steps:t,options:e}}function q_(t){return{type:6,styles:t,offset:null}}function H_(t){Promise.resolve(null).then(t)}class G_{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){H_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class K_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?H_(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const W_="!";function Q_(t){return null!=t&&"false"!==`${t}`}function $_(t){return null==t?"":"string"==typeof t?t:`${t}px`}const Y_="undefined"!=typeof Intl&&Intl.v8BreakIterator;class X_{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(t){return t===ol}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Y_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}let J_,Z_;function tb(){if(null==J_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>J_=!0}))}finally{J_=J_||!1}return J_}X_.ngInjectableDef=st({factory:function(){return new X_(ne(Ue,8))},token:X_,providedIn:"root"});const eb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function nb(){if(Z_)return Z_;if("object"!=typeof document||!document)return Z_=new Set(eb);let t=document.createElement("input");return Z_=new Set(eb.filter(e=>(t.setAttribute("type",e),t.type===e)))}class rb{}const ib=9,ob=13,ab=27,sb=32,ub=37,lb=38,cb=39,hb=40,db=48,pb=57,fb=65,gb=90;function yb(t,e=Wp){return n=>n.lift(new mb(t,e))}class mb{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new vb(t,this.dueTime,this.scheduler))}}class vb extends v{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_b,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function _b(t){t.debouncedNext()}const bb=" ";function wb(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const Cb="cdk-describedby-message-container",Eb="cdk-describedby-message",Sb="cdk-describedby-host";let kb=0;const Ab=new Map;let Tb=null;class Ib{constructor(t){this._document=t}describe(t,e){this._canBeDescribed(t,e)&&(Ab.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(!this._canBeDescribed(t,e))return;this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e);const n=Ab.get(e);n&&0===n.referenceCount&&this._deleteMessageElement(e),Tb&&0===Tb.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll(`[${Sb}]`);for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute(Sb);Tb&&this._deleteMessagesContainer(),Ab.clear()}_createMessageElement(t){const e=this._document.createElement("div");e.setAttribute("id",`${Eb}-${kb++}`),e.appendChild(this._document.createTextNode(t)),this._createMessagesContainer(),Tb.appendChild(e),Ab.set(t,{messageElement:e,referenceCount:0})}_deleteMessageElement(t){const e=Ab.get(t),n=e&&e.messageElement;Tb&&n&&Tb.removeChild(n),Ab.delete(t)}_createMessagesContainer(){if(!Tb){const t=this._document.getElementById(Cb);t&&t.parentNode.removeChild(t),(Tb=this._document.createElement("div")).id=Cb,Tb.setAttribute("aria-hidden","true"),Tb.style.display="none",this._document.body.appendChild(Tb)}}_deleteMessagesContainer(){Tb&&Tb.parentNode&&(Tb.parentNode.removeChild(Tb),Tb=null)}_removeCdkDescribedByReferenceIds(t){const e=wb(t,"aria-describedby").filter(t=>0!=t.indexOf(Eb));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=Ab.get(e);!function(t,e,n){const r=wb(t,e);r.some(t=>t.trim()==n.trim())||(r.push(n.trim()),t.setAttribute(e,r.join(bb)))}(t,"aria-describedby",n.messageElement.id),t.setAttribute(Sb,""),n.referenceCount++}_removeMessageReference(t,e){const n=Ab.get(e);n.referenceCount--,function(t,e,n){const r=wb(t,e).filter(t=>t!=n.trim());t.setAttribute(e,r.join(bb))}(t,"aria-describedby",n.messageElement.id),t.removeAttribute(Sb)}_isElementDescribedByMessage(t,e){const n=wb(t,"aria-describedby"),r=Ab.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(t,e){return t.nodeType===this._document.ELEMENT_NODE&&null!=e&&!!`${e}`.trim()}}Ib.ngInjectableDef=st({factory:function(){return new Ib(ne(il))},token:Ib,providedIn:"root"});class Rb{constructor(t){this._items=t,this._activeItemIndex=-1,this._wrap=!1,this._letterKeyStream=new R,this._typeaheadSubscription=g.EMPTY,this._vertical=!0,this._skipPredicateFn=(t=>t.disabled),this._pressedLetters=[],this.tabOut=new R,this.change=new R,t instanceof Mn&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Us(t=>this._pressedLetters.push(t)),yb(t),gl(()=>this._pressedLetters.length>0),q(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode;switch(e){case ib:return void this.tabOut.next();case hb:if(this._vertical){this.setNextItemActive();break}return;case lb:if(this._vertical){this.setPreviousItemActive();break}return;case cb:if("ltr"===this._horizontal){this.setNextItemActive();break}if("rtl"===this._horizontal){this.setPreviousItemActive();break}return;case ub:if("ltr"===this._horizontal){this.setPreviousItemActive();break}if("rtl"===this._horizontal){this.setNextItemActive();break}return;default:return void(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=fb&&e<=gb||e>=db&&e<=pb)&&this._letterKeyStream.next(String.fromCharCode(e)))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t);this._activeItemIndex=n,this._activeItem=e[n]}updateActiveItemIndex(t){this.updateActiveItem(t)}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Mn?this._items.toArray():this._items}}class Ob extends Rb{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Pb{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(t){return null}}(t.ownerDocument.defaultView||window);if(e){const t=e&&e.nodeName.toLowerCase();if(-1===Nb(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let n=t.nodeName.toLowerCase(),r=Nb(t);if(t.hasAttribute("contenteditable"))return-1!==r;if("iframe"===n)return!1;if("audio"===n){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===n){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==n||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Db(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}function Db(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Nb(t){if(!Db(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}Pb.ngInjectableDef=st({factory:function(){return new Pb(ne(X_))},token:Pb,providedIn:"root"});class xb{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._startAnchor.tabIndex=this._endAnchor.tabIndex=this._enabled?0:-1)}destroy(){this._startAnchor&&this._startAnchor.parentNode&&this._startAnchor.parentNode.removeChild(this._startAnchor),this._endAnchor&&this._endAnchor.parentNode&&this._endAnchor.parentNode.removeChild(this._endAnchor),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",()=>this.focusLastTabbableElement())),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",()=>this.focusFirstTabbableElement()))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 7.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 7.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 7.0.0",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return t.tabIndex=this._enabled?0:-1,t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Fs(1)).subscribe(t)}}class Mb{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new xb(t,this._checker,this._ngZone,this._document,e)}}Mb.ngInjectableDef=st({factory:function(){return new Mb(ne(Pb),ne(un),ne(il))},token:Mb,providedIn:"root"});const Lb=new ut("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}});class Fb{constructor(t,e){this._document=e,this._liveElement=t||this._createLiveElement()}announce(t,e="polite"){return this._liveElement.textContent="",this._liveElement.setAttribute("aria-live",e),new Promise(e=>{setTimeout(()=>{this._liveElement.textContent=t,e()},100)})}ngOnDestroy(){this._liveElement&&this._liveElement.parentNode&&this._liveElement.parentNode.removeChild(this._liveElement)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);const e=this._document.createElement("div");return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}Fb.ngInjectableDef=st({factory:function(){return new Fb(ne(Lb,8),ne(il))},token:Fb,providedIn:"root"});const Bb=650;class jb{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._unregisterGlobalListeners=(()=>{}),this._monitoredElementCount=0}monitor(t,e=!1){if(!this._platform.isBrowser)return Hs(null);if(this._elementInfo.has(t)){let n=this._elementInfo.get(t);return n.checkChildren=e,n.subject.asObservable()}let n={unlisten:()=>{},checkChildren:e,subject:new R};this._elementInfo.set(t,n),this._incrementMonitoredElementCount();let r=e=>this._onFocus(e,t),i=e=>this._onBlur(e,t);return this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",r,!0),t.addEventListener("blur",i,!0)}),n.unlisten=(()=>{t.removeEventListener("focus",r,!0),t.removeEventListener("blur",i,!0)}),n.subject.asObservable()}stopMonitoring(t){const e=this._elementInfo.get(t);e&&(e.unlisten(),e.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._decrementMonitoredElementCount())}focusVia(t,e,n){this._setOriginForCurrentEventQueue(e),"function"==typeof t.focus&&t.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_registerGlobalListeners(){if(!this._platform.isBrowser)return;let t=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},e=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},n=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,Bb)},r=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",t,!0),document.addEventListener("mousedown",e,!0),document.addEventListener("touchstart",n,!tb()||{passive:!0,capture:!0}),window.addEventListener("focus",r)}),this._unregisterGlobalListeners=(()=>{document.removeEventListener("keydown",t,!0),document.removeEventListener("mousedown",e,!0),document.removeEventListener("touchstart",n,!tb()||{passive:!0,capture:!0}),window.removeEventListener("focus",r),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)})}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._registerGlobalListeners()}_decrementMonitoredElementCount(){--this._monitoredElementCount||(this._unregisterGlobalListeners(),this._unregisterGlobalListeners=(()=>{}))}}jb.ngInjectableDef=st({factory:function(){return new jb(ne(un),ne(X_))},token:jb,providedIn:"root"});class Ub{}Ub.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Ub.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Ub.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Ub.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";class Vb{}Vb.COMPLEX="375ms",Vb.ENTERING="225ms",Vb.EXITING="195ms";const zb=new ut("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class qb{constructor(t){this._sanityChecksEnabled=t,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&Cn()&&!this._isTestEnv()}_isTestEnv(){return this._window&&(this._window.__karma__||this._window.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(this._areChecksEnabled()&&!this._window.Hammer&&console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}class Hb{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}Hb.ngInjectableDef=st({factory:function(){return new Hb},token:Hb,providedIn:"root"});const Gb=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class Kb{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=Gb.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Wb={enterDuration:450,exitDuration:400},Qb=800;class $b{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._eventOptions=!!tb()&&{passive:!0},this.onMousedown=(t=>{const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Qb;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}),this.onTouchStart=(t=>{this._target.rippleDisabled||(this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0,this.fadeInRipple(t.touches[0].clientX,t.touches[0].clientY,this._target.rippleConfig))}),this.onPointerUp=(()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===Gb.VISIBLE||t.config.terminateOnPointerUp&&t.state===Gb.FADING_IN)&&t.fadeOut()}))}),r.isBrowser&&(this._containerElement=n.nativeElement,this._triggerEvents.set("mousedown",this.onMousedown),this._triggerEvents.set("mouseup",this.onPointerUp),this._triggerEvents.set("mouseleave",this.onPointerUp),this._triggerEvents.set("touchstart",this.onTouchStart),this._triggerEvents.set("touchend",this.onPointerUp))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign({},Wb,n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),a=t-r.left,s=e-r.top,u=i.enterDuration/(n.speedFactor||1),l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=`${a-o}px`,l.style.top=`${s-o}px`,l.style.height=`${2*o}px`,l.style.width=`${2*o}px`,l.style.backgroundColor=n.color||null,l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const c=new Kb(this,l,n);return c.state=Gb.FADING_IN,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this.runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=Gb.VISIBLE,n.persistent||t&&this._isPointerDown||c.fadeOut()},u),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign({},Wb,t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=Gb.FADING_OUT,this.runTimeoutOutsideZone(()=>{t.state=Gb.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((e,n)=>t.addEventListener(n,e,this._eventOptions))}),this._triggerElement=t)}runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,this._eventOptions)})}}const Yb=new ut("mat-ripple-global-options");class Xb{constructor(t,e,n,r,i){this._elementRef=t,this.radius=0,this.speedFactor=1,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new $b(this,e,t,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp,speedFactor:this.speedFactor*(this._globalOptions.baseSpeedFactor||1)}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}class Jb{}class Zb{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}class tw{}const ew=function(t){return class extends class{}{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Q_(t)}}}();let nw=0;class rw extends ew{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${nw++}`}}let iw=0;class ow{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const aw=new ut("MAT_OPTION_PARENT_COMPONENT");class sw{constructor(t,e,n,r){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${iw++}`,this.onSelectionChange=new sn,this._stateChanges=new R}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Q_(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(){const t=this._getHostElement();"function"==typeof t.focus&&t.focus()}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){t.keyCode!==ob&&t.keyCode!==sb||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new ow(this,t))}}class uw{}const lw=new ut("mat-label-global-options");function cw(t,e,n,i){return r(n)&&(i=n,n=void 0),i?cw(t,e,n).pipe(q(t=>u(t)?i(...t):i(t))):new S(r=>{!function t(e,n,r,i,o){let a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),a=(()=>t.removeEventListener(n,r,o))}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),a=(()=>t.off(n,r))}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),a=(()=>t.removeListener(n,r))}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let a=0,s=e.length;a<s;a++)t(e[a],n,r,i,o)}i.add(a)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}Object;class hw{}function dw(t){return Error(`A hint was already declared for 'align="${t}"'.`)}class pw{}let fw=0;const gw=.75,yw=5,mw=class extends class{constructor(t){this._elementRef=t}}{get color(){return this._color}set color(t){const e=t||"primary";e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}constructor(...t){super(...t),this.color="primary"}},vw=new ut("MAT_FORM_FIELD_DEFAULT_OPTIONS");class _w extends mw{constructor(t,e,n,r,i,o,a,s){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeeded=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${fw++}`,this._labelId=`mat-form-field-label-${fw++}`,this._labelOptions=n||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==s,this.appearance=i&&i.appearance?i.appearance:"legacy"}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._ngZone?this._ngZone.onStable.pipe(Fs(1)).subscribe(()=>{this._ngZone.runOutsideAngular(()=>this.updateOutlineGap())}):Promise.resolve().then(()=>this.updateOutlineGap()))}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Q_(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild(),this._control.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${this._control.controlType}`),this._control.stateChanges.pipe(Sm(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Z(this._control.ngControl&&this._control.ngControl.valueChanges||Ms,this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>this._changeDetectorRef.markForCheck()),this._hintChildren.changes.pipe(Sm(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Sm(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeeded&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,cw(this._label.nativeElement,"transitionend").pipe(Fs(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw dw("start");t=n}else if("end"===n.align){if(e)throw dw("end");e=n}})}}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(this._platform&&!this._platform.isBrowser)return;if(!document.documentElement.contains(this._elementRef.nativeElement))return void(this._outlineGapCalculationNeeded=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement.querySelectorAll(".mat-form-field-outline-start"),i=this._connectionContainerRef.nativeElement.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=this._getStartEnd(this._connectionContainerRef.nativeElement.getBoundingClientRect()),i=this._getStartEnd(t.children[0].getBoundingClientRect());let o=0;for(const e of t.children)o+=e.offsetWidth;e=i-r-yw,n=o>0?o*gw+2*yw:0}for(let o=0;o<r.length;o++)r.item(o).style.width=`${e}px`;for(let o=0;o<i.length;o++)i.item(o).style.width=`${n}px`;this._outlineGapCalculationNeeded=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}}class bw{}const ww=new ut("cdk-dir-doc",{providedIn:"root",factory:function(){return ne(il)}});class Cw{constructor(t){if(this.value="ltr",this.change=new sn,t){const e=(t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null);this.value="ltr"===e||"rtl"===e?e:"ltr"}}ngOnDestroy(){this.change.complete()}}Cw.ngInjectableDef=st({factory:function(){return new Cw(ne(ww,8))},token:Cw,providedIn:"root"});class Ew{}function Sw(){return"undefined"!=typeof process}function kw(t){switch(t.length){case 0:return new G_;case 1:return t[0];default:return new K_(t)}}function Aw(t,e,n,r,i={},o={}){const a=[],s=[];let u=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(n=>{let r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case W_:s=i[n];break;case V_:s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}c[r]=s}),r||s.push(c),l=c,u=n}),a.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${a.join(t)}`)}return s}function Tw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Iw(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Iw(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Iw(n,"destroy",t)))}}function Iw(t,e,n){const r=n.totalTime,i=Rw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,void 0==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Rw(t,e,n,r,i="",o=0,a){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Ow(t,e,n){let r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Pw(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Dw=(t,e)=>!1,Nw=(t,e)=>!1,xw=(t,e,n)=>[];const Mw=Sw();if(Mw||"undefined"!=typeof Element){if(Dw=((t,e)=>t.contains(e)),Mw||Element.prototype.matches)Nw=((t,e)=>t.matches(e));else{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;e&&(Nw=((t,n)=>e.apply(t,[n])))}xw=((t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r})}let Lw=null,Fw=!1;function Bw(t){Lw||(Lw=("undefined"!=typeof document?document.body:null)||{},Fw=!!Lw.style&&"WebkitAppearance"in Lw.style);let e=!0;return Lw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in Lw.style)&&Fw&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Lw.style),e}const jw=Nw,Uw=Dw,Vw=xw;function zw(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class qw{}qw.NOOP=new class{validateStyleProperty(t){return Bw(t)}matchesElement(t,e){return jw(t,e)}containsElement(t,e){return Uw(t,e)}query(t,e,n){return Vw(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],a){return new G_(n,r)}};const Hw=1e3,Gw="{{",Kw="ng-enter",Ww="ng-leave",Qw="ng-trigger",$w=".ng-trigger",Yw="ng-animating",Xw=".ng-animating";function Jw(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Zw(parseFloat(e[1]),e[2])}function Zw(t,e){switch(e){case"s":return t*Hw;default:return t}}function tC(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Zw(parseFloat(n[1]),n[2]);const a=n[3];null!=a&&(i=Zw(Math.floor(parseFloat(a)),n[4]));const s=n[5];s&&(o=s)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function eC(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function nC(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else eC(t,n);return n}function rC(t,e,n){return n?e+":"+n+";":""}function iC(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=rC(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=rC(0,fC(n),t.style[n]));t.setAttribute("style",e)}function oC(t,e){t.style&&(Object.keys(e).forEach(n=>{const r=pC(n);t.style[r]=e[n]}),Sw()&&iC(t))}function aC(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=pC(e);t.style[n]=""}),Sw()&&iC(t))}function sC(t){return Array.isArray(t)?1==t.length?t[0]:z_(t):t}const uC=new RegExp(`${Gw}\\s*(.+?)\\s*}}`,"g");function lC(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=uC.exec(n);)e.push(r[1]);uC.lastIndex=0}return e}function cC(t,e,n){const r=t.toString(),i=r.replace(uC,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function hC(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const dC=/-+([a-z0-9])/g;function pC(t){return t.replace(dC,(...t)=>t[1].toUpperCase())}function fC(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gC(t,e){return 0===t||0===e}function yC(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],a=[];if(r.forEach(t=>{o.hasOwnProperty(t)||a.push(t),o[t]=n[t]}),a.length)for(var i=1;i<e.length;i++){let n=e[i];a.forEach(function(e){n[e]=vC(t,e)})}}return e}function mC(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function vC(t,e){return window.getComputedStyle(t)[e]}const _C="*",bC=new Set(["true","1"]),wC=new Set(["false","0"]);function CC(t,e){const n=bC.has(t)||wC.has(t),r=bC.has(e)||wC.has(e);return(i,o)=>{let a=t==_C||t==i,s=e==_C||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?bC.has(t):wC.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?bC.has(e):wC.has(e)),a&&s}}const EC=":self",SC=new RegExp(`s*${EC}s*,?`,"g");function kC(t,e,n){return new TC(t).build(e,n)}const AC="";class TC{constructor(t){this._driver=t}build(t,e){const n=new IC(e);return this._resetContextStyleTimingState(n),mC(this,sC(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=AC,t.collectedStyles={},t.collectedStyles[AC]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(RC(t)){const e=t;Object.keys(e).forEach(t=>{lC(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=hC(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=mC(this,sC(t.animation),e);return{type:1,matchers:function(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],a=r[3];e.push(CC(i,a)),"<"!=o[0]||i==_C&&a==_C||e.push(CC(a,i))})(t,n,e)):n.push(t),n}(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:OC(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>mC(this,t,e)),options:OC(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=mC(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:OC(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return PC(tC(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=PC(0,0,"");return t.dynamic=!0,t.strValue=r,t}return PC((n=n||tC(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:q_({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=q_(t)}e.currentTime+=n.duration+n.delay;const a=this.visitStyle(i,e);a.isEmptyStep=o,r=a}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==V_?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(RC(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf(Gw)>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],a=o[n];let s=!0;a&&(i!=r&&i>=a.startTime&&r<=a.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${a.startTime}ms" and "${a.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),s=!1),i=a.startTime),s&&(o[n]={startTime:i,endTime:r}),e.options&&function(r,i,o){const a=e.options.params||{},s=lC(t[n]);s.length&&s.forEach(t=>{a.hasOwnProperty(t)||o.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(0,0,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,a=!1,s=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(RC(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(RC(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=u&&(r++,l=n.offset=u),a=a||l<0||l>1,o=o||l<s,s=l,i.push(l),n});a&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let c=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(l-1));const h=l-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return u.forEach((t,r)=>{const o=c>0?r==h?1:c*r:i[r],a=o*f;e.currentTime=d+p.delay+a,p.duration=a,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:mC(this,sC(t.animation),e),options:OC(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:OC(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:OC(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==EC);return e&&(t=t.replace(SC,"")),[t=t.replace(/@\*/g,$w).replace(/@\w+/g,t=>$w+"-"+t.substr(1)).replace(/:animating/g,Xw),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Ow(e.collectedStyles,e.currentQuerySelector,{});const a=mC(this,sC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:OC(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:tC(t.timings,e.errors,!0);return{type:12,animation:mC(this,sC(t.animation),e),timings:n,options:null}}}class IC{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function RC(t){return!Array.isArray(t)&&"object"==typeof t}function OC(t){return t?(t=eC(t)).params&&(t.params=function(t){return t?eC(t):null}(t.params)):t={},t}function PC(t,e,n){return{duration:t,delay:e,easing:n}}function DC(t,e,n,r,i,o,a=null,s=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}class NC{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const xC=1,MC=new RegExp(":enter","g"),LC=new RegExp(":leave","g");function FC(t,e,n,r,i,o={},a={},s,u,l=[]){return(new BC).buildKeyframes(t,e,n,r,i,o,a,s,u,l)}class BC{buildKeyframes(t,e,n,r,i,o,a,s,u,l=[]){u=u||new NC;const c=new UC(t,e,u,r,i,l,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),mC(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(a).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([a],null,c.errors,s)}return h.length?h.map(t=>t.buildKeyframes()):[DC(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Jw(n.duration):null,o=null!=n.delay?Jw(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),mC(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&((r=e.createSubContext(i)).transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=jC);const t=Jw(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>mC(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Jw(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);i&&a.delayNextStep(i),mC(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return tC(e.params?cC(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Jw(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=jC);let o=n;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let s=null;a.forEach((n,r)=>{e.currentQueryIndex=r;const a=e.createSubContext(t.options,n);i&&a.delayNextStep(i),n===e.element&&(s=a.currentTimeline),mC(this,t.animation,a),a.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,a.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),s&&(e.currentTimeline.mergeTimelineCollectedStyles(s),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1);let s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}const u=e.currentTimeline;s&&u.delayNextStep(s);const l=u.currentTime;mC(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const jC={};class UC{constructor(t,e,n,r,i,o,a,s){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new VC(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Jw(n.duration)),null!=n.delay&&(r.delay=Jw(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=cC(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new UC(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=jC,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new zC(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(MC,"."+this._enterClassName)).replace(LC,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),a.push(...e)}return i||0!=a.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class VC{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new VC(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=xC,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||V_,this._currentKeyframe[t]=V_}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e)).forEach(t=>{n[t]=V_}):nC(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=cC(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:V_),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const a=nC(i,!0);Object.keys(a).forEach(n=>{const r=a[n];r==W_?t.add(n):r==V_&&e.add(n)}),n||(a.offset=o/this.duration),r.push(a)});const i=t.size?hC(t.values()):[],o=e.size?hC(e.values()):[];if(n){const t=r[0],e=eC(t);t.offset=0,e.offset=1,r=[t,e]}return DC(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class zC extends VC{constructor(t,e,n,r,i,o,a=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,a=e/o,s=nC(t[0],!1);s.offset=0,i.push(s);const u=nC(t[0],!1);u.offset=qC(a),i.push(u);const l=t.length-1;for(let r=1;r<=l;r++){let a=nC(t[r],!1);a.offset=qC((e+a.offset*n)/o),i.push(a)}n=o,e=0,r="",t=i}return DC(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function qC(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class HC{}class GC extends HC{normalizePropertyName(t,e){return pC(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(KC[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const KC=function(t){const e={};return"width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",").forEach(t=>e[t]=!0),e}();function WC(t,e,n,r,i,o,a,s,u,l,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:d}}const QC={};class $C{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,a,s,u,l){const c=[],h=this.ast.options&&this.ast.options.params||QC,d=this.buildStyles(n,a&&a.params||QC,c),p=s&&s.params||QC,f=this.buildStyles(r,p,c),g=new Set,y=new Map,m=new Map,v="void"===r,_={params:Object.assign({},h,p)},b=l?[]:FC(t,e,this.ast.animation,i,o,d,f,_,u,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return WC(e,this._triggerName,n,r,v,d,f,[],[],y,m,w,c);b.forEach(t=>{const n=t.element,r=Ow(y,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Ow(m,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const C=hC(g.values());return WC(e,this._triggerName,n,r,v,d,f,b,C,y,m,w)}}class YC{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=eC(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=cC(o,r,e)),n[t]=o})}}),n}}class XC{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new YC(t.style,t.options&&t.options.params||{})}),JC(this.states,"true","1"),JC(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new $C(t,e,this.states))}),this.fallbackTransition=function(e,n){return new $C(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},n)}(0,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function JC(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const ZC=new NC;class tE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=kC(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Aw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const a=new Map;if(i?(o=FC(this._driver,e,i,Kw,Ww,{},{},n,ZC,r)).forEach(t=>{const e=Ow(a,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,V_)})});const s=kw(o.map(t=>{const e=a.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=s,s.onDestroy(()=>this.destroy(t)),this.players.push(s),s}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Rw(e,"","","");return Tw(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const eE="ng-animate-queued",nE=".ng-animate-queued",rE="ng-animate-disabled",iE=".ng-animate-disabled",oE="ng-star-inserted",aE=".ng-star-inserted",sE=[],uE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cE="__ng_removed";class hE{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){const e=eC(t);delete e.value,this.options=e}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const dE="void",pE=new hE(dE);class fE{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,CE(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=n&&"done"!=n)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);const i=Ow(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};i.push(o);const a=Ow(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(CE(t,Qw),CE(t,Qw+"-"+e),a[e]=pE),()=>{this._engine.afterFlush(()=>{const t=i.indexOf(o);t>=0&&i.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new yE(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(CE(t,Qw),CE(t,Qw+"-"+e),this._engine.statesByElement.set(t,a={}));let s=a[e];const u=new hE(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&s&&u.absorbOptions(s.options),a[e]=u,s||(s=pE),u.value!==dE&&s.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(s.params,u.params)){const e=[],n=i.matchStyles(s.value,s.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{aC(t,n),oC(t,r)})}return}const l=Ow(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(s.value,u.value,t,u.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:s,toState:u,player:o,isFallbackTransition:h}),h||(CE(t,eE),o.onStart(()=>{EE(t,eE)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),l.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,$w,!0).forEach(t=>{if(t[cE])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,dE,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&kw(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||pE,a=new hE(dE),s=new yE(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:a,player:s,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){CE(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=Rw(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Tw(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class gE{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=((t,e)=>{})}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new fE(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(mE(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!mE(e))return;const i=e[cE];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),CE(t,rE)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),EE(t,rE))}removeNode(t,e,n){if(!mE(e))return void this._onRemovalComplete(e,n);const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[cE]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return mE(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,$w,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Xw,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return kw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[cE];if(e&&e.setForRemoval){if(t[cE]=uE,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,iE)&&this.markElementAsDisabled(t,!1),this.driver.query(t,iE,!0).forEach(e=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)CE(this.collectedEnterElements[n],oE);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?kw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new NC,r=[],i=new Map,o=[],a=new Map,s=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,nE,!0);for(let n=0;n<e.length;n++)l.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=bE(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=Kw+f++;p.set(e,n),t.forEach(t=>CE(t,n))});const g=[],y=new Set,m=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t[cE];e&&e.setForRemoval&&(g.push(t),y.add(t),e.hasAnimation?this.driver.query(t,aE,!0).forEach(t=>y.add(t)):m.add(t))}const v=new Map,_=bE(h,Array.from(y));_.forEach((t,e)=>{const n=Ww+f++;v.set(e,n),t.forEach(t=>CE(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>EE(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>EE(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i[cE];if(t&&t.setForMove)return void e.destroy()}const l=!c||!this.driver.containsElement(c,i),h=v.get(i),d=p.get(i),f=this._buildInstruction(t,n,d,h,l);if(!f.errors||!f.errors.length)return l?(e.onStart(()=>aC(i,f.fromStyles)),e.onDestroy(()=>oC(i,f.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>aC(i,f.fromStyles)),e.onDestroy(()=>oC(i,f.toStyles)),void r.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),o.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>Ow(a,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=s.get(e);t||s.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,E=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Ow(C,e,[]).push(t),t.destroy()})});const S=g.filter(t=>kE(t,s,u)),k=new Map;_E(k,this.driver,m,u,V_).forEach(t=>{kE(t,s,u)&&S.push(t)});const A=new Map;d.forEach((t,e)=>{_E(A,this.driver,new Set(t),s,W_)}),S.forEach(t=>{const e=k.get(t),n=A.get(t);k.set(t,Object.assign({},e,n))});const T=[],I=[],R={};o.forEach(t=>{const{element:e,player:o,instruction:a}=t;if(n.has(e)){if(l.has(e))return o.onDestroy(()=>oC(e,a.toStyles)),o.disabled=!0,o.overrideTotalTime(a.totalTime),void r.push(o);let t=R;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(o.namespaceId,a,C,i,A,k);if(o.setRealPlayer(n),t===R)T.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=kw(e)),r.push(o)}}else aC(e,a.fromStyles),o.onDestroy(()=>oC(e,a.toStyles)),I.push(o),l.has(e)&&r.push(o)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=kw(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<g.length;O++){const t=g[O],e=t[cE];if(EE(t,Ww),e&&e.hasAnimation)continue;let n=[];if(a.size){let e=a.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Xw,!0);for(let t=0;t<r.length;t++){let e=a.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?SE(this,t,r):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e[cE];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==dE;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const a of e.timelines){const t=a.element,s=t!==r,u=Ow(n,t,[]);this._getPreviousPlayers(t,s,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}aC(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const a=e.triggerName,s=e.element,u=[],l=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h[cE];if(d&&d.removedBeforeQueried)return new G_(e.duration,e.delay);const p=h!==s,f=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof K_?t(i.players,n):n.push(i)}}((n.get(h)||sE).map(t=>t.getRealPlayer()),e),e}().filter(t=>!!t.element&&t.element===h),g=i.get(h),y=o.get(h),m=Aw(0,this._normalizer,0,e.keyframes,g,y),v=this._buildPlayer(e,m,f);if(e.subTimeline&&r&&c.add(h),p){const e=new yE(t,a,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Ow(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e)){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r})(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>CE(t,Yw));const d=kw(h);return d.onDestroy(()=>{l.forEach(t=>EE(t,Yw)),oC(s,e.toStyles)}),c.forEach(t=>{Ow(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new G_(t.duration,t.delay)}}class yE{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new G_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Tw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ow(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function mE(t){return t&&1===t.nodeType}function vE(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function _E(t,e,n,r,i){const o=[];n.forEach(t=>o.push(vE(t)));const a=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[cE]=lE,a.push(r))}),t.set(r,o)});let s=0;return n.forEach(t=>vE(t,o[s++])),a}function bE(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}const wE="$$classes";function CE(t,e){if(t.classList)t.classList.add(e);else{let n=t[wE];n||(n=t[wE]={}),n[e]=!0}}function EE(t,e){if(t.classList)t.classList.remove(e);else{let n=t[wE];n&&delete n[e]}}function SE(t,e,n){kw(n).onDone(()=>t.processLeaveNode(e))}function kE(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class AE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=((t,e)=>{}),this._transitionEngine=new gE(t,e,n),this._timelineEngine=new tE(t,e,n),this._transitionEngine.onRemovalComplete=((t,e)=>this.onRemovalComplete(t,e))}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const t=[],e=kC(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);a=function(t,e){return new XC(t,e)}(r,e),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Pw(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Pw(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}const TE=3,IE="animation",RE="animationend",OE=1e3;class PE{constructor(t,e,n,r,i,o,a){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=(t=>this._handleCallback(t))}apply(){!function(t,e){const n=FE(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),LE(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ME(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){DE(this._element,this._name,"paused")}resume(){DE(this._element,this._name,"running")}setPosition(t){const e=NE(this._element,this._name);this._position=t*this._duration,LE(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(TE))*OE;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ME(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=FE(t,"").split(","),r=xE(n,e);r>=0&&(n.splice(r,1),LE(t,"",n.join(",")))}(this._element,this._name))}}function DE(t,e,n){LE(t,"PlayState",n,NE(t,e))}function NE(t,e){const n=FE(t,"");return n.indexOf(",")>0?xE(n.split(","),e):xE([n],e)}function xE(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function ME(t,e,n){n?t.removeEventListener(RE,e):t.addEventListener(RE,e)}function LE(t,e,n,r){const i=IE+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function FE(t,e){return t.style[IE+e]}const BE="forwards",jE="linear";class UE{constructor(t,e,n,r,i,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||jE,this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new PE(this.element,this.animationName,this._duration,this._delay,this.easing,BE,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:vC(this.element,n))})}this.currentSnapshot=t}}class VE extends G_{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=zw(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const zE="gen_css_kf_",qE=" ";class HE{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Bw(t)}matchesElement(t,e){return jw(t,e)}containsElement(t,e){return Uw(t,e)}query(t,e,n){return Vw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){let r=`@keyframes ${e} {\n`,i="";(n=n.map(t=>zw(t))).forEach(t=>{i=qE;const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=qE,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],a){a&&this._notifyFaultyScrubber();const s=o.filter(t=>t instanceof UE),u={};gC(n,r)&&s.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=yC(t,e,u));if(0==n)return new VE(t,l);const c=`${zE}${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=new UE(t,e,c,n,r,i,l);return d.onDestroy(()=>void h.parentNode.removeChild(h)),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class GE{constructor(t,e,n){this.element=t,this.keyframes=e,this.options=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:vC(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class KE{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(WE().toString()),this._cssKeyframesDriver=new HE}validateStyleProperty(t){return Bw(t)}matchesElement(t,e){return jw(t,e)}containsElement(t,e){return Uw(t,e)}query(t,e,n){return Vw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);const u={},l=o.filter(t=>t instanceof GE);return gC(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])}),e=yC(t,e=e.map(t=>nC(t,!1)),u),new GE(t,e,s)}}function WE(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class QE extends j_{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:re.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?z_(t):t;return XE(this._renderer,null,e,"register",[n]),new $E(e,this._renderer)}}class $E extends U_{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new YE(this._id,t,e||{},this._renderer)}}class YE{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return XE(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function XE(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const JE="@",ZE="@.disabled";class tS{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=((t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)})}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new eS("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new nS(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class eS{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t){return this.delegate.selectRootElement(t)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==JE&&e==ZE?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class nS extends eS{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==JE?"."==e.charAt(1)&&e==ZE?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==JE){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=JE&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class rS extends AE{constructor(t,e,n){super(t.body,e,n)}}function iS(){return"function"==typeof WE()?new KE:new HE}function oS(){return new GC}function aS(t,e,n){return new tS(t,e,n)}const sS=new ut("AnimationModuleType");class uS{}var lS=ui({encapsulation:2,styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}@media screen and (-ms-high-contrast:active){.mat-option{margin:0 1px}.mat-option.mat-active{border:solid 1px currentColor;margin:0}}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}@media screen and (-ms-high-contrast:active){.mat-option-ripple{opacity:.5}}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],data:{}});function cS(t){return oa(0,[(t()(),ji(0,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-option-pseudo-checkbox mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null],[2,"_mat-animation-noopable",null]],null,null,pS,dS)),Io(1,49152,null,0,Zb,[[2,sS]],{state:[0,"state"],disabled:[1,"disabled"]},null)],function(t,e){var n=e.component;t(e,1,0,n.selected?"checked":"",n.disabled)},function(t,e){t(e,0,0,"indeterminate"===go(e,1).state,"checked"===go(e,1).state,go(e,1).disabled,"NoopAnimations"===go(e,1)._animationMode)})}function hS(t){return oa(2,[(t()(),Bi(16777216,null,null,1,null,cS)),Io(1,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(2,0,null,null,1,"span",[["class","mat-option-text"]],null,null,null,null,null)),Yo(null,0),(t()(),ji(4,0,null,null,1,"div",[["class","mat-option-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),Io(5,212992,null,0,Xb,[Nn,un,X_,[2,Yb],[2,sS]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],function(t,e){var n=e.component;t(e,1,0,n.multiple),t(e,5,0,n.disabled||n.disableRipple,n._getHostElement())},function(t,e){t(e,4,0,go(e,5).unbounded)})}var dS=ui({encapsulation:2,styles:[".mat-pseudo-checkbox{width:20px;height:20px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:7px;left:0;width:16px;opacity:1}.mat-pseudo-checkbox-checked::after{top:3px;left:1px;width:12px;height:5px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1}"],data:{}});function pS(t){return oa(2,[],null,null)}class fS{constructor(){}ngOnInit(){}}var gS=ui({encapsulation:0,styles:[[".loader[_ngcontent-%COMP%]{position:absolute;margin-top:50px;margin-left:50px;margin-bottom:60px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:100px;height:100px;box-sizing:border-box}.loader[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]{position:absolute;border:2px solid #121212}.loader[_ngcontent-%COMP%]   .face.face1[_ngcontent-%COMP%]{top:0;left:0;right:0;bottom:0;background:#090909;box-shadow:0 0 10px rgba(0,0,0,1);border-radius:50%;border-left:2px solid #ff0;border-top:2px solid #ff0;-webkit-animation:3s linear infinite animate;animation:3s linear infinite animate}.loader[_ngcontent-%COMP%]   .face.face2[_ngcontent-%COMP%]{top:30px;left:30px;right:30px;bottom:30px;background:#090909;box-shadow:0 0 10px rgba(0,0,0,1);border-radius:50%;border-right:2px solid #03a9f4;border-bottom:2px solid #03a9f4;animation:3s linear infinite reverse animate}.loader[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 1px);left:50%;width:50%;height:2px;-webkit-transform-origin:left;transform-origin:left}.loader[_ngcontent-%COMP%]   .face.face1[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]   .face.face2[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.loader[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:before{content:'';position:absolute;width:10px;height:10px;border-radius:50%;background:#fff;top:-4px;right:-6px}.loader[_ngcontent-%COMP%]   .face.face1[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:before{background:#ff0;box-shadow:0 0 20px #ff0,0 0 40px #ff0,0 0 60px #ff0,0 0 80px #ff0,0 0 100px #ff0,0 0 5px rgba(255,255,0,.1)}.loader[_ngcontent-%COMP%]   .face.face2[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:before{background:#03a9f4;box-shadow:0 0 20px #03a9f4,0 0 40px #03a9f4,0 0 60px #03a9f4,0 0 80px #03a9f4,0 0 100px #03a9f4,0 0 5px rgba(3,169,244,1)}@-webkit-keyframes animate{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes animate{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}#div[_ngcontent-%COMP%]{width:100px;height:100px}"]],data:{}});function yS(t){return oa(0,[(t()(),ji(0,0,null,null,4,"div",[["class","loader"]],null,null,null,null,null)),(t()(),ji(1,0,null,null,1,"div",[["class","face face1"]],null,null,null,null,null)),(t()(),ji(2,0,null,null,0,"div",[["class","circle"]],null,null,null,null,null)),(t()(),ji(3,0,null,null,1,"div",[["class","face face2"]],null,null,null,null,null)),(t()(),ji(4,0,null,null,0,"div",[["class","circle"]],null,null,null,null,null))],null,null)}class mS{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}mS.ngInjectableDef=st({factory:function(){return new mS},token:mS,providedIn:"root"});class vS{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=t instanceof Nn?t.nativeElement:t;return S.create(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new R,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}vS.ngInjectableDef=st({factory:function(){return new vS(ne(mS))},token:vS,providedIn:"root"});class _S{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new sn,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Q_(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(yb(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}class bS{}var wS=ui({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media screen and (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media screen and (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media screen and (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media screen and (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media screen and (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media screen and (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media screen and (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media screen and (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media screen and (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function CS(t){return oa(0,[(t()(),ji(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),ji(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),ji(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),ji(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),ji(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),ji(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),ji(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),ji(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),ji(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function ES(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),Yo(null,0)],null,null)}function SS(t){return oa(0,[(t()(),ji(0,0,null,null,2,null,null,null,null,null,null,null)),Yo(null,2),(t()(),na(2,null,["",""]))],null,function(t,e){t(e,2,0,e.component._control.placeholder)})}function kS(t){return oa(0,[Yo(null,3),(t()(),Bi(0,null,null,0))],null,null)}function AS(t){return oa(0,[(t()(),ji(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),na(-1,null,["\xa0*"]))],null,null)}function TS(t){return oa(0,[(t()(),ji(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],function(t,e,n){var r=!0;return"cdkObserveContent"===e&&(r=!1!==t.component.updateOutlineGap()&&r),r},null,null)),Io(1,16384,null,0,Du,[],{ngSwitch:[0,"ngSwitch"]},null),Io(2,1196032,null,0,_S,[vS,Nn,un],null,{event:"cdkObserveContent"}),(t()(),Bi(16777216,null,null,1,null,SS)),Io(4,278528,null,0,Nu,[qn,zn,Du],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Bi(16777216,null,null,1,null,kS)),Io(6,278528,null,0,Nu,[qn,zn,Du],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Bi(16777216,null,null,1,null,AS)),Io(8,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n._hasLabel()),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)},function(t,e){var n=e.component;t(e,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)})}function IS(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),Yo(null,4)],null,null)}function RS(t){return oa(0,[(t()(),ji(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),ji(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,1,0,"accent"==n.color,"warn"==n.color)})}function OS(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),Yo(null,5)],null,function(t,e){t(e,0,0,e.component._subscriptAnimationState)})}function PS(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),na(1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,n._hintLabelId),t(e,1,0,n.hintLabel)})}function DS(t){return oa(0,[(t()(),ji(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,PS)),Io(2,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),Yo(null,6),(t()(),ji(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),Yo(null,7)],function(t,e){t(e,2,0,e.component.hintLabel)},function(t,e){t(e,0,0,e.component._subscriptAnimationState)})}function NS(t){return oa(2,[Go(671088640,1,{underlineRef:0}),Go(402653184,2,{_connectionContainerRef:0}),Go(402653184,3,{_inputContainerRef:0}),Go(671088640,4,{_label:0}),(t()(),ji(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),ji(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i._control.onContainerClick&&i._control.onContainerClick(n))&&r),r},null,null)),(t()(),Bi(16777216,null,null,1,null,CS)),Io(7,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,ES)),Io(9,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),Yo(null,1),(t()(),ji(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,TS)),Io(14,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,IS)),Io(16,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,RS)),Io(18,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),Io(20,16384,null,0,Du,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Bi(16777216,null,null,1,null,OS)),Io(22,278528,null,0,Nu,[qn,zn,Du],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Bi(16777216,null,null,1,null,DS)),Io(24,278528,null,0,Nu,[qn,zn,Du],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){var n=e.component;t(e,7,0,"outline"==n.appearance),t(e,9,0,n._prefixChildren.length),t(e,14,0,n._hasFloatingLabel()),t(e,16,0,n._suffixChildren.length),t(e,18,0,"outline"!=n.appearance),t(e,20,0,n._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")},null)}class xS{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new MS(t,this.durationSelector))}}class MS extends z{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){const e=p(this.durationSelector)(t);if(e===c)this.destination.error(c.e);else{const t=V(this,e);!t||t.closed?this.clearThrottle():this.add(this.throttled=t)}}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function LS(t){return!u(t)&&t-parseFloat(t)+1>=0}function FS(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function BS(t,e=Wp){return function(t){return function(e){return e.lift(new xS(t))}}(()=>(function(t=0,e,n){let r=-1;return LS(e)?r=Number(e)<1?1:Number(e):P(e)&&(n=e),P(n)||(n=Wp),new S(e=>{const i=LS(t)?t:+t-n.now();return n.schedule(FS,i,{index:0,period:r,subscriber:e})})})(t,e))}const jS=20;class US{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new R,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){const e=t.elementScrolled().subscribe(()=>this._scrolled.next(t));this.scrollContainers.set(t,e)}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=jS){return this._platform.isBrowser?S.create(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(BS(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Hs()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(gl(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>cw(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}US.ngInjectableDef=st({factory:function(){return new US(ne(un),ne(X_))},token:US,providedIn:"root"});const VS=20;class zS{constructor(t,e){this._platform=t,this._change=t.isBrowser?e.runOutsideAngular(()=>Z(cw(window,"resize"),cw(window,"orientationchange"))):Hs(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement.getBoundingClientRect();return{top:-t.top||document.body.scrollTop||window.scrollY||document.documentElement.scrollTop||0,left:-t.left||document.body.scrollLeft||window.scrollX||document.documentElement.scrollLeft||0}}change(t=VS){return t>0?this._change.pipe(BS(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}zS.ngInjectableDef=st({factory:function(){return new zS(ne(X_),ne(un))},token:zS,providedIn:"root"});class qS{}class HS{constructor(t){this.notifier=t}call(t,e){const n=new GS(t),r=V(n,this.notifier);return r&&!r.closed?(n.add(r),e.subscribe(n)):n}}class GS extends z{constructor(t){super(t)}notifyNext(t,e,n,r,i){this.complete()}notifyComplete(){}}function KS(){throw Error("Host already has a portal attached")}class WS{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&KS(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class QS extends WS{constructor(t,e,n){super(),this.component=t,this.viewContainerRef=e,this.injector=n}}class $S extends WS{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class YS{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&KS(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof QS?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof $S?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class XS extends YS{constructor(t,e,n,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r}attachComponentPortal(t){let e,n=this._componentFactoryResolver.resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.parentInjector),this.setDisposeFn(()=>e.destroy())):(e=n.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.detachView(e.hostView),e.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(e)),e}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class JS{}class ZS{enable(){}disable(){}attach(){}}class tk{constructor(t){this.scrollStrategy=new ZS,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",t&&Object.keys(t).filter(e=>void 0!==t[e]).forEach(e=>this[e]=t[e])}}class ek{constructor(t,e,n,r){this.offsetX=n,this.offsetY=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class nk{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function rk(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function ik(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}class ok{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=$_(-this._previousScrollPosition.left),t.style.top=$_(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=this._document.body,n=t.style.scrollBehavior||"",r=e.style.scrollBehavior||"";this._isEnabled=!1,t.style.left=this._previousHTMLStyles.left,t.style.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),t.style.scrollBehavior=e.style.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.style.scrollBehavior=n,e.style.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function ak(){return Error("Scroll strategy has already been attached.")}class sk{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=(()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())})}attach(t){if(this._overlayRef)throw ak();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}}function uk(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function lk(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class ck{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw ak();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();uk(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}}class hk{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=(()=>new ZS),this.close=(t=>new sk(this._scrollDispatcher,this._ngZone,this._viewportRuler,t)),this.block=(()=>new ok(this._viewportRuler,this._document)),this.reposition=(t=>new ck(this._scrollDispatcher,this._viewportRuler,this._ngZone,t)),this._document=r}}hk.ngInjectableDef=st({factory:function(){return new hk(ne(US),ne(zS),ne(un),ne(il))},token:hk,providedIn:"root"});class dk{constructor(t){this._attachedOverlays=[],this._keydownListener=(t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}}),this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener,!0),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener,!0),this._isAttached=!1)}}dk.ngInjectableDef=st({factory:function(){return new dk(ne(il))},token:dk,providedIn:"root"});class pk{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}pk.ngInjectableDef=st({factory:function(){return new pk(ne(il))},token:pk,providedIn:"root"});class fk{constructor(t,e,n,r,i,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=a,this._backdropElement=null,this._backdropClick=new R,this._attachments=new R,this._detachments=new R,this._keydownEventsObservable=S.create(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new R,this._keydownEventSubscriptions=0,r.scrollStrategy&&r.scrollStrategy.attach(this)}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._config.positionStrategy&&this._config.positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._config.scrollStrategy&&this._config.scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Fs(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._config.positionStrategy&&this._config.positionStrategy.detach&&this._config.positionStrategy.detach(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1);const t=this._portalOutlet.detach();this._detachments.next(),this._keyboardDispatcher.remove(this);const e=this._ngZone.onStable.asObservable().pipe(function(t){return e=>e.lift(new HS(t))}(Z(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())});return t}dispose(){const t=this.hasAttached();this._config.positionStrategy&&this._config.positionStrategy.dispose(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this.detachBackdrop(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._config.positionStrategy&&this._config.positionStrategy.apply()}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){const t=this._pane.style;t.width=$_(this._config.width),t.height=$_(this._config.height),t.minWidth=$_(this._config.minWidth),t.minHeight=$_(this._config.minHeight),t.maxWidth=$_(this._config.maxWidth),t.maxHeight=$_(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",t=>this._backdropClick.next(t)),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){let e,n=()=>{t&&t.parentNode&&t.parentNode.removeChild(t),this._backdropElement==t&&(this._backdropElement=null),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}}_toggleClasses(t,e,n){const r=t.classList;(function(t){return Array.isArray(t)?t:[t]})(e).forEach(t=>{n?r.add(t):r.remove(t)})}}class gk{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._isInitialRender=!0,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this.scrollables=[],this._preferredPositions=[],this._positionChanges=new R,this._resizeSubscription=g.EMPTY,this._offsetX=0,this._offsetY=0,this._positionChangeSubscriptions=0,this.positionChanges=S.create(t=>{const e=this._positionChanges.subscribe(t);return this._positionChangeSubscriptions++,()=>{e.unsubscribe(),this._positionChangeSubscriptions--}}),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>this.apply())}apply(){if(this._isDisposed||this._platform&&!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._origin.getBoundingClientRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let a=this._getOriginPoint(t,o),s=this._getOverlayPoint(a,e,o),u=this._getOverlayFit(s,e,n,o);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(u,s,n)?r.push({position:o,origin:a,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:s,originPoint:a,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this.detach(),this._boundingBox=null,this._positionChanges.complete(),this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._origin.getBoundingClientRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){this.scrollables=t}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t instanceof Nn?t.nativeElement:t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+r,y:t.y+(i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}}_getOverlayFit(t,e,n,r){let{x:i,y:o}=t,a=this._getOffset(r,"x"),s=this._getOffset(r,"y");a&&(i+=a),s&&(o+=s);let u=0-o,l=o+e.height-n.height,c=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,l),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=this._overlayRef.getConfig().minHeight,a=this._overlayRef.getConfig().minWidth;return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=i)}}_pushOverlayOnScreen(t,e){const n=this._viewportRect,r=Math.max(t.x+e.width-n.right,0),i=Math.max(t.y+e.height-n.bottom,0),o=Math.max(n.top-t.y,0),a=Math.max(n.left-t.x,0);let s,u=0;return{x:t.x+(s=e.width<=n.width?a||-r:n.left-t.x),y:t.y+(u=e.height<=n.height?o||-i:n.top-t.y)}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),this._lastPosition=t,this._positionChangeSubscriptions>0){const e=this._getScrollVisibility(),n=new nk(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,a,s,u,l;if("top"===e.overlayY)o=t.y,i=n.bottom-t.y;else if("bottom"===e.overlayY)i=n.height-(a=n.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{const e=Math.min(n.bottom-t.y,t.y-n.left),r=this._lastBoundingBoxSize.height;o=t.y-e,(i=2*e)>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)l=n.right-t.x+this._viewportMargin,s=t.x-n.left;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,s=n.right-t.x;else{const e=Math.min(n.right-t.x,t.x-n.top),r=this._lastBoundingBoxSize.width;u=t.x-e,(s=2*e)>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:o,left:u,bottom:a,right:l,width:s,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=$_(n.height),r.top=$_(n.top),r.bottom=$_(n.bottom),r.width=$_(n.width),r.left=$_(n.left),r.right=$_(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=$_(t)),i&&(r.maxWidth=$_(i))}this._lastBoundingBoxSize=n,yk(this._boundingBox.style,r)}_resetBoundingBoxStyles(){yk(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yk(this._pane.style,{top:"",left:"",bottom:"",right:"",position:""})}_setOverlayElementStyles(t,e){const n={};this._hasExactPosition()?(yk(n,this._getExactOverlayY(e,t)),yk(n,this._getExactOverlayX(e,t))):n.position="static";let r="",i=this._getOffset(e,"x"),o=this._getOffset(e,"y");i&&(r+=`translateX(${i}px) `),o&&(r+=`translateY(${o}px)`),n.transform=r.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),yk(this._pane.style,n)}_getExactOverlayY(t,e){let n={top:null,bottom:null},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect));let i=this._overlayContainer?this._overlayContainer.getContainerElement().getBoundingClientRect().top:0;return r.y-=i,"bottom"===t.overlayY?n.bottom=`${this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)}px`:n.top=$_(r.y),n}_getExactOverlayX(t,e){let n,r={left:null,right:null},i=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect)),"right"==(n=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?r.right=`${this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)}px`:r.left=$_(i.x),r}_getScrollVisibility(){const t=this._origin.getBoundingClientRect(),e=this._pane.getBoundingClientRect(),n=this.scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lk(t,n),isOriginOutsideView:uk(t,n),isOverlayClipped:lk(e,n),isOverlayOutsideView:uk(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{ik("originX",t.originX),rk("originY",t.originY),ik("overlayX",t.overlayX),rk("overlayY",t.overlayY)})}}function yk(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class mk{constructor(t,e,n,r,i,o){this._preferredPositions=[],this._positionStrategy=new gk(n,r,i,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new ek(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class vk{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper")}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){}}class _k{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new vk}connectedTo(t,e,n){return new mk(e,n,t,this._viewportRuler,this._document)}flexibleConnectedTo(t){return new gk(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}_k.ngInjectableDef=st({factory:function(){return new _k(ne(zS),ne(il),ne(X_,8),ne(pk,8))},token:_k,providedIn:"root"});let bk=0;class wk{constructor(t,e,n,r,i,o,a,s,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=a,this._document=s,this._directionality=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new tk(t);return i.direction=i.direction||this._directionality.value,new fk(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${bk++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(In)),new XS(t,this._componentFactoryResolver,this._appRef,this._injector)}}const Ck=new ut("cdk-connected-overlay-scroll-strategy");function Ek(t){return()=>t.scrollStrategies.reposition()}class Sk{}let kk=0;class Ak{constructor(t,e){this.source=t,this.option=e}}const Tk=function(t){return class extends class{}{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Q_(t)}}}(),Ik=new ut("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});class Rk extends Tk{constructor(t,e,n){super(),this._changeDetectorRef=t,this._elementRef=e,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new sn,this.opened=new sn,this.closed=new sn,this._classList={},this.id=`mat-autocomplete-${kk++}`,this._autoActiveFirstOption=!!n.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=Q_(t)}set classList(t){t&&t.length&&(t.split(" ").forEach(t=>this._classList[t.trim()]=!0),this._elementRef.nativeElement.className="")}ngAfterContentInit(){this._keyManager=new Ob(this.options).withWrap(),this._setVisibility()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._classList["mat-autocomplete-visible"]=this.showPanel,this._classList["mat-autocomplete-hidden"]=!this.showPanel,this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new Ak(this,t);this.optionSelected.emit(e)}}const Ok=48,Pk=256,Dk=new ut("mat-autocomplete-scroll-strategy");function Nk(t){return()=>t.scrollStrategies.reposition()}class xk{constructor(t,e,n,r,i,o,a,s,u,l){this._element=t,this._overlay=e,this._viewContainerRef=n,this._zone=r,this._changeDetectorRef=i,this._scrollStrategy=o,this._dir=a,this._formField=s,this._document=u,this._viewportRuler=l,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=g.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new R,this._windowBlurHandler=(()=>{this._canOpenOnNextFocus=document.activeElement!==this._element.nativeElement||this.panelOpen}),this._onChange=(()=>{}),this._onTouched=(()=>{}),this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=function(t){return new S(e=>{let n;try{n=t()}catch(t){return void e.error(t)}return(n?W(n):Ls()).subscribe(e)})}(()=>this.autocomplete&&this.autocomplete.options?Z(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.asObservable().pipe(Fs(1),Gs(()=>this.optionSelections))),"undefined"!=typeof window&&r.runOutsideAngular(()=>{window.addEventListener("blur",this._windowBlurHandler)})}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=Q_(t)}ngOnDestroy(){"undefined"!=typeof window&&window.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}get panelClosingActions(){return Z(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(gl(()=>this._overlayAttached)),this._closeKeyEventStream,this._outsideClickStream,this._overlayRef?this._overlayRef.detachments().pipe(gl(()=>this._overlayAttached)):Hs()).pipe(q(t=>t instanceof ow?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}get _outsideClickStream(){return this._document?Z(cw(this._document,"click"),cw(this._document,"touchend")).pipe(gl(t=>{const e=t.target,n=this._formField?this._formField._elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!n||!n.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)})):Hs(null)}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(e===ab&&t.preventDefault(),this.panelOpen&&(e===ab||e===lb&&t.altKey))this._resetActiveItem(),this._closeKeyEventStream.next(),t.stopPropagation();else if(this.activeOption&&e===ob&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const n=this.autocomplete._keyManager.activeItem,r=e===lb||e===hb;this.panelOpen||e===ib?this.autocomplete._keyManager.onKeydown(t):r&&this._canOpen()&&this.openPanel(),(r||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption()}}_handleInput(t){let e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&document.activeElement===t.target&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_scrollToOption(){const t=this.autocomplete._keyManager.activeItemIndex||0,e=function(t,e,n,r){const i=t*e;return i<n?i:i+e>n+Pk?Math.max(0,i-Pk+e):n}(t+function(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),o=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[o]&&o++;return o}return 0}(t,this.autocomplete.options,this.autocomplete.optionGroups),Ok,this.autocomplete._getScrollTop());this.autocomplete._setScrollTop(e)}_subscribeToClosingActions(){return Z(this._zone.onStable.asObservable().pipe(Fs(1)),this.autocomplete.options.changes.pipe(Us(()=>this._positionStrategy.reapplyLastPosition()),$p(0))).pipe(Gs(()=>(this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&this._overlayRef.updatePosition(),this.panelClosingActions)),Fs(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!=t&&e.selected&&e.deselect()})}_attachOverlay(){if(!this.autocomplete)throw Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.");this._overlayRef?this._overlayRef.updateSize({width:this._getPanelWidth()}):(this._portal=new $S(this.autocomplete.template,this._viewContainerRef),this._overlayRef=this._overlay.create(this._getOverlayConfig()),this._viewportRuler&&(this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&this._overlayRef&&this._overlayRef.updateSize({width:this._getPanelWidth()})}))),this._overlayRef&&!this._overlayRef.hasAttached()&&(this._overlayRef.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const t=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&t!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new tk({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}_getOverlayPosition(){return this._positionStrategy=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}]),this._positionStrategy}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}}class Mk{}const Lk=!!tb()&&{passive:!0};class Fk{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ms;const e=t instanceof Nn?t.nativeElement:t,n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const r=new R,i="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,Lk),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",o,Lk)}}),r.asObservable()}stopMonitoring(t){const e=t instanceof Nn?t.nativeElement:t,n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}Fk.ngInjectableDef=st({factory:function(){return new Fk(ne(X_),ne(un))},token:Fk,providedIn:"root"});class Bk{}const jk=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Uk=0;const Vk=function(t){return class extends class{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new R}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}();class zk extends Vk{constructor(t,e,n,r,i,o,a,s,u){super(o,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=s,this._uid=`mat-input-${Uk++}`,this._isServer=!1,this.focused=!1,this.stateChanges=new R,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>nb().has(t)),this._inputValueAccessor=a||this._elementRef.nativeElement,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Q_(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Q_(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&nb().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Q_(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(){this._elementRef.nativeElement.focus()}_focusChanged(t){t===this.focused||this.readonly||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(jk.indexOf(this._type)>-1)throw function(t){return Error(`Input type "${t}" isn't supported by matInput.`)}(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus()}}class qk{}var Hk=ui({encapsulation:2,styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%}.mat-autocomplete-panel:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}@media screen and (-ms-high-contrast:active){.mat-autocomplete-panel{outline:solid 1px}}"],data:{}});function Gk(t){return oa(0,[(t()(),ji(0,0,[[2,0],["panel",1]],null,2,"div",[["class","mat-autocomplete-panel"],["role","listbox"]],[[8,"id",0]],null,null,null,null)),Io(1,278528,null,0,Su,[lr,cr,Nn,Dn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Yo(null,0)],function(t,e){t(e,1,0,"mat-autocomplete-panel",e.component._classList)},function(t,e){t(e,0,0,e.component.id)})}function Kk(t){return oa(2,[Go(402653184,1,{template:0}),Go(671088640,2,{panel:0}),(t()(),Bi(0,[[1,2]],null,0,null,Gk))],null,null)}var Wk=ui({encapsulation:0,styles:[["td[_ngcontent-%COMP%]{vertical-align:middle}.leftRemove[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}.first[_ngcontent-%COMP%]{position:absolute;z-index:1001}.second[_ngcontent-%COMP%]{position:absolute;z-index:1200;font-size:32px}.mytop[_ngcontent-%COMP%]{position:fixed;top:auto;right:0;left:0;z-index:1030}label[_ngcontent-%COMP%]{font-size:18px;font-weight:700;padding:3px}input[_ngcontent-%COMP%]{font-size:20px;font-weight:700;padding:10px}"]],data:{}});function Qk(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),na(-1,null,[" First Name is required. "]))],null,null)}function $k(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),na(-1,null,[" First Name should more than Three letters. "]))],null,null)}function Yk(t){return oa(0,[(t()(),ji(0,0,null,null,4,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,Qk)),Io(2,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,$k)),Io(4,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,null==go(e.parent,25)?null:go(e.parent,25).errors.required),t(e,4,0,null==go(e.parent,25)?null:go(e.parent,25).errors.minlength)},null)}function Xk(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),na(-1,null,[" Second Name is required. "]))],null,null)}function Jk(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),na(-1,null,[" Second Name should more than Three letters. "]))],null,null)}function Zk(t){return oa(0,[(t()(),ji(0,0,null,null,4,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,Xk)),Io(2,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,Jk)),Io(4,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,null==go(e.parent,37)?null:go(e.parent,37).errors.required),t(e,4,0,null==go(e.parent,37)?null:go(e.parent,37).errors.minlength)},null)}function tA(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),na(-1,null,[" Email is required. "]))],null,null)}function eA(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),na(-1,null,[" Not An Email "]))],null,null)}function nA(t){return oa(0,[(t()(),ji(0,0,null,null,4,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,tA)),Io(2,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,eA)),Io(4,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,null==go(e.parent,49)?null:go(e.parent,49).errors.required),t(e,4,0,null==go(e.parent,49)?null:go(e.parent,49).errors.email)},null)}function rA(t){return oa(0,[(t()(),ji(0,0,null,null,2,"mat-placeholder",[["class","badge badge-danger"]],null,null,null,null,null)),Io(1,16384,[[2,4]],0,pw,[],null,null),(t()(),na(-1,null,["Select Country"]))],null,null)}function iA(t){return oa(0,[(t()(),ji(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==go(t,1)._selectViaInteraction()&&r),"keydown"===e&&(r=!1!==go(t,1)._handleKeydown(n)&&r),"click"===e&&(r=!1!==i.checkCountry()&&r),r},hS,lS)),Io(1,8568832,[[8,4]],0,sw,[Nn,Hn,[2,aw],[2,rw]],{value:[0,"value"]},null),(t()(),na(2,0,[" "," "]))],function(t,e){t(e,1,0,e.context.$implicit.name)},function(t,e){t(e,0,0,go(e,1)._getTabIndex(),go(e,1).selected,go(e,1).multiple,go(e,1).active,go(e,1).id,go(e,1).selected.toString(),go(e,1).disabled.toString(),go(e,1).disabled),t(e,2,0,e.context.$implicit.name)})}function oA(t){return oa(0,[(t()(),ji(0,0,null,null,2,"mat-placeholder",[["class","badge badge-danger"]],null,null,null,null,null)),Io(1,16384,[[11,4]],0,pw,[],null,null),(t()(),na(-1,null,["Select City"]))],null,null)}function aA(t){return oa(0,[(t()(),ji(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==go(t,1)._selectViaInteraction()&&r),"keydown"===e&&(r=!1!==go(t,1)._handleKeydown(n)&&r),"click"===e&&(r=!1!==i.checkCity()&&r),r},hS,lS)),Io(1,8568832,[[17,4]],0,sw,[Nn,Hn,[2,aw],[2,rw]],{value:[0,"value"]},null),(t()(),na(2,0,[" "," "]))],function(t,e){t(e,1,0,e.context.$implicit.region)},function(t,e){t(e,0,0,go(e,1)._getTabIndex(),go(e,1).selected,go(e,1).multiple,go(e,1).active,go(e,1).id,go(e,1).selected.toString(),go(e,1).disabled.toString(),go(e,1).disabled),t(e,2,0,e.context.$implicit.region)})}function sA(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),na(-1,null,[" Phone Number is required. "]))],null,null)}function uA(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),na(-1,null,[" Phone Number Not More Than 12 Digits "]))],null,null)}function lA(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),na(-1,null,[" Phone Should Be Digits "]))],null,null)}function cA(t){return oa(0,[(t()(),ji(0,0,null,null,6,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,sA)),Io(2,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,uA)),Io(4,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,lA)),Io(6,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,null==go(e.parent,121)?null:go(e.parent,121).errors.required),t(e,4,0,null==go(e.parent,121)?null:go(e.parent,121).errors.minlength),t(e,6,0,null==go(e.parent,121)?null:go(e.parent,121).errors.pattern)},null)}function hA(t){return oa(0,[(t()(),ji(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),na(-1,null,[" Salary is required. "]))],null,null)}function dA(t){return oa(0,[(t()(),ji(0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,hA)),Io(2,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,null==go(e.parent,137)?null:go(e.parent,137).errors.required)},null)}function pA(t){return oa(0,[(t()(),ji(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),ji(1,0,null,null,1,"app-loading",[],null,null,null,yS,gS)),Io(2,114688,null,0,fS,[],null,null)],function(t,e){t(e,2,0)},null)}function fA(t){return oa(0,[(t()(),ji(0,0,null,null,0,"img",[["alt","Nooo First Image"],["class","rounded-circle"],["height","100px"],["style","margin-top:0px;margin-left:0px;margin-bottom: 70px;"],["width","100px"]],[[8,"src",4]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,n.sanitizer.bypassSecurityTrustUrl(n.url))})}function gA(t){return oa(0,[(t()(),ji(0,0,null,null,0,"img",[["alt","Noooo image"],["class","rounded-circle"],["height","100px"],["style","margin-top:0px;margin-left:0px;margin-bottom: 70px;"],["width","100px"]],[[8,"src",4]],null,null,null,null))],null,function(t,e){t(e,0,0,Li(1,"",e.component.employee.image,""))})}function yA(t){return oa(0,[(t()(),ji(0,0,null,null,1,"button",[["class","btn btn-success font-weight-bold"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(t()(),na(1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,!go(e.parent,15).form.valid||n.error),t(e,1,0,n.btnTitle)})}function mA(t){return oa(0,[(t()(),ji(0,0,null,null,1,"button",[["class","btn btn-success font-weight-bold"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(t()(),na(1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,!go(e.parent,15).form.valid||n.error),t(e,1,0,n.btnTitle)})}function vA(t){return oa(0,[(t()(),ji(0,0,null,null,163,"div",[["class","container"]],null,null,null,null,null)),(t()(),ji(1,0,null,null,162,"div",[["class","row"],["style","margin-top: 20px;"]],null,null,null,null,null)),(t()(),ji(2,0,null,null,161,"div",[["class","col"]],null,null,null,null,null)),(t()(),ji(3,0,null,null,4,"a",[["class","btn btn-warning"],["routerLink","/dashboard"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==go(t,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Io(4,671744,null,0,gp,[dp,Ad,Ys],{routerLink:[0,"routerLink"]},null),(t()(),ji(5,0,null,null,2,"h4",[],null,null,null,null,null)),(t()(),ji(6,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-arrow-circle-o-left"]],null,null,null,null,null)),(t()(),na(-1,null,[" Back to Dashboard "])),(t()(),ji(8,0,null,null,155,"div",[["class","jumbotron bg-warning "],["style","margin-top: 10px"]],null,null,null,null,null)),(t()(),ji(9,0,null,null,2,"h4",[["class","display-5 font-weight-bold text-center"],["style","margin-top:-20px;"]],null,null,null,null,null)),(t()(),ji(10,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-user-circle"],["style","color: darkred"]],null,null,null,null,null)),(t()(),na(-1,null,[" Add New Employee"])),(t()(),ji(12,0,null,null,151,"div",[["class","container"],["style","margin-top: 10px;"]],null,null,null,null,null)),(t()(),ji(13,0,null,null,150,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==go(t,15).onSubmit(n)&&r),"reset"===e&&(r=!1!==go(t,15).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.onsubmit(go(t,15))&&r),r},null,null)),Io(14,16384,null,0,_m,[],null,null),Io(15,4210688,[["postForm",4]],0,nm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oo(2048,null,sy,null,[nm]),Io(17,16384,null,0,qy,[[4,sy]],null,null),(t()(),ji(18,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ji(19,0,null,null,8,"input",[["class","form-control"],["id","firstName"],["minlength","3"],["name","firstName"],["placeholder","First Name"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==go(t,20)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,20).onTouched()&&r),"compositionstart"===e&&(r=!1!==go(t,20)._compositionStart()&&r),"compositionend"===e&&(r=!1!==go(t,20)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.employee.firstName=n)&&r),r},null,null)),Io(20,16384,null,0,my,[Dn,Nn,[2,yy]],null,null),Io(21,16384,null,0,fm,[],{required:[0,"required"]},null),Io(22,540672,null,0,ym,[],{minlength:[0,"minlength"]},null),Oo(1024,null,ly,function(t,e){return[t,e]},[fm,ym]),Oo(1024,null,gy,function(t){return[t]},[my]),Io(25,671744,[["firstName",4]],0,am,[[2,sy],[6,ly],[8,null],[6,gy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oo(2048,null,Cy,null,[am]),Io(27,16384,null,0,zy,[[4,Cy]],null,null),(t()(),Bi(16777216,null,null,1,null,Yk)),Io(29,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(30,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ji(31,0,null,null,8,"input",[["class","form-control"],["id","lastName"],["minlength","3"],["name","lastName"],["placeholder","Last Name"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==go(t,32)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,32).onTouched()&&r),"compositionstart"===e&&(r=!1!==go(t,32)._compositionStart()&&r),"compositionend"===e&&(r=!1!==go(t,32)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.employee.lastName=n)&&r),r},null,null)),Io(32,16384,null,0,my,[Dn,Nn,[2,yy]],null,null),Io(33,16384,null,0,fm,[],{required:[0,"required"]},null),Io(34,540672,null,0,ym,[],{minlength:[0,"minlength"]},null),Oo(1024,null,ly,function(t,e){return[t,e]},[fm,ym]),Oo(1024,null,gy,function(t){return[t]},[my]),Io(37,671744,[["lastName",4]],0,am,[[2,sy],[6,ly],[8,null],[6,gy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oo(2048,null,Cy,null,[am]),Io(39,16384,null,0,zy,[[4,Cy]],null,null),(t()(),Bi(16777216,null,null,1,null,Zk)),Io(41,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(42,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ji(43,0,null,null,8,"input",[["class","form-control"],["email","true"],["id","email"],["name","email"],["placeholder","Email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==go(t,44)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,44).onTouched()&&r),"compositionstart"===e&&(r=!1!==go(t,44)._compositionStart()&&r),"compositionend"===e&&(r=!1!==go(t,44)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.employee.email=n)&&r),r},null,null)),Io(44,16384,null,0,my,[Dn,Nn,[2,yy]],null,null),Io(45,16384,null,0,fm,[],{required:[0,"required"]},null),Io(46,16384,null,0,gm,[],{email:[0,"email"]},null),Oo(1024,null,ly,function(t,e){return[t,e]},[fm,gm]),Oo(1024,null,gy,function(t){return[t]},[my]),Io(49,671744,[["email",4]],0,am,[[2,sy],[6,ly],[8,null],[6,gy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oo(2048,null,Cy,null,[am]),Io(51,16384,null,0,zy,[[4,Cy]],null,null),(t()(),Bi(16777216,null,null,1,null,nA)),Io(53,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(54,0,null,null,58,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ji(55,0,null,null,28,"mat-form-field",[["class","col-lg-4 col-xs-12 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,NS,wS)),Io(56,7389184,null,7,_w,[Nn,Hn,[2,lw],[2,Cw],[2,vw],X_,un,[2,sS]],null,null),Go(335544320,1,{_control:0}),Go(603979776,2,{_placeholderChild:0}),Go(335544320,3,{_labelChild:0}),Go(603979776,4,{_errorChildren:1}),Go(603979776,5,{_hintChildren:1}),Go(603979776,6,{_prefixChildren:1}),Go(603979776,7,{_suffixChildren:1}),(t()(),ji(64,16777216,null,1,9,"input",[["aria-label","country"],["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","country"],["type","text"]],[[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==go(t,66)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,66).onTouched()&&r),"compositionstart"===e&&(r=!1!==go(t,66)._compositionStart()&&r),"compositionend"===e&&(r=!1!==go(t,66)._compositionEnd(n.target.value)&&r),"focusin"===e&&(r=!1!==go(t,67)._handleFocus()&&r),"blur"===e&&(r=!1!==go(t,67)._onTouched()&&r),"input"===e&&(r=!1!==go(t,67)._handleInput(n)&&r),"keydown"===e&&(r=!1!==go(t,67)._handleKeydown(n)&&r),"blur"===e&&(r=!1!==go(t,72)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==go(t,72)._focusChanged(!0)&&r),"input"===e&&(r=!1!==go(t,72)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.country=n)&&r),"keyup"===e&&(r=!1!==i.checkCountry()&&r),r},null,null)),Io(65,278528,null,0,Su,[lr,cr,Nn,Dn],{ngClass:[0,"ngClass"]},null),Io(66,16384,null,0,my,[Dn,Nn,[2,yy]],null,null),Io(67,147456,null,0,xk,[Nn,wk,qn,un,Hn,Dk,[2,Cw],[2,_w],[2,il],zS],{autocomplete:[0,"autocomplete"]},null),Oo(1024,null,gy,function(t,e){return[t,e]},[my,xk]),Io(69,540672,null,0,um,[[8,null],[8,null],[6,gy],[2,sm]],{form:[0,"form"],model:[1,"model"]},{update:"ngModelChange"}),Oo(2048,null,Cy,null,[um]),Io(71,16384,null,0,zy,[[4,Cy]],null,null),Io(72,999424,null,0,zk,[Nn,X_,[6,Cy],[2,nm],[2,lm],Hb,[8,null],Fk,un],{type:[0,"type"]},null),Oo(2048,[[1,4]],hw,null,[zk]),(t()(),Bi(16777216,null,2,1,null,rA)),Io(75,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(76,0,null,1,7,"mat-autocomplete",[["autoActiveFirstOption",""],["class","mat-autocomplete"]],null,null,null,Kk,Hk)),Oo(6144,null,aw,null,[Rk]),Io(78,1097728,[["auto",4]],2,Rk,[Hn,Nn,Ik],{autoActiveFirstOption:[0,"autoActiveFirstOption"]},null),Go(603979776,8,{options:1}),Go(603979776,9,{optionGroups:1}),(t()(),Bi(16777216,null,0,2,null,iA)),Io(82,278528,null,0,Au,[qn,zn,lr],{ngForOf:[0,"ngForOf"]},null),Ro(131072,tl,[Hn]),(t()(),ji(84,0,null,null,28,"mat-form-field",[["class","col-lg-4 col-xs-12 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,NS,wS)),Io(85,7389184,null,7,_w,[Nn,Hn,[2,lw],[2,Cw],[2,vw],X_,un,[2,sS]],null,null),Go(335544320,10,{_control:0}),Go(603979776,11,{_placeholderChild:0}),Go(335544320,12,{_labelChild:0}),Go(603979776,13,{_errorChildren:1}),Go(603979776,14,{_hintChildren:1}),Go(603979776,15,{_prefixChildren:1}),Go(603979776,16,{_suffixChildren:1}),(t()(),ji(93,16777216,null,1,9,"input",[["aria-label","city"],["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["type","text"]],[[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"keyup"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==go(t,95)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,95).onTouched()&&r),"compositionstart"===e&&(r=!1!==go(t,95)._compositionStart()&&r),"compositionend"===e&&(r=!1!==go(t,95)._compositionEnd(n.target.value)&&r),"focusin"===e&&(r=!1!==go(t,96)._handleFocus()&&r),"blur"===e&&(r=!1!==go(t,96)._onTouched()&&r),"input"===e&&(r=!1!==go(t,96)._handleInput(n)&&r),"keydown"===e&&(r=!1!==go(t,96)._handleKeydown(n)&&r),"blur"===e&&(r=!1!==go(t,101)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==go(t,101)._focusChanged(!0)&&r),"input"===e&&(r=!1!==go(t,101)._onInput()&&r),"keyup"===e&&(r=!1!==i.checkCity()&&r),"ngModelChange"===e&&(r=!1!==(i.city=n)&&r),r},null,null)),Io(94,278528,null,0,Su,[lr,cr,Nn,Dn],{ngClass:[0,"ngClass"]},null),Io(95,16384,null,0,my,[Dn,Nn,[2,yy]],null,null),Io(96,147456,null,0,xk,[Nn,wk,qn,un,Hn,Dk,[2,Cw],[2,_w],[2,il],zS],{autocomplete:[0,"autocomplete"]},null),Oo(1024,null,gy,function(t,e){return[t,e]},[my,xk]),Io(98,540672,null,0,um,[[8,null],[8,null],[6,gy],[2,sm]],{form:[0,"form"],model:[1,"model"]},{update:"ngModelChange"}),Oo(2048,null,Cy,null,[um]),Io(100,16384,null,0,zy,[[4,Cy]],null,null),Io(101,999424,null,0,zk,[Nn,X_,[6,Cy],[2,nm],[2,lm],Hb,[8,null],Fk,un],{type:[0,"type"]},null),Oo(2048,[[10,4]],hw,null,[zk]),(t()(),Bi(16777216,null,2,1,null,oA)),Io(104,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(105,0,null,1,7,"mat-autocomplete",[["autoActiveFirstOption",""],["class","mat-autocomplete"]],null,null,null,Kk,Hk)),Oo(6144,null,aw,null,[Rk]),Io(107,1097728,[["autoCity",4]],2,Rk,[Hn,Nn,Ik],{autoActiveFirstOption:[0,"autoActiveFirstOption"]},null),Go(603979776,17,{options:1}),Go(603979776,18,{optionGroups:1}),(t()(),Bi(16777216,null,0,2,null,aA)),Io(111,278528,null,0,Au,[qn,zn,lr],{ngForOf:[0,"ngForOf"]},null),Ro(131072,tl,[Hn]),(t()(),ji(113,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ji(114,0,null,null,9,"input",[["class","form-control"],["id","phone"],["minlength","12"],["name","phone"],["pattern","\\d*"],["placeholder","Phone"],["required",""],["type","tel"]],[[1,"required",0],[1,"minlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==go(t,115)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,115).onTouched()&&r),"compositionstart"===e&&(r=!1!==go(t,115)._compositionStart()&&r),"compositionend"===e&&(r=!1!==go(t,115)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.employee.phone=n)&&r),r},null,null)),Io(115,16384,null,0,my,[Dn,Nn,[2,yy]],null,null),Io(116,16384,null,0,fm,[],{required:[0,"required"]},null),Io(117,540672,null,0,ym,[],{minlength:[0,"minlength"]},null),Io(118,540672,null,0,mm,[],{pattern:[0,"pattern"]},null),Oo(1024,null,ly,function(t,e,n){return[t,e,n]},[fm,ym,mm]),Oo(1024,null,gy,function(t){return[t]},[my]),Io(121,671744,[["phone",4]],0,am,[[2,sy],[6,ly],[8,null],[6,gy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oo(2048,null,Cy,null,[am]),Io(123,16384,null,0,zy,[[4,Cy]],null,null),(t()(),Bi(16777216,null,null,1,null,cA)),Io(125,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(126,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ji(127,0,null,null,12,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),ji(128,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),ji(129,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),ji(130,0,null,null,0,"i",[["class","fa fa-dollar"]],null,null,null,null,null)),(t()(),ji(131,0,null,null,8,"input",[["class","form-control"],["id","salary"],["min","0"],["name","salary"],["oninput","validity.valid||(value='')"],["placeholder","Salary"],["required",""],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==go(t,132)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,132).onTouched()&&r),"compositionstart"===e&&(r=!1!==go(t,132)._compositionStart()&&r),"compositionend"===e&&(r=!1!==go(t,132)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==go(t,133).onChange(n.target.value)&&r),"input"===e&&(r=!1!==go(t,133).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==go(t,133).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.employee.salary=n)&&r),r},null,null)),Io(132,16384,null,0,my,[Dn,Nn,[2,yy]],null,null),Io(133,16384,null,0,by,[Dn,Nn],null,null),Io(134,16384,null,0,fm,[],{required:[0,"required"]},null),Oo(1024,null,ly,function(t){return[t]},[fm]),Oo(1024,null,gy,function(t,e){return[t,e]},[my,by]),Io(137,671744,[["salary",4]],0,am,[[2,sy],[6,ly],[8,null],[6,gy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oo(2048,null,Cy,null,[am]),Io(139,16384,null,0,zy,[[4,Cy]],null,null),(t()(),Bi(16777216,null,null,1,null,dA)),Io(141,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(142,0,null,null,14,"div",[],null,null,null,null,null)),(t()(),ji(143,0,[["upload",1]],null,0,"input",[["accept","image/*"],["type","file"]],[[8,"hidden",0]],[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.onImageChange(n)&&r),r},null,null)),(t()(),ji(144,0,null,null,12,"div",[["class","row"],["style","min-height: 110px;"]],null,null,null,null,null)),(t()(),ji(145,0,null,null,11,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),ji(146,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(t()(),ji(147,0,null,null,2,"div",[["class","col-lg-3 col-5"]],null,null,null,null,null)),(t()(),ji(148,0,null,null,1,"div",[["class","btn btn-dark "],["style","margin-top:40px"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==go(t,143).click()&&r),r},null,null)),(t()(),na(-1,null,[" Select Photo "])),(t()(),ji(150,0,null,null,6,"div",[["class","col-lg-9 col-7"]],null,null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,pA)),Io(152,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,fA)),Io(154,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,gA)),Io(156,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(157,0,null,null,6,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,yA)),Io(159,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,mA)),Io(161,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),ji(162,0,null,null,1,"button",[["class","btn btn-success font-weight-bold"],["style","margin-left:30px;"],["type","reset"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==(t.component.url="")&&r),r},null,null)),(t()(),na(-1,null,["Reset"]))],function(t,e){var n=e.component;t(e,4,0,"/dashboard"),t(e,21,0,""),t(e,22,0,"3"),t(e,25,0,"firstName",n.employee.firstName),t(e,29,0,go(e,25).invalid&&(go(e,25).dirty||go(e,25).touched)),t(e,33,0,""),t(e,34,0,"3"),t(e,37,0,"lastName",n.employee.lastName),t(e,41,0,go(e,37).invalid&&(go(e,37).dirty||go(e,37).touched)),t(e,45,0,""),t(e,46,0,"true"),t(e,49,0,"email",n.employee.email),t(e,53,0,go(e,49).invalid&&(go(e,49).dirty||go(e,49).touched)),t(e,65,0,n.countryError?"text-danger":"text-success"),t(e,67,0,go(e,78)),t(e,69,0,n.myCountryControl,n.country),t(e,72,0,"text"),t(e,75,0,n.countryError||!n.country),t(e,78,0,""),t(e,82,0,oi(e,82,0,go(e,83).transform(n.countryOptions))),t(e,94,0,n.cityError?"text-danger":"text-success"),t(e,96,0,go(e,107)),t(e,98,0,n.myCityControl,n.city),t(e,101,0,"text"),t(e,104,0,n.cityError||!n.city),t(e,107,0,""),t(e,111,0,oi(e,111,0,go(e,112).transform(n.cityOptions))),t(e,116,0,""),t(e,117,0,"12"),t(e,118,0,"\\d*"),t(e,121,0,"phone",n.employee.phone),t(e,125,0,go(e,121).invalid&&(go(e,121).dirty||go(e,121).touched)),t(e,134,0,""),t(e,137,0,"salary",n.employee.salary),t(e,141,0,go(e,137).invalid&&(go(e,137).dirty||go(e,137).touched)),t(e,152,0,n.load),t(e,154,0,n.url),t(e,156,0,!n.url&&!n.myEvent&&n.employee.image),t(e,159,0,!n.forEdit),t(e,161,0,n.forEdit)},function(t,e){t(e,3,0,go(e,4).target,go(e,4).href),t(e,13,0,go(e,17).ngClassUntouched,go(e,17).ngClassTouched,go(e,17).ngClassPristine,go(e,17).ngClassDirty,go(e,17).ngClassValid,go(e,17).ngClassInvalid,go(e,17).ngClassPending),t(e,19,0,go(e,21).required?"":null,go(e,22).minlength?go(e,22).minlength:null,go(e,27).ngClassUntouched,go(e,27).ngClassTouched,go(e,27).ngClassPristine,go(e,27).ngClassDirty,go(e,27).ngClassValid,go(e,27).ngClassInvalid,go(e,27).ngClassPending),t(e,31,0,go(e,33).required?"":null,go(e,34).minlength?go(e,34).minlength:null,go(e,39).ngClassUntouched,go(e,39).ngClassTouched,go(e,39).ngClassPristine,go(e,39).ngClassDirty,go(e,39).ngClassValid,go(e,39).ngClassInvalid,go(e,39).ngClassPending),t(e,43,0,go(e,45).required?"":null,go(e,51).ngClassUntouched,go(e,51).ngClassTouched,go(e,51).ngClassPristine,go(e,51).ngClassDirty,go(e,51).ngClassValid,go(e,51).ngClassInvalid,go(e,51).ngClassPending),t(e,55,1,["standard"==go(e,56).appearance,"fill"==go(e,56).appearance,"outline"==go(e,56).appearance,"legacy"==go(e,56).appearance,go(e,56)._control.errorState,go(e,56)._canLabelFloat,go(e,56)._shouldLabelFloat(),go(e,56)._hideControlPlaceholder(),go(e,56)._control.disabled,go(e,56)._control.autofilled,go(e,56)._control.focused,"accent"==go(e,56).color,"warn"==go(e,56).color,go(e,56)._shouldForward("untouched"),go(e,56)._shouldForward("touched"),go(e,56)._shouldForward("pristine"),go(e,56)._shouldForward("dirty"),go(e,56)._shouldForward("valid"),go(e,56)._shouldForward("invalid"),go(e,56)._shouldForward("pending"),!go(e,56)._animationsEnabled]),t(e,64,1,[go(e,67).autocompleteAttribute,go(e,67).autocompleteDisabled?null:"combobox",go(e,67).autocompleteDisabled?null:"list",null==go(e,67).activeOption?null:go(e,67).activeOption.id,go(e,67).autocompleteDisabled?null:go(e,67).panelOpen.toString(),go(e,67).autocompleteDisabled||!go(e,67).panelOpen?null:null==go(e,67).autocomplete?null:go(e,67).autocomplete.id,go(e,71).ngClassUntouched,go(e,71).ngClassTouched,go(e,71).ngClassPristine,go(e,71).ngClassDirty,go(e,71).ngClassValid,go(e,71).ngClassInvalid,go(e,71).ngClassPending,go(e,72)._isServer,go(e,72).id,go(e,72).placeholder,go(e,72).disabled,go(e,72).required,go(e,72).readonly,go(e,72)._ariaDescribedby||null,go(e,72).errorState,go(e,72).required.toString()]),t(e,84,1,["standard"==go(e,85).appearance,"fill"==go(e,85).appearance,"outline"==go(e,85).appearance,"legacy"==go(e,85).appearance,go(e,85)._control.errorState,go(e,85)._canLabelFloat,go(e,85)._shouldLabelFloat(),go(e,85)._hideControlPlaceholder(),go(e,85)._control.disabled,go(e,85)._control.autofilled,go(e,85)._control.focused,"accent"==go(e,85).color,"warn"==go(e,85).color,go(e,85)._shouldForward("untouched"),go(e,85)._shouldForward("touched"),go(e,85)._shouldForward("pristine"),go(e,85)._shouldForward("dirty"),go(e,85)._shouldForward("valid"),go(e,85)._shouldForward("invalid"),go(e,85)._shouldForward("pending"),!go(e,85)._animationsEnabled]),t(e,93,1,[go(e,96).autocompleteAttribute,go(e,96).autocompleteDisabled?null:"combobox",go(e,96).autocompleteDisabled?null:"list",null==go(e,96).activeOption?null:go(e,96).activeOption.id,go(e,96).autocompleteDisabled?null:go(e,96).panelOpen.toString(),go(e,96).autocompleteDisabled||!go(e,96).panelOpen?null:null==go(e,96).autocomplete?null:go(e,96).autocomplete.id,go(e,100).ngClassUntouched,go(e,100).ngClassTouched,go(e,100).ngClassPristine,go(e,100).ngClassDirty,go(e,100).ngClassValid,go(e,100).ngClassInvalid,go(e,100).ngClassPending,go(e,101)._isServer,go(e,101).id,go(e,101).placeholder,go(e,101).disabled,go(e,101).required,go(e,101).readonly,go(e,101)._ariaDescribedby||null,go(e,101).errorState,go(e,101).required.toString()]),t(e,114,0,go(e,116).required?"":null,go(e,117).minlength?go(e,117).minlength:null,go(e,118).pattern?go(e,118).pattern:null,go(e,123).ngClassUntouched,go(e,123).ngClassTouched,go(e,123).ngClassPristine,go(e,123).ngClassDirty,go(e,123).ngClassValid,go(e,123).ngClassInvalid,go(e,123).ngClassPending),t(e,131,0,go(e,134).required?"":null,go(e,139).ngClassUntouched,go(e,139).ngClassTouched,go(e,139).ngClassPristine,go(e,139).ngClassDirty,go(e,139).ngClassValid,go(e,139).ngClassInvalid,go(e,139).ngClassPending),t(e,143,0,!0)})}var _A=ro("app-add-employee",bv,function(t){return oa(0,[(t()(),ji(0,0,null,null,1,"app-add-employee",[],null,null,null,vA,Wk)),Io(1,114688,null,0,bv,[$c,vv,sv,Em,Ss,vf,Ad,Zg,dp,Xv],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]);class bA{constructor(t,e,n,r){this.auth=t,this.toast=e,this.router=n,this.global=r,this.picture="../../../assets/Images/live-messenger-blue_512x512.png"}ngOnInit(){this.auth.getAuth().subscribe(t=>{t?(this.isLogedIn=!0,this.userEmail=t.email,t.photoURL&&(this.picture=t.photoURL)):this.isLogedIn=!1})}ngAfterViewInit(){}signOut(){this.auth.signOut().then(()=>{this.toast.success("You are logged out Sucessfully","Logout"),this.router.navigate(["/login"])},t=>{}),this.ngOnInit()}set(t){this.auth.set(t)}}var wA=ui({encapsulation:0,styles:[[".nav-link[_ngcontent-%COMP%]{color:#fff}.small[_ngcontent-%COMP%]{width:40px;height:40px}"]],data:{}});function CA(t){return oa(0,[(t()(),ji(0,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),ji(1,0,null,null,5,"a",[["class","nav-link"],["routerLink","/dashboard"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==go(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Io(2,671744,[[2,4]],0,gp,[dp,Ad,Ys],{routerLink:[0,"routerLink"]},null),Io(3,1720320,null,2,mp,[dp,Nn,Dn,Hn],{routerLinkActive:[0,"routerLinkActive"]},null),Go(603979776,1,{links:1}),Go(603979776,2,{linksWithHrefs:1}),(t()(),na(-1,null,["Dashboard "]))],function(t,e){t(e,2,0,"/dashboard"),t(e,3,0,"active")},function(t,e){t(e,1,0,go(e,2).target,go(e,2).href)})}function EA(t){return oa(0,[(t()(),ji(0,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),ji(1,0,null,null,5,"a",[["class","nav-link"],["routerLink","/login"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==go(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Io(2,671744,[[4,4]],0,gp,[dp,Ad,Ys],{routerLink:[0,"routerLink"]},null),Io(3,1720320,null,2,mp,[dp,Nn,Dn,Hn],{routerLinkActive:[0,"routerLinkActive"]},null),Go(603979776,3,{links:1}),Go(603979776,4,{linksWithHrefs:1}),(t()(),na(-1,null,["Login"]))],function(t,e){t(e,2,0,"/login"),t(e,3,0,"active")},function(t,e){t(e,1,0,go(e,2).target,go(e,2).href)})}function SA(t){return oa(0,[(t()(),ji(0,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),ji(1,0,null,null,5,"a",[["class","nav-link"],["routerLink","/settings"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==go(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Io(2,671744,[[6,4]],0,gp,[dp,Ad,Ys],{routerLink:[0,"routerLink"]},null),Io(3,1720320,null,2,mp,[dp,Nn,Dn,Hn],{routerLinkActive:[0,"routerLinkActive"]},null),Go(603979776,5,{links:1}),Go(603979776,6,{linksWithHrefs:1}),(t()(),na(-1,null,["Settings"]))],function(t,e){t(e,2,0,"/settings"),t(e,3,0,"active")},function(t,e){t(e,1,0,go(e,2).target,go(e,2).href)})}function kA(t){return oa(0,[(t()(),ji(0,0,null,null,8,"ul",[["class","navbar-nav ml-auto"]],null,null,null,null,null)),(t()(),ji(1,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),ji(2,0,null,null,2,"a",[["class","nav-link "]],null,null,null,null,null)),(t()(),na(3,null,[" "," \xa0 "])),(t()(),ji(4,0,null,null,0,"img",[["class","rounded-circle pull-right small "]],[[8,"src",4]],null,null,null,null)),(t()(),ji(5,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),ji(6,0,null,null,2,"a",[["class","nav-link"],["routerLink","/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==go(t,7).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==i.signOut()&&r),r},null,null)),Io(7,671744,null,0,gp,[dp,Ad,Ys],{routerLink:[0,"routerLink"]},null),(t()(),na(-1,null,["Logout"]))],function(t,e){t(e,7,0,"/login")},function(t,e){var n=e.component;t(e,3,0,n.userEmail),t(e,4,0,Li(1,"",n.picture,"")),t(e,6,0,go(e,7).target,go(e,7).href)})}function AA(t){return oa(0,[(t()(),ji(0,0,null,null,16,"div",[],null,null,null,null,null)),(t()(),ji(1,0,null,null,15,"nav",[["class","navbar navbar-expand-lg navbar-dark bg-dark"],["style","margin-bottom:20px;"]],null,null,null,null,null)),(t()(),ji(2,0,null,null,2,"a",[["class","navbar-brand"],["routerLink",""],["style","font-weight: bolder"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==go(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Io(3,671744,null,0,gp,[dp,Ad,Ys],{routerLink:[0,"routerLink"]},null),(t()(),na(-1,null,["EmployeesNG"])),(t()(),ji(5,0,null,null,1,"button",[["aria-controls","navbarColor01"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarColor01"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),ji(6,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),ji(7,0,null,null,9,"div",[["class","collapse navbar-collapse"],["id","navbarColor01"],["style","font-size:20px;"]],null,null,null,null,null)),(t()(),ji(8,0,null,null,6,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,CA)),Io(10,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,EA)),Io(12,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,SA)),Io(14,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,kA)),Io(16,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,""),t(e,10,0,n.isLogedIn),t(e,12,0,!n.isLogedIn),t(e,14,0,n.isLogedIn),t(e,16,0,n.isLogedIn)},function(t,e){t(e,2,0,go(e,3).target,go(e,3).href)})}var TA=ui({encapsulation:2,styles:[],data:{}});function IA(t){return oa(0,[(t()(),ji(0,0,null,null,0,"div",[["class","snotify-backdrop"]],[[4,"opacity",null]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.backdrop)})}function RA(t){return oa(0,[(t()(),ji(0,0,null,null,1,"ng-snotify-toast",[],null,[[null,"stateChanged"]],function(t,e,n){var r=!0;return"stateChanged"===e&&(r=!1!==t.component.stateChanged(n)&&r),r},zA,DA)),Io(1,1294336,null,0,Ts,[Ss],{toast:[0,"toast"]},{stateChanged:"stateChanged"})],function(t,e){t(e,1,0,e.context.$implicit)},null)}function OA(t){return oa(0,[(t()(),ji(0,0,null,null,3,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),Bi(16777216,null,null,2,null,RA)),Io(2,278528,null,0,Au,[qn,zn,lr],{ngForOf:[0,"ngForOf"]},null),Ro(0,nl,[])],function(t,e){var n=e.component;t(e,2,0,oi(e,2,0,go(e,3).transform(n.notifications[e.context.$implicit],n.blockSize_a,n.blockSize_b)))},function(t,e){t(e,0,0,Li(1,"snotify snotify-",e.context.$implicit,""))})}function PA(t){return oa(0,[(t()(),Bi(16777216,null,null,1,null,IA)),Io(1,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,2,null,OA)),Io(3,278528,null,0,Au,[qn,zn,lr],{ngForOf:[0,"ngForOf"]},null),Ro(0,Ps,[])],function(t,e){var n=e.component;t(e,1,0,n.backdrop>=0),t(e,3,0,oi(e,3,0,go(e,4).transform(n.notifications)))},null)}var DA=ui({encapsulation:2,styles:[],data:{}});function NA(t){return oa(0,[(t()(),ji(0,0,null,null,3,"div",[["class","snotifyToast__progressBar"]],null,null,null,null,null)),(t()(),ji(1,0,null,null,2,"span",[["class","snotifyToast__progressBar__percentage"]],null,null,null,null,null)),Io(2,278528,null,0,xu,[cr,Nn,Dn],{ngStyle:[0,"ngStyle"]},null),ta(3,{width:0})],function(t,e){t(e,2,0,t(e,3,0,100*e.component.state.progress+"%"))},null)}function xA(t){return oa(0,[(t()(),ji(0,0,null,null,2,"div",[["class","snotifyToast__title"]],[[1,"id",0]],null,null,null,null)),(t()(),na(1,null,["",""])),Jo(2,2)],null,function(t,e){var n=e.component;t(e,0,0,"snotify_"+n.toast.id),t(e,1,0,oi(e,1,0,t(e,2,0,go(e.parent.parent,0),n.toast.title,n.toast.config.titleMaxLength)))})}function MA(t){return oa(0,[(t()(),ji(0,0,null,null,2,"div",[["class","snotifyToast__body"]],null,null,null,null,null)),(t()(),na(1,null,["",""])),Jo(2,2)],null,function(t,e){var n=e.component;t(e,1,0,oi(e,1,0,t(e,2,0,go(e.parent.parent,0),n.toast.body,n.toast.config.bodyMaxLength)))})}function LA(t){return oa(0,[(t()(),ji(0,0,null,null,1,"ng-snotify-prompt",[],null,null,null,WA,KA)),Io(1,49152,null,0,Os,[],{toast:[0,"toast"]},null)],function(t,e){t(e,1,0,e.component.toast)},null)}function FA(t){return oa(0,[(t()(),ji(0,0,null,null,2,"div",[],null,null,null,null,null)),Io(1,278528,null,0,Su,[lr,cr,Nn,Dn],{ngClass:[0,"ngClass"]},null),Zo(2,2)],function(t,e){var n=e.component;t(e,1,0,t(e,2,0,"snotify-icon",n.toast.config.iconClass||"snotify-icon--"+n.toast.config.type))},null)}function BA(t){return oa(0,[(t()(),ji(0,0,null,null,0,"img",[["class","snotify-icon"]],[[8,"src",4]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.toast.config.icon)})}function jA(t){return oa(0,[(t()(),ji(0,0,null,null,9,"div",[["class","snotifyToast__inner"]],null,null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,xA)),Io(2,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,MA)),Io(4,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,LA)),Io(6,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,FA)),Io(8,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Bi(0,[["elseBlock",2]],null,0,null,BA))],function(t,e){var n=e.component;t(e,2,0,n.toast.title),t(e,4,0,n.toast.body),t(e,6,0,n.toast.config.type===n.state.promptType),t(e,8,0,!n.toast.config.icon,go(e,9))},null)}function UA(t){return oa(0,[(t()(),ji(0,0,null,null,0,"div",[["class","snotifyToast__inner"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.toast.config.html)})}function VA(t){return oa(0,[(t()(),ji(0,0,null,null,1,"ng-snotify-button",[],null,null,null,GA,qA)),Io(1,49152,null,0,Rs,[Ss],{toast:[0,"toast"]},null)],function(t,e){t(e,1,0,e.component.toast)},null)}function zA(t){return oa(0,[Ro(0,Is,[]),(t()(),ji(1,0,null,null,11,"div",[],[[1,"role",0],[1,"aria-labelledby",0],[1,"aria-modal",0]],[[null,"animationend"],[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],function(t,e,n){var r=!0,i=t.component;return"animationend"===e&&(r=!1!==i.onExitTransitionEnd()&&r),"click"===e&&(r=!1!==i.onClick()&&r),"mouseenter"===e&&(r=!1!==i.onMouseEnter()&&r),"mouseleave"===e&&(r=!1!==i.onMouseLeave()&&r),r},null,null)),Io(2,278528,null,0,Su,[lr,cr,Nn,Dn],{ngClass:[0,"ngClass"]},null),Zo(3,4),Io(4,278528,null,0,xu,[cr,Nn,Dn],{ngStyle:[0,"ngStyle"]},null),ta(5,{"-webkit-transition":0,transition:1,"-webkit-animation-duration":2,"animation-duration":3}),(t()(),Bi(16777216,null,null,1,null,NA)),Io(7,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Bi(16777216,null,null,1,null,jA)),Io(9,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Bi(0,[["toastHTML",2]],null,0,null,UA)),(t()(),Bi(16777216,null,null,1,null,VA)),Io(12,16384,null,0,Iu,[qn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,t(e,3,0,"snotifyToast animated","snotify-"+n.toast.config.type,n.state.animation,void 0===n.toast.valid?"":n.toast.valid?"snotifyToast--valid":"snotifyToast--invalid")),t(e,4,0,t(e,5,0,n.toast.config.animation.time+"ms",n.toast.config.animation.time+"ms",n.toast.config.animation.time+"ms",n.toast.config.animation.time+"ms")),t(e,7,0,n.toast.config.showProgressBar),t(e,9,0,!n.toast.config.html,go(e,10)),t(e,12,0,n.toast.config.buttons)},function(t,e){var n=e.component;t(e,1,0,n.toast.config.type===n.state.promptType?"dialog":"alert","snotify_"+n.toast.id,n.toast.config.type===n.state.promptType)})}var qA=ui({encapsulation:2,styles:[],data:{}});function HA(t){return oa(0,[(t()(),ji(0,0,null,null,3,"button",[["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(t.context.$implicit.action?t.context.$implicit.action(i.toast):i.remove())&&r),r},null,null)),Io(1,278528,null,0,Su,[lr,cr,Nn,Dn],{ngClass:[0,"ngClass"]},null),ta(2,{"snotifyToast__buttons--bold":0}),(t()(),na(3,null,[" "," "]))],function(t,e){t(e,1,0,t(e,2,0,e.context.$implicit.bold))},function(t,e){t(e,3,0,e.context.$implicit.text)})}function GA(t){return oa(2,[(t()(),ji(0,0,null,null,2,"div",[["class","snotifyToast__buttons"]],null,null,null,null,null)),(t()(),Bi(16777216,null,null,1,null,HA)),Io(2,278528,null,0,Au,[qn,zn,lr],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.toast.config.buttons)},null)}var KA=ui({encapsulation:2,styles:[],data:{}});function WA(t){return oa(2,[Ro(0,Is,[]),(t()(),ji(1,0,null,null,7,"span",[["class","snotifyToast__input"]],null,null,null,null,null)),Io(2,278528,null,0,Su,[lr,cr,Nn,Dn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ta(3,{"snotifyToast__input--filled":0}),(t()(),ji(4,0,null,null,0,"input",[["autofocus",""],["class","snotifyToast__input__field"],["type","text"]],[[8,"id",0]],[[null,"input"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(i.toast.value=n.target.value,r=!1!==i.toast.eventEmitter.next("input")&&r),"focus"===e&&(r=0!=(i.isPromptFocused=!0)&&r),"blur"===e&&(r=0!=(i.isPromptFocused=!!i.toast.value.length)&&r),r},null,null)),(t()(),ji(5,0,null,null,3,"label",[["class","snotifyToast__input__label"]],[[8,"htmlFor",0]],null,null,null,null)),(t()(),ji(6,0,null,null,2,"span",[["class","snotifyToast__input__labelContent"]],null,null,null,null,null)),(t()(),na(7,null,["",""])),Jo(8,1)],function(t,e){t(e,2,0,"snotifyToast__input",t(e,3,0,e.component.isPromptFocused))},function(t,e){var n=e.component;t(e,4,0,n.toast.id),t(e,5,0,n.toast.id),t(e,7,0,oi(e,7,0,t(e,8,0,go(e,0),n.toast.config.placeholder)))})}class QA{constructor(){}ngOnInit(){}}var $A=ui({encapsulation:0,styles:[['body[_ngcontent-%COMP%]{margin:0;padding:0;background-color:#ccc}ul[_ngcontent-%COMP%]{position:absolute;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);margin-top:15px;padding:0;display:-webkit-inline-box}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin:0 13px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:22px;color:#262626;line-height:20px;transition:.5s}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;width:40px;height:20px;background-color:#f8e21f;text-align:center;-webkit-transform:perspective(100px) rotate(-30deg) skew(25deg) translate(0,0);transform:perspective(100px) rotate(-30deg) skew(25deg) translate(0,0);transition:.5s;box-shadow:-20px 20px 10px rgb(0,0,0,.5)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::before{content:"";position:absolute;top:10px;left:-20px;height:100%;width:20px;background:#ffc107;transition:.5s;-webkit-transform:rotate(0) skewY(-45deg);transform:rotate(0) skewY(-45deg)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::after{content:"";position:absolute;top:20px;left:-11px;height:20px;width:100%;background:#ffc107;transition:.5s;-webkit-transform:rotate(0) skewX(-45deg);transform:rotate(0) skewX(-45deg)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{-webkit-transform:perspective(1000px) rotate(-30deg) skew(25deg) translate(20px,-20px);transform:perspective(1000px) rotate(-30deg) skew(25deg) translate(20px,-20px);box-shadow:-50px 50px 50px rgb(0,0,0,.5)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .fa[_ngcontent-%COMP%]{color:#fff}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(1)   a[_ngcontent-%COMP%]{background:#3b5999}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(1)   a[_ngcontent-%COMP%]:before{background:#2e4a86}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(1)   a[_ngcontent-%COMP%]:after{background:#4a69ad}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(2)   a[_ngcontent-%COMP%]{background:#55acee}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(2)   a[_ngcontent-%COMP%]:before{background:#4184b7}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(2)   a[_ngcontent-%COMP%]:after{background:#4d9fde}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(3)   a[_ngcontent-%COMP%]{background:#dd4b39}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(3)   a[_ngcontent-%COMP%]:before{background:#c13929}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(3)   a[_ngcontent-%COMP%]:after{background:#e83322}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(4)   a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(4)   a[_ngcontent-%COMP%]:after, ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(4)   a[_ngcontent-%COMP%]:before{background:#0f0f0f}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(5)   a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(5)   a[_ngcontent-%COMP%]:after, ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:nth-child(5)   a[_ngcontent-%COMP%]:before{background:#fe0000}#footer[_ngcontent-%COMP%]{color:#fff;border-top:20px solid #fff;background-color:#c91d61;background:linear-gradient(20deg,#00f,#dc143c,purple);background-size:1000% 1000%!important;-webkit-animation:30s infinite changeColors;animation:30s infinite changeColors}@-webkit-keyframes changeColors{0%,100%{background-position:0 50%}50%{background-position:100% 50%}}.marginBottom[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}']],data:{}});function YA(t){return oa(0,[(t()(),ji(0,0,null,null,29,"footer",[["class","footer-nav"]],null,null,null,null,null)),(t()(),ji(1,0,null,null,15,"ul",[],null,null,null,null,null)),(t()(),ji(2,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),ji(3,0,null,null,1,"a",[["href","https://www.facebook.com/Awadallah81"],["target","_blank"]],null,null,null,null,null)),(t()(),ji(4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-facebook"]],null,null,null,null,null)),(t()(),ji(5,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),ji(6,0,null,null,1,"a",[["href","https://twitter.com/awadallah81"],["target","_blank"]],null,null,null,null,null)),(t()(),ji(7,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-twitter"]],null,null,null,null,null)),(t()(),ji(8,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),ji(9,0,null,null,1,"a",[["href","https://plus.google.com/+MohammedAwadallah"],["target","_blank"]],null,null,null,null,null)),(t()(),ji(10,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-google-plus"]],null,null,null,null,null)),(t()(),ji(11,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),ji(12,0,null,null,1,"a",[["href","https://github.com/agina"],["target","_blank"]],null,null,null,null,null)),(t()(),ji(13,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-github"]],null,null,null,null,null)),(t()(),ji(14,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),ji(15,0,null,null,1,"a",[["href","https://www.youtube.com/channel/UCsz4GTfZhkJsLEXqgJtUYvQ"],["target","_blank"]],null,null,null,null,null)),(t()(),ji(16,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-youtube-play"]],null,null,null,null,null)),(t()(),ji(17,0,null,null,12,"div",[["id","footer"]],null,null,null,null,null)),(t()(),ji(18,0,null,null,11,"div",[],null,null,null,null,null)),(t()(),ji(19,0,null,null,2,"div",[["class","col-md-12 mt-5 text-center"]],null,null,null,null,null)),(t()(),ji(20,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),na(-1,null,["All Right Reserved 2018"])),(t()(),ji(22,0,null,null,7,"div",[["class","col-md-12 text-center mt-2"]],null,null,null,null,null)),(t()(),ji(23,0,null,null,6,"h6",[["class","marginBottom"]],null,null,null,null,null)),(t()(),na(-1,null,["Developed with "])),(t()(),ji(25,0,null,null,1,"span",[["style","color: red;"]],null,null,null,null,null)),(t()(),na(-1,null,["\u2764"])),(t()(),na(-1,null,[" by "])),(t()(),ji(28,0,null,null,1,"a",[["class","nav-link"],["href","https://github.com/agina"],["style","color:white;"]],null,null,null,null,null)),(t()(),na(-1,null,["Eng.Muhammad Awadallah Agina"]))],null,null)}var XA=ui({encapsulation:0,styles:[[""]],data:{}});function JA(t){return oa(0,[(t()(),ji(0,0,null,null,1,"app-navbar",[],null,null,null,AA,wA)),Io(1,4308992,null,0,bA,[Dv,Xv,dp,Em],null,null),(t()(),ji(2,0,null,null,5,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),ji(3,0,null,null,1,"ng-snotify",[],null,null,null,PA,TA)),Io(4,245760,null,0,As,[Ss],null,null),(t()(),ji(5,0,null,null,2,"div",[["style","min-height:60ex"]],null,null,null,null,null)),(t()(),ji(6,16777216,null,null,1,"router-outlet",[["flexGrow","1"]],null,null,null,null,null)),Io(7,212992,null,0,bp,[_p,qn,Ye,[8,null],Hn],null,null),(t()(),ji(8,0,null,null,1,"app-footer",[],null,null,null,YA,$A)),Io(9,114688,null,0,QA,[],null,null)],function(t,e){t(e,1,0),t(e,4,0),t(e,7,0),t(e,9,0)},null)}var ZA=ro("app-root",Uv,function(t){return oa(0,[(t()(),ji(0,0,null,null,1,"app-root",[],null,null,null,JA,XA)),Io(1,8503296,null,0,Uv,[Em],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]);class tT{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}tT.ngInjectableDef=st({factory:function(){return new tT},token:tT,providedIn:"root"});const eT=new ut("mat-select-scroll-strategy");function nT(t){return()=>t.scrollStrategies.reposition()}class rT{}class iT{}class oT{}class aT{}var sT=function(t,e,n){return new class extends tn{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Ta)return;Ta=!0;const t=Cn()?{setCurrentNode:Ya,createRootView:Ra,createEmbeddedView:Pa,createComponentView:Da,createNgModuleRef:Na,overrideProvider:Fa,overrideComponentView:Ba,clearOverrides:ja,checkAndUpdateView:qa,checkNoChangesView:Ha,destroyView:Ga,createDebugContext:(t,e)=>new ss(t,e),handleEvent:Xa,updateDirectives:Ja,updateRenderer:Za}:{setCurrentNode:()=>{},createRootView:Ia,createEmbeddedView:ua,createComponentView:ca,createNgModuleRef:vo,overrideProvider:ni,overrideComponentView:ni,clearOverrides:ni,checkAndUpdateView:ga,checkNoChangesView:fa,destroyView:ba,createDebugContext:(t,e)=>new ss(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Va:za,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Va:za,t)};Jr.setCurrentNode=t.setCurrentNode,Jr.createRootView=t.createRootView,Jr.createEmbeddedView=t.createEmbeddedView,Jr.createComponentView=t.createComponentView,Jr.createNgModuleRef=t.createNgModuleRef,Jr.overrideProvider=t.overrideProvider,Jr.overrideComponentView=t.overrideComponentView,Jr.clearOverrides=t.clearOverrides,Jr.checkAndUpdateView=t.checkAndUpdateView,Jr.checkNoChangesView=t.checkNoChangesView,Jr.destroyView=t.destroyView,Jr.resolveDep=jo,Jr.createDebugContext=t.createDebugContext,Jr.handleEvent=t.handleEvent,Jr.updateDirectives=t.updateDirectives,Jr.updateRenderer=t.updateRenderer,Jr.dirtyParentQueries=Ko}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Ti(this._ngModuleDefFactory));return Jr.createNgModuleRef(this.moduleType,t||Bt.NULL,this._bootstrapComponents,e)}}(jv,[Uv],function(t){return function(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const o=t[i];o.token===Pe&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[ii(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([Qi(512,Ye,Xe,[[8,[u_,h_,m_,b_,R_,B_,_A,ZA]],[3,Ye],Ze]),Qi(5120,gr,vr,[[3,gr]]),Qi(4608,Cu,Eu,[gr,[2,wu]]),Qi(5120,Le,Fe,[]),Qi(5120,lr,yr,[]),Qi(5120,cr,mr,[]),Qi(4608,$c,Yc,[il]),Qi(6144,Hr,null,[$c]),Qi(4608,qc,Gc,[]),Qi(5120,mc,function(t,e,n,r,i,o,a,s){return[new class extends _c{constructor(t,e,n){super(t),this.ngZone=e,n&&sl(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Bc]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[Mc]||un.isInAngularZone()&&!Uc(e))t.addEventListener(e,r,!1);else{let n=Fc[e];n||(n=Fc[e]=xc("ANGULAR"+e+"FALSE"));let i=t[n];const o=i&&i.length>0;i||(i=t[n]=[]);const a=Uc(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:a,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:a,handler:r})}o||t[Mc](e,Vc,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[Lc];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);let i=Fc[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);let a=!1;for(let s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,Vc,!1]):t.removeEventListener.apply(t,[e,n,!1])}}(t,e,n),new Qc(r),new class extends _c{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!zc.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=(()=>{}));r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=(()=>{})}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded(function(){n(t)})};return i.on(e,o),()=>i.off(e,o)})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}(i,o,a,s)]},[il,un,Ue,il,il,qc,ze,[2,Hc]]),Qi(4608,vc,vc,[mc,un]),Qi(135680,wc,wc,[il]),Qi(4608,Ic,Ic,[vc,wc]),Qi(5120,qw,iS,[]),Qi(5120,HC,oS,[]),Qi(4608,AE,rS,[il,qw,HC]),Qi(5120,On,aS,[Ic,AE,un]),Qi(6144,bc,null,[wc]),Qi(4608,gn,gn,[un]),Qi(4608,Ey,Ey,[]),Qi(4608,vm,vm,[]),Qi(4608,Tm,Tm,[]),Qi(4608,Nm,xm,[]),Qi(5120,Mm,iv,[]),Qi(4608,Km,Km,[Tm,Nm,Mm]),Qi(4608,Wm,Qm,[]),Qi(5120,rv,ov,[Km,Wm]),Qi(4608,j_,QE,[On,uc]),Qi(4608,mS,mS,[]),Qi(4608,wk,wk,[hk,pk,Ye,_k,dk,Bt,un,il,Cw]),Qi(5120,Ck,Ek,[wk]),Qi(5120,eT,nT,[wk]),Qi(5120,Dk,Nk,[wk]),Qi(4608,Hb,Hb,[]),Qi(5120,Il,Rl,[Al,[2,Tl]]),Qi(4608,Ov,Ov,[Al,[2,Tl],[2,Av],[2,Tv],Ue,un]),Qi(4608,vf,vf,[Al,[2,Tl],[2,mf],Ue,un]),Qi(4608,fv,fv,[]),Qi(4608,gv,gv,[fv]),Qi(4608,lv,lv,[]),Qi(4608,mv,mv,[gv,lv]),Qi(4608,cv,cv,[lv]),Qi(4608,vv,vv,[cv,mv,lv]),Qi(5120,Ad,Fp,[dp]),Qi(4608,Sp,Sp,[]),Qi(6144,Cp,null,[Sp]),Qi(135680,kp,kp,[dp,xn,He,Bt,Cp]),Qi(4608,Ep,Ep,[]),Qi(5120,Ap,Dp,[dp,ul,Tp]),Qi(5120,Vp,Up,[Bp]),Qi(5120,Ve,function(t){return[t]},[Vp]),Qi(4608,Em,Em,[]),Qi(4608,Nv,Nv,[]),Qi(4608,sv,sv,[rv]),Qi(4608,Fv,Fv,[Nv]),Qi(4608,ff,ff,[Al,[2,Tl],[2,El],Ue,un]),Qi(4608,Zg,Zg,[vf,ff]),Qi(4608,Pl,Pl,[Al,[2,Tl],Ue,un]),Qi(4608,Ss,Ss,["SnotifyToastConfig"]),Qi(4608,Dv,Dv,[Pl,Ov,dp,Xv,Em]),Qi(4608,zp,zp,[Pl,dp]),Qi(1073742336,rl,rl,[]),Qi(1024,he,ih,[]),Qi(1024,En,function(){return[Op()]},[]),Qi(512,Bp,Bp,[Bt]),Qi(1024,xe,function(t,e){return[function(t){return fc("probe",yc),fc("coreTokens",Object.assign({},gc,(t||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>yc}(t),jp(e)]},[[2,En],Bp]),Qi(512,Me,Me,[[2,xe]]),Qi(131584,In,In,[un,ze,Bt,he,Ye,Me]),Qi(1073742336,_r,_r,[In]),Qi(1073742336,oh,oh,[[3,oh]]),Qi(1073742336,bm,bm,[]),Qi(1073742336,wm,wm,[]),Qi(1073742336,Cm,Cm,[]),Qi(1073742336,av,av,[]),Qi(1073742336,Ns,Ns,[]),Qi(1073742336,uS,uS,[]),Qi(1073742336,Ew,Ew,[]),Qi(1073742336,qb,qb,[[2,zb]]),Qi(1073742336,rb,rb,[]),Qi(1073742336,Jb,Jb,[]),Qi(1073742336,iT,iT,[]),Qi(1073742336,bS,bS,[]),Qi(1073742336,oT,oT,[]),Qi(1073742336,tw,tw,[]),Qi(1073742336,uw,uw,[]),Qi(1073742336,JS,JS,[]),Qi(1073742336,qS,qS,[]),Qi(1073742336,Sk,Sk,[]),Qi(1073742336,bw,bw,[]),Qi(1073742336,rT,rT,[]),Qi(1073742336,Mk,Mk,[]),Qi(1073742336,Bk,Bk,[]),Qi(1073742336,qk,qk,[]),Qi(1073742336,aT,aT,[]),Qi(1073742336,t_,t_,[]),Qi(1024,Ip,xp,[[3,dp]]),Qi(512,Qh,$h,[]),Qi(512,_p,_p,[]),Qi(256,Tp,{enableTracing:!0},[]),Qi(1024,Ys,Np,[Qs,[2,Xs],Tp]),Qi(512,Js,Js,[Ys]),Qi(512,He,He,[]),Qi(512,xn,Un,[He,[2,Bn]]),Qi(1024,op,function(){return[[{path:"login",component:Mv,canActivate:[Fv]},{path:"settings",component:Lv,canActivate:[zp]},{path:"employee/:id",component:ey,canActivate:[zp]},{path:"dashboard",component:ty,canActivate:[zp]},{path:"",component:ty,canActivate:[zp]},{path:"add-employee",component:bv,canActivate:[zp]},{path:"**",redirectTo:"#",pathMatch:"full"}]]},[]),Qi(1024,dp,Lp,[In,Qh,_p,Js,Bt,xn,He,op,Tp,[2,sp],[2,rp]]),Qi(1073742336,Pp,Pp,[[2,Ip],[2,dp]]),Qi(1073742336,Ol,Ol,[]),Qi(1073742336,Pv,Pv,[]),Qi(1073742336,Jg,Jg,[]),Qi(1073742336,yv,yv,[]),Qi(1073742336,_v,_v,[]),Qi(1073742336,jv,jv,[]),Qi(256,Pe,!0,[]),Qi(256,sS,"BrowserAnimations",[]),Qi(256,Al,{apiKey:"AIzaSyC_MHaJ5jVxw1zFx-Gq-BsEalQMTnmPLw8",authDomain:"employeesng.firebaseapp.com",databaseURL:"https://employeesng.firebaseio.com",projectId:"employeesng",storageBucket:"employeesng.appspot.com",messagingSenderId:"911287868"},[]),Qi(256,Tl,void 0,[]),Qi(256,sm,"never",[]),Qi(256,zv,{default:Zv,config:{timeOut:3e3,positionClass:"toast-top-center",preventDuplicates:!0,easeTime:400}},[]),Qi(256,"SnotifyToastConfig",Bv,[])])})}();(function(){if(bn)throw new Error("Cannot enable prod mode after platform setup.");_n=!1})(),rh().bootstrapModuleFactory(sT).catch(t=>console.log(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=(15&s)<<2|l>>6,h=63&l;u||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return u.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),d=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},p=Error.captureStackTrace,f=function(){return function(t,e){if(this.code=t,this.message=e,p)p(this,g.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.prototype.name="FirebaseError";var g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var o=new f(i,n=this.serviceName+": "+n+" ("+i+").");for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}();function y(t){return JSON.parse(t)}var m=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(l(o[0])||""),n=y(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},v=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},_=function(t,e){return v(e,function(e,n){t[e]=n}),t},b=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},w=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^s&(u^l),o=1518500249):(i=s^u^l,o=1859775393):r<60?(i=s&u|l&(s|u),o=2400959708):(i=s^u^l,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=l,l=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(function(){this.blockSize=-1}),C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}function S(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.assert=o,e.assertionError=a,e.base64=u,e.base64Decode=l,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.CONSTANTS=i,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=h,e.getUA=d,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=g,e.FirebaseError=f,e.patchCapture=function(t){var e=p;return p=t,e},e.jsonEval=y,e.stringify=function(t){return JSON.stringify(t)},e.decode=m,e.isAdmin=function(t){var e=m(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=m(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=m(t),n=e.claims;return!!e.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=m(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.clone=function(t){return _({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=_,e.findKey=b,e.findValue=function(t,e,n){var r=b(t,e,n);return r&&t[r]},e.forEach=v,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return v(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.Sha1=w,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new C(t,e);return n.subscribe.bind(n)},e.errorPrefix=S,e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(t,e,r)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}}},[[3,0]]]);